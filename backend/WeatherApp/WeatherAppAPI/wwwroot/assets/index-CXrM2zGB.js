(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Sw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pm={exports:{}},Rl={},mm={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ar=Symbol.for("react.element"),kw=Symbol.for("react.portal"),bw=Symbol.for("react.fragment"),Tw=Symbol.for("react.strict_mode"),Rw=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Nw=Symbol.for("react.forward_ref"),Ow=Symbol.for("react.suspense"),Dw=Symbol.for("react.memo"),Aw=Symbol.for("react.lazy"),Nh=Symbol.iterator;function Mw(t){return t===null||typeof t!="object"?null:(t=Nh&&t[Nh]||t["@@iterator"],typeof t=="function"?t:null)}var gm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ym=Object.assign,_m={};function ms(t,e,n){this.props=t,this.context=e,this.refs=_m,this.updater=n||gm}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vm(){}vm.prototype=ms.prototype;function Hc(t,e,n){this.props=t,this.context=e,this.refs=_m,this.updater=n||gm}var $c=Hc.prototype=new vm;$c.constructor=Hc;ym($c,ms.prototype);$c.isPureReactComponent=!0;var Oh=Array.isArray,wm=Object.prototype.hasOwnProperty,Wc={current:null},Cm={key:!0,ref:!0,__self:!0,__source:!0};function Em(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)wm.call(e,i)&&!Cm.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:Ar,type:t,key:r,ref:o,props:s,_owner:Wc.current}}function Lw(t,e){return{$$typeof:Ar,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Vc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ar}function Fw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dh=/\/+/g;function da(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fw(""+t.key):e.toString(36)}function vo(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ar:case kw:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+da(o,0):i,Oh(s)?(n="",t!=null&&(n=t.replace(Dh,"$&/")+"/"),vo(s,e,n,"",function(u){return u})):s!=null&&(Vc(s)&&(s=Lw(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dh,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",Oh(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+da(r,l);o+=vo(r,e,n,a,s)}else if(a=Mw(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+da(r,l++),o+=vo(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xr(t,e,n){if(t==null)return t;var i=[],s=0;return vo(t,i,"","",function(r){return e.call(n,r,s++)}),i}function zw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},wo={transition:null},Uw={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Wc};j.Children={map:Xr,forEach:function(t,e,n){Xr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xr(t,function(){e++}),e},toArray:function(t){return Xr(t,function(e){return e})||[]},only:function(t){if(!Vc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};j.Component=ms;j.Fragment=bw;j.Profiler=Rw;j.PureComponent=Hc;j.StrictMode=Tw;j.Suspense=Ow;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw;j.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ym({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Wc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)wm.call(e,a)&&!Cm.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:Ar,type:t.type,key:s,ref:r,props:i,_owner:o}};j.createContext=function(t){return t={$$typeof:Pw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Iw,_context:t},t.Consumer=t};j.createElement=Em;j.createFactory=function(t){var e=Em.bind(null,t);return e.type=t,e};j.createRef=function(){return{current:null}};j.forwardRef=function(t){return{$$typeof:Nw,render:t}};j.isValidElement=Vc;j.lazy=function(t){return{$$typeof:Aw,_payload:{_status:-1,_result:t},_init:zw}};j.memo=function(t,e){return{$$typeof:Dw,type:t,compare:e===void 0?null:e}};j.startTransition=function(t){var e=wo.transition;wo.transition={};try{t()}finally{wo.transition=e}};j.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};j.useCallback=function(t,e){return Ge.current.useCallback(t,e)};j.useContext=function(t){return Ge.current.useContext(t)};j.useDebugValue=function(){};j.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};j.useEffect=function(t,e){return Ge.current.useEffect(t,e)};j.useId=function(){return Ge.current.useId()};j.useImperativeHandle=function(t,e,n){return Ge.current.useImperativeHandle(t,e,n)};j.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};j.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};j.useMemo=function(t,e){return Ge.current.useMemo(t,e)};j.useReducer=function(t,e,n){return Ge.current.useReducer(t,e,n)};j.useRef=function(t){return Ge.current.useRef(t)};j.useState=function(t){return Ge.current.useState(t)};j.useSyncExternalStore=function(t,e,n){return Ge.current.useSyncExternalStore(t,e,n)};j.useTransition=function(){return Ge.current.useTransition()};j.version="18.2.0";mm.exports=j;var me=mm.exports;const Ah=Sw(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bw=me,jw=Symbol.for("react.element"),Hw=Symbol.for("react.fragment"),$w=Object.prototype.hasOwnProperty,Ww=Bw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vw={key:!0,ref:!0,__self:!0,__source:!0};function xm(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)$w.call(e,i)&&!Vw.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:jw,type:t,key:r,ref:o,props:s,_owner:Ww.current}}Rl.Fragment=Hw;Rl.jsx=xm;Rl.jsxs=xm;pm.exports=Rl;var w=pm.exports,_u={},Sm={exports:{}},ft={},km={exports:{}},bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,M){var F=P.length;P.push(M);e:for(;0<F;){var he=F-1>>>1,we=P[he];if(0<s(we,M))P[he]=M,P[F]=we,F=he;else break e}}function n(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var M=P[0],F=P.pop();if(F!==M){P[0]=F;e:for(var he=0,we=P.length,Yr=we>>>1;he<Yr;){var Gn=2*(he+1)-1,ca=P[Gn],Qn=Gn+1,Kr=P[Qn];if(0>s(ca,F))Qn<we&&0>s(Kr,ca)?(P[he]=Kr,P[Qn]=F,he=Qn):(P[he]=ca,P[Gn]=F,he=Gn);else if(Qn<we&&0>s(Kr,F))P[he]=Kr,P[Qn]=F,he=Qn;else break e}}return M}function s(P,M){var F=P.sortIndex-M.sortIndex;return F!==0?F:P.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,h=3,f=!1,g=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(P){for(var M=n(u);M!==null;){if(M.callback===null)i(u);else if(M.startTime<=P)i(u),M.sortIndex=M.expirationTime,e(a,M);else break;M=n(u)}}function v(P){if(y=!1,_(P),!g)if(n(a)!==null)g=!0,mn(k);else{var M=n(u);M!==null&&ua(v,M.startTime-P)}}function k(P,M){g=!1,y&&(y=!1,p(R),R=-1),f=!0;var F=h;try{for(_(M),c=n(a);c!==null&&(!(c.expirationTime>M)||P&&!Re());){var he=c.callback;if(typeof he=="function"){c.callback=null,h=c.priorityLevel;var we=he(c.expirationTime<=M);M=t.unstable_now(),typeof we=="function"?c.callback=we:c===n(a)&&i(a),_(M)}else i(a);c=n(a)}if(c!==null)var Yr=!0;else{var Gn=n(u);Gn!==null&&ua(v,Gn.startTime-M),Yr=!1}return Yr}finally{c=null,h=F,f=!1}}var T=!1,b=null,R=-1,H=5,A=-1;function Re(){return!(t.unstable_now()-A<H)}function D(){if(b!==null){var P=t.unstable_now();A=P;var M=!0;try{M=b(!0,P)}finally{M?V():(T=!1,b=null)}}else T=!1}var V;if(typeof m=="function")V=function(){m(D)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,He=De.port2;De.port1.onmessage=D,V=function(){He.postMessage(null)}}else V=function(){C(D,0)};function mn(P){b=P,T||(T=!0,V())}function ua(P,M){R=C(function(){P(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,mn(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var F=h;h=M;try{return P()}finally{h=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,M){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return M()}finally{h=F}},t.unstable_scheduleCallback=function(P,M,F){var he=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?he+F:he):F=he,P){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=F+we,P={id:d++,callback:M,priorityLevel:P,startTime:F,expirationTime:we,sortIndex:-1},F>he?(P.sortIndex=F,e(u,P),n(a)===null&&P===n(u)&&(y?(p(R),R=-1):y=!0,ua(v,F-he))):(P.sortIndex=we,e(a,P),g||f||(g=!0,mn(k))),P},t.unstable_shouldYield=Re,t.unstable_wrapCallback=function(P){var M=h;return function(){var F=h;h=M;try{return P.apply(this,arguments)}finally{h=F}}}})(bm);km.exports=bm;var qw=km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm=me,ht=qw;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rm=new Set,ir={};function Ci(t,e){es(t,e),es(t+"Capture",e)}function es(t,e){for(ir[t]=e,t=0;t<e.length;t++)Rm.add(e[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,Gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh={},Lh={};function Qw(t){return vu.call(Lh,t)?!0:vu.call(Mh,t)?!1:Gw.test(t)?Lh[t]=!0:(Mh[t]=!0,!1)}function Yw(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Kw(t,e,n,i){if(e===null||typeof e>"u"||Yw(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ne[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ne[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ne[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ne[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ne[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ne[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ne[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ne[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ne[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var qc=/[\-:]([a-z])/g;function Gc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qc,Gc);Ne[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qc,Gc);Ne[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qc,Gc);Ne[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ne[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ne[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Qc(t,e,n,i){var s=Ne.hasOwnProperty(e)?Ne[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Kw(e,n,s,i)&&(n=null),i||s===null?Qw(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var dn=Tm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),Ri=Symbol.for("react.portal"),Ii=Symbol.for("react.fragment"),Yc=Symbol.for("react.strict_mode"),wu=Symbol.for("react.profiler"),Im=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Kc=Symbol.for("react.forward_ref"),Cu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),Nm=Symbol.for("react.offscreen"),Fh=Symbol.iterator;function xs(t){return t===null||typeof t!="object"?null:(t=Fh&&t[Fh]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,ha;function Fs(t){if(ha===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ha=e&&e[1]||""}return`
`+ha+t}var fa=!1;function pa(t,e){if(!t||fa)return"";fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{fa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fs(t):""}function Xw(t){switch(t.tag){case 5:return Fs(t.type);case 16:return Fs("Lazy");case 13:return Fs("Suspense");case 19:return Fs("SuspenseList");case 0:case 2:case 15:return t=pa(t.type,!1),t;case 11:return t=pa(t.type.render,!1),t;case 1:return t=pa(t.type,!0),t;default:return""}}function xu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ii:return"Fragment";case Ri:return"Portal";case wu:return"Profiler";case Yc:return"StrictMode";case Cu:return"Suspense";case Eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pm:return(t.displayName||"Context")+".Consumer";case Im:return(t._context.displayName||"Context")+".Provider";case Kc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xc:return e=t.displayName||null,e!==null?e:xu(t.type)||"Memo";case _n:e=t._payload,t=t._init;try{return xu(t(e))}catch{}}return null}function Jw(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xu(e);case 8:return e===Yc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zw(t){var e=Om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zr(t){t._valueTracker||(t._valueTracker=Zw(t))}function Dm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Om(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Lo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zh(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Am(t,e){e=e.checked,e!=null&&Qc(t,"checked",e,!1)}function ku(t,e){Am(t,e);var n=Un(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bu(t,e.type,n):e.hasOwnProperty("defaultValue")&&bu(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Uh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function bu(t,e,n){(e!=="number"||Lo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zs=Array.isArray;function Wi(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(zs(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function Mm(t,e){var n=Un(e.value),i=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function jh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ru(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eo,Fm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e0=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){e0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function zm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function Um(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=zm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var t0=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(t,e){if(e){if(t0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function Pu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=null;function Jc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ou=null,Vi=null,qi=null;function Hh(t){if(t=Fr(t)){if(typeof Ou!="function")throw Error(x(280));var e=t.stateNode;e&&(e=Dl(e),Ou(t.stateNode,t.type,e))}}function Bm(t){Vi?qi?qi.push(t):qi=[t]:Vi=t}function jm(){if(Vi){var t=Vi,e=qi;if(qi=Vi=null,Hh(t),e)for(t=0;t<e.length;t++)Hh(e[t])}}function Hm(t,e){return t(e)}function $m(){}var ma=!1;function Wm(t,e,n){if(ma)return t(e,n);ma=!0;try{return Hm(t,e,n)}finally{ma=!1,(Vi!==null||qi!==null)&&($m(),jm())}}function rr(t,e){var n=t.stateNode;if(n===null)return null;var i=Dl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var Du=!1;if(on)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Du=!1}function n0(t,e,n,i,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Hs=!1,Fo=null,zo=!1,Au=null,i0={onError:function(t){Hs=!0,Fo=t}};function s0(t,e,n,i,s,r,o,l,a){Hs=!1,Fo=null,n0.apply(i0,arguments)}function r0(t,e,n,i,s,r,o,l,a){if(s0.apply(this,arguments),Hs){if(Hs){var u=Fo;Hs=!1,Fo=null}else throw Error(x(198));zo||(zo=!0,Au=u)}}function Ei(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $h(t){if(Ei(t)!==t)throw Error(x(188))}function o0(t){var e=t.alternate;if(!e){if(e=Ei(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return $h(s),t;if(r===i)return $h(s),e;r=r.sibling}throw Error(x(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(x(189))}}if(n.alternate!==i)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function qm(t){return t=o0(t),t!==null?Gm(t):null}function Gm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gm(t);if(e!==null)return e;t=t.sibling}return null}var Qm=ht.unstable_scheduleCallback,Wh=ht.unstable_cancelCallback,l0=ht.unstable_shouldYield,a0=ht.unstable_requestPaint,fe=ht.unstable_now,u0=ht.unstable_getCurrentPriorityLevel,Zc=ht.unstable_ImmediatePriority,Ym=ht.unstable_UserBlockingPriority,Uo=ht.unstable_NormalPriority,c0=ht.unstable_LowPriority,Km=ht.unstable_IdlePriority,Il=null,Vt=null;function d0(t){if(Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(Il,t,void 0,(t.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:p0,h0=Math.log,f0=Math.LN2;function p0(t){return t>>>=0,t===0?32:31-(h0(t)/f0|0)|0}var to=64,no=4194304;function Us(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=Us(l):(r&=o,r!==0&&(i=Us(r)))}else o=n&~s,o!==0?i=Us(o):r!==0&&(i=Us(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Nt(e),s=1<<n,i|=t[n],e&=~s;return i}function m0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-Nt(r),l=1<<o,a=s[o];a===-1?(!(l&n)||l&i)&&(s[o]=m0(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function Mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Xm(){var t=to;return to<<=1,!(to&4194240)&&(to=64),t}function ga(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Nt(e),t[e]=n}function y0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Nt(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function ed(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Nt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var G=0;function Jm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zm,td,eg,tg,ng,Lu=!1,io=[],bn=null,Tn=null,Rn=null,or=new Map,lr=new Map,wn=[],_0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vh(t,e){switch(t){case"focusin":case"focusout":bn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":or.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(e.pointerId)}}function ks(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Fr(e),e!==null&&td(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function v0(t,e,n,i,s){switch(e){case"focusin":return bn=ks(bn,t,e,n,i,s),!0;case"dragenter":return Tn=ks(Tn,t,e,n,i,s),!0;case"mouseover":return Rn=ks(Rn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return or.set(r,ks(or.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,lr.set(r,ks(lr.get(r)||null,t,e,n,i,s)),!0}return!1}function ig(t){var e=Zn(t.target);if(e!==null){var n=Ei(e);if(n!==null){if(e=n.tag,e===13){if(e=Vm(n),e!==null){t.blockedOn=e,ng(t.priority,function(){eg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Co(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Nu=i,n.target.dispatchEvent(i),Nu=null}else return e=Fr(n),e!==null&&td(e),t.blockedOn=n,!1;e.shift()}return!0}function qh(t,e,n){Co(t)&&n.delete(e)}function w0(){Lu=!1,bn!==null&&Co(bn)&&(bn=null),Tn!==null&&Co(Tn)&&(Tn=null),Rn!==null&&Co(Rn)&&(Rn=null),or.forEach(qh),lr.forEach(qh)}function bs(t,e){t.blockedOn===e&&(t.blockedOn=null,Lu||(Lu=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,w0)))}function ar(t){function e(s){return bs(s,t)}if(0<io.length){bs(io[0],t);for(var n=1;n<io.length;n++){var i=io[n];i.blockedOn===t&&(i.blockedOn=null)}}for(bn!==null&&bs(bn,t),Tn!==null&&bs(Tn,t),Rn!==null&&bs(Rn,t),or.forEach(e),lr.forEach(e),n=0;n<wn.length;n++)i=wn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<wn.length&&(n=wn[0],n.blockedOn===null);)ig(n),n.blockedOn===null&&wn.shift()}var Gi=dn.ReactCurrentBatchConfig,jo=!0;function C0(t,e,n,i){var s=G,r=Gi.transition;Gi.transition=null;try{G=1,nd(t,e,n,i)}finally{G=s,Gi.transition=r}}function E0(t,e,n,i){var s=G,r=Gi.transition;Gi.transition=null;try{G=4,nd(t,e,n,i)}finally{G=s,Gi.transition=r}}function nd(t,e,n,i){if(jo){var s=Fu(t,e,n,i);if(s===null)ba(t,e,i,Ho,n),Vh(t,i);else if(v0(s,t,e,n,i))i.stopPropagation();else if(Vh(t,i),e&4&&-1<_0.indexOf(t)){for(;s!==null;){var r=Fr(s);if(r!==null&&Zm(r),r=Fu(t,e,n,i),r===null&&ba(t,e,i,Ho,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else ba(t,e,i,null,n)}}var Ho=null;function Fu(t,e,n,i){if(Ho=null,t=Jc(i),t=Zn(t),t!==null)if(e=Ei(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ho=t,null}function sg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u0()){case Zc:return 1;case Ym:return 4;case Uo:case c0:return 16;case Km:return 536870912;default:return 16}default:return 16}}var xn=null,id=null,Eo=null;function rg(){if(Eo)return Eo;var t,e=id,n=e.length,i,s="value"in xn?xn.value:xn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return Eo=s.slice(t,1<i?1-i:void 0)}function xo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function so(){return!0}function Gh(){return!1}function pt(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?so:Gh,this.isPropagationStopped=Gh,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=pt(gs),Lr=le({},gs,{view:0,detail:0}),x0=pt(Lr),ya,_a,Ts,Pl=le({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ts&&(Ts&&t.type==="mousemove"?(ya=t.screenX-Ts.screenX,_a=t.screenY-Ts.screenY):_a=ya=0,Ts=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Qh=pt(Pl),S0=le({},Pl,{dataTransfer:0}),k0=pt(S0),b0=le({},Lr,{relatedTarget:0}),va=pt(b0),T0=le({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),R0=pt(T0),I0=le({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),P0=pt(I0),N0=le({},gs,{data:0}),Yh=pt(N0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=A0[t])?!!e[t]:!1}function rd(){return M0}var L0=le({},Lr,{key:function(t){if(t.key){var e=O0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rd,charCode:function(t){return t.type==="keypress"?xo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F0=pt(L0),z0=le({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=pt(z0),U0=le({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rd}),B0=pt(U0),j0=le({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=pt(j0),$0=le({},Pl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),W0=pt($0),V0=[9,13,27,32],od=on&&"CompositionEvent"in window,$s=null;on&&"documentMode"in document&&($s=document.documentMode);var q0=on&&"TextEvent"in window&&!$s,og=on&&(!od||$s&&8<$s&&11>=$s),Xh=" ",Jh=!1;function lg(t,e){switch(t){case"keyup":return V0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ag(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pi=!1;function G0(t,e){switch(t){case"compositionend":return ag(e);case"keypress":return e.which!==32?null:(Jh=!0,Xh);case"textInput":return t=e.data,t===Xh&&Jh?null:t;default:return null}}function Q0(t,e){if(Pi)return t==="compositionend"||!od&&lg(t,e)?(t=rg(),Eo=id=xn=null,Pi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return og&&e.locale!=="ko"?null:e.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Y0[t.type]:e==="textarea"}function ug(t,e,n,i){Bm(i),e=$o(e,"onChange"),0<e.length&&(n=new sd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ws=null,ur=null;function K0(t){wg(t,0)}function Nl(t){var e=Di(t);if(Dm(e))return t}function X0(t,e){if(t==="change")return e}var cg=!1;if(on){var wa;if(on){var Ca="oninput"in document;if(!Ca){var ef=document.createElement("div");ef.setAttribute("oninput","return;"),Ca=typeof ef.oninput=="function"}wa=Ca}else wa=!1;cg=wa&&(!document.documentMode||9<document.documentMode)}function tf(){Ws&&(Ws.detachEvent("onpropertychange",dg),ur=Ws=null)}function dg(t){if(t.propertyName==="value"&&Nl(ur)){var e=[];ug(e,ur,t,Jc(t)),Wm(K0,e)}}function J0(t,e,n){t==="focusin"?(tf(),Ws=e,ur=n,Ws.attachEvent("onpropertychange",dg)):t==="focusout"&&tf()}function Z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nl(ur)}function eC(t,e){if(t==="click")return Nl(e)}function tC(t,e){if(t==="input"||t==="change")return Nl(e)}function nC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ft=typeof Object.is=="function"?Object.is:nC;function cr(t,e){if(Ft(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!vu.call(e,s)||!Ft(t[s],e[s]))return!1}return!0}function nf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,e){var n=nf(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nf(n)}}function hg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fg(){for(var t=window,e=Lo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Lo(t.document)}return e}function ld(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iC(t){var e=fg(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hg(n.ownerDocument.documentElement,n)){if(i!==null&&ld(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=sf(n,r);var o=sf(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sC=on&&"documentMode"in document&&11>=document.documentMode,Ni=null,zu=null,Vs=null,Uu=!1;function rf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uu||Ni==null||Ni!==Lo(i)||(i=Ni,"selectionStart"in i&&ld(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vs&&cr(Vs,i)||(Vs=i,i=$o(zu,"onSelect"),0<i.length&&(e=new sd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ni)))}function ro(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oi={animationend:ro("Animation","AnimationEnd"),animationiteration:ro("Animation","AnimationIteration"),animationstart:ro("Animation","AnimationStart"),transitionend:ro("Transition","TransitionEnd")},Ea={},pg={};on&&(pg=document.createElement("div").style,"AnimationEvent"in window||(delete Oi.animationend.animation,delete Oi.animationiteration.animation,delete Oi.animationstart.animation),"TransitionEvent"in window||delete Oi.transitionend.transition);function Ol(t){if(Ea[t])return Ea[t];if(!Oi[t])return t;var e=Oi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in pg)return Ea[t]=e[n];return t}var mg=Ol("animationend"),gg=Ol("animationiteration"),yg=Ol("animationstart"),_g=Ol("transitionend"),vg=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $n(t,e){vg.set(t,e),Ci(e,[t])}for(var xa=0;xa<of.length;xa++){var Sa=of[xa],rC=Sa.toLowerCase(),oC=Sa[0].toUpperCase()+Sa.slice(1);$n(rC,"on"+oC)}$n(mg,"onAnimationEnd");$n(gg,"onAnimationIteration");$n(yg,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(_g,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bs));function lf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,r0(i,e,void 0,t),t.currentTarget=null}function wg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;lf(s,l,u),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;lf(s,l,u),r=a}}}if(zo)throw t=Au,zo=!1,Au=null,t}function J(t,e){var n=e[Wu];n===void 0&&(n=e[Wu]=new Set);var i=t+"__bubble";n.has(i)||(Cg(e,t,2,!1),n.add(i))}function ka(t,e,n){var i=0;e&&(i|=4),Cg(n,t,i,e)}var oo="_reactListening"+Math.random().toString(36).slice(2);function dr(t){if(!t[oo]){t[oo]=!0,Rm.forEach(function(n){n!=="selectionchange"&&(lC.has(n)||ka(n,!1,t),ka(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[oo]||(e[oo]=!0,ka("selectionchange",!1,e))}}function Cg(t,e,n,i){switch(sg(e)){case 1:var s=C0;break;case 4:s=E0;break;default:s=nd}n=s.bind(null,e,n,t),s=void 0,!Du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ba(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Zn(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}Wm(function(){var u=r,d=Jc(n),c=[];e:{var h=vg.get(t);if(h!==void 0){var f=sd,g=t;switch(t){case"keypress":if(xo(n)===0)break e;case"keydown":case"keyup":f=F0;break;case"focusin":g="focus",f=va;break;case"focusout":g="blur",f=va;break;case"beforeblur":case"afterblur":f=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=k0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=B0;break;case mg:case gg:case yg:f=R0;break;case _g:f=H0;break;case"scroll":f=x0;break;case"wheel":f=W0;break;case"copy":case"cut":case"paste":f=P0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Kh}var y=(e&4)!==0,C=!y&&t==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,_;m!==null;){_=m;var v=_.stateNode;if(_.tag===5&&v!==null&&(_=v,p!==null&&(v=rr(m,p),v!=null&&y.push(hr(m,v,_)))),C)break;m=m.return}0<y.length&&(h=new f(h,g,null,n,d),c.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Nu&&(g=n.relatedTarget||n.fromElement)&&(Zn(g)||g[ln]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Zn(g):null,g!==null&&(C=Ei(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(y=Qh,v="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Kh,v="onPointerLeave",p="onPointerEnter",m="pointer"),C=f==null?h:Di(f),_=g==null?h:Di(g),h=new y(v,m+"leave",f,n,d),h.target=C,h.relatedTarget=_,v=null,Zn(d)===u&&(y=new y(p,m+"enter",g,n,d),y.target=_,y.relatedTarget=C,v=y),C=v,f&&g)t:{for(y=f,p=g,m=0,_=y;_;_=ki(_))m++;for(_=0,v=p;v;v=ki(v))_++;for(;0<m-_;)y=ki(y),m--;for(;0<_-m;)p=ki(p),_--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=ki(y),p=ki(p)}y=null}else y=null;f!==null&&af(c,h,f,y,!1),g!==null&&C!==null&&af(c,C,g,y,!0)}}e:{if(h=u?Di(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var k=X0;else if(Zh(h))if(cg)k=tC;else{k=Z0;var T=J0}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=eC);if(k&&(k=k(t,u))){ug(c,k,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&bu(h,"number",h.value)}switch(T=u?Di(u):window,t){case"focusin":(Zh(T)||T.contentEditable==="true")&&(Ni=T,zu=u,Vs=null);break;case"focusout":Vs=zu=Ni=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,rf(c,n,d);break;case"selectionchange":if(sC)break;case"keydown":case"keyup":rf(c,n,d)}var b;if(od)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Pi?lg(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(og&&n.locale!=="ko"&&(Pi||R!=="onCompositionStart"?R==="onCompositionEnd"&&Pi&&(b=rg()):(xn=d,id="value"in xn?xn.value:xn.textContent,Pi=!0)),T=$o(u,R),0<T.length&&(R=new Yh(R,t,null,n,d),c.push({event:R,listeners:T}),b?R.data=b:(b=ag(n),b!==null&&(R.data=b)))),(b=q0?G0(t,n):Q0(t,n))&&(u=$o(u,"onBeforeInput"),0<u.length&&(d=new Yh("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=b))}wg(c,e)})}function hr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $o(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=rr(t,n),r!=null&&i.unshift(hr(t,r,s)),r=rr(t,e),r!=null&&i.push(hr(t,r,s))),t=t.return}return i}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function af(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,s?(a=rr(n,r),a!=null&&o.unshift(hr(n,a,l))):s||(a=rr(n,r),a!=null&&o.push(hr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var aC=/\r\n?/g,uC=/\u0000|\uFFFD/g;function uf(t){return(typeof t=="string"?t:""+t).replace(aC,`
`).replace(uC,"")}function lo(t,e,n){if(e=uf(e),uf(t)!==e&&n)throw Error(x(425))}function Wo(){}var Bu=null,ju=null;function Hu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $u=typeof setTimeout=="function"?setTimeout:void 0,cC=typeof clearTimeout=="function"?clearTimeout:void 0,cf=typeof Promise=="function"?Promise:void 0,dC=typeof queueMicrotask=="function"?queueMicrotask:typeof cf<"u"?function(t){return cf.resolve(null).then(t).catch(hC)}:$u;function hC(t){setTimeout(function(){throw t})}function Ta(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ar(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ar(e)}function In(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Ht="__reactFiber$"+ys,fr="__reactProps$"+ys,ln="__reactContainer$"+ys,Wu="__reactEvents$"+ys,fC="__reactListeners$"+ys,pC="__reactHandles$"+ys;function Zn(t){var e=t[Ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ln]||n[Ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=df(t);t!==null;){if(n=t[Ht])return n;t=df(t)}return e}t=n,n=t.parentNode}return null}function Fr(t){return t=t[Ht]||t[ln],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Di(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function Dl(t){return t[fr]||null}var Vu=[],Ai=-1;function Wn(t){return{current:t}}function ee(t){0>Ai||(t.current=Vu[Ai],Vu[Ai]=null,Ai--)}function X(t,e){Ai++,Vu[Ai]=t.current,t.current=e}var Bn={},je=Wn(Bn),et=Wn(!1),li=Bn;function ts(t,e){var n=t.type.contextTypes;if(!n)return Bn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function tt(t){return t=t.childContextTypes,t!=null}function Vo(){ee(et),ee(je)}function hf(t,e,n){if(je.current!==Bn)throw Error(x(168));X(je,e),X(et,n)}function Eg(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(x(108,Jw(t)||"Unknown",s));return le({},n,i)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bn,li=je.current,X(je,t),X(et,et.current),!0}function ff(t,e,n){var i=t.stateNode;if(!i)throw Error(x(169));n?(t=Eg(t,e,li),i.__reactInternalMemoizedMergedChildContext=t,ee(et),ee(je),X(je,t)):ee(et),X(et,n)}var Kt=null,Al=!1,Ra=!1;function xg(t){Kt===null?Kt=[t]:Kt.push(t)}function mC(t){Al=!0,xg(t)}function Vn(){if(!Ra&&Kt!==null){Ra=!0;var t=0,e=G;try{var n=Kt;for(G=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Kt=null,Al=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(t+1)),Qm(Zc,Vn),s}finally{G=e,Ra=!1}}return null}var Mi=[],Li=0,Go=null,Qo=0,gt=[],yt=0,ai=null,Xt=1,Jt="";function Yn(t,e){Mi[Li++]=Qo,Mi[Li++]=Go,Go=t,Qo=e}function Sg(t,e,n){gt[yt++]=Xt,gt[yt++]=Jt,gt[yt++]=ai,ai=t;var i=Xt;t=Jt;var s=32-Nt(i)-1;i&=~(1<<s),n+=1;var r=32-Nt(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Xt=1<<32-Nt(e)+s|n<<s|i,Jt=r+t}else Xt=1<<r|n<<s|i,Jt=t}function ad(t){t.return!==null&&(Yn(t,1),Sg(t,1,0))}function ud(t){for(;t===Go;)Go=Mi[--Li],Mi[Li]=null,Qo=Mi[--Li],Mi[Li]=null;for(;t===ai;)ai=gt[--yt],gt[yt]=null,Jt=gt[--yt],gt[yt]=null,Xt=gt[--yt],gt[yt]=null}var at=null,ot=null,ne=!1,Tt=null;function kg(t,e){var n=_t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,at=t,ot=In(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,at=t,ot=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ai!==null?{id:Xt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,at=t,ot=null,!0):!1;default:return!1}}function qu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gu(t){if(ne){var e=ot;if(e){var n=e;if(!pf(t,e)){if(qu(t))throw Error(x(418));e=In(n.nextSibling);var i=at;e&&pf(t,e)?kg(i,n):(t.flags=t.flags&-4097|2,ne=!1,at=t)}}else{if(qu(t))throw Error(x(418));t.flags=t.flags&-4097|2,ne=!1,at=t}}}function mf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;at=t}function ao(t){if(t!==at)return!1;if(!ne)return mf(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hu(t.type,t.memoizedProps)),e&&(e=ot)){if(qu(t))throw bg(),Error(x(418));for(;e;)kg(t,e),e=In(e.nextSibling)}if(mf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ot=In(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ot=null}}else ot=at?In(t.stateNode.nextSibling):null;return!0}function bg(){for(var t=ot;t;)t=In(t.nextSibling)}function ns(){ot=at=null,ne=!1}function cd(t){Tt===null?Tt=[t]:Tt.push(t)}var gC=dn.ReactCurrentBatchConfig;function kt(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Yo=Wn(null),Ko=null,Fi=null,dd=null;function hd(){dd=Fi=Ko=null}function fd(t){var e=Yo.current;ee(Yo),t._currentValue=e}function Qu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){Ko=t,dd=Fi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function Ct(t){var e=t._currentValue;if(dd!==t)if(t={context:t,memoizedValue:e,next:null},Fi===null){if(Ko===null)throw Error(x(308));Fi=t,Ko.dependencies={lanes:0,firstContext:t}}else Fi=Fi.next=t;return e}var ei=null;function pd(t){ei===null?ei=[t]:ei.push(t)}function Tg(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,pd(e)):(n.next=s.next,s.next=n),e.interleaved=n,an(t,i)}function an(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var vn=!1;function md(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function en(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Pn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,W&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,an(t,n)}return s=i.interleaved,s===null?(e.next=e,pd(i)):(e.next=s.next,s.next=e),i.interleaved=e,an(t,n)}function So(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ed(t,n)}}function gf(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xo(t,e,n,i){var s=t.updateQueue;vn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;o=0,d=u=a=null,l=r;do{var h=l.lane,f=l.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(h=e,f=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){c=g.call(f,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(f,c,h):g,h==null)break e;c=le({},c,h);break e;case 2:vn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,a=c):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);ci|=o,t.lanes=o,t.memoizedState=c}}function yf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(x(191,s));s.call(i)}}}var Ig=new Tm.Component().refs;function Yu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ml={isMounted:function(t){return(t=t._reactInternals)?Ei(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ve(),s=On(t),r=en(i,s);r.payload=e,n!=null&&(r.callback=n),e=Pn(t,r,s),e!==null&&(Ot(e,t,s,i),So(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ve(),s=On(t),r=en(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Pn(t,r,s),e!==null&&(Ot(e,t,s,i),So(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),i=On(t),s=en(n,i);s.tag=2,e!=null&&(s.callback=e),e=Pn(t,s,i),e!==null&&(Ot(e,t,i,n),So(e,t,i))}};function _f(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!cr(n,i)||!cr(s,r):!0}function Pg(t,e,n){var i=!1,s=Bn,r=e.contextType;return typeof r=="object"&&r!==null?r=Ct(r):(s=tt(e)?li:je.current,i=e.contextTypes,r=(i=i!=null)?ts(t,s):Bn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ml,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function vf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ml.enqueueReplaceState(e,e.state,null)}function Ku(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Ig,md(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Ct(r):(r=tt(e)?li:je.current,s.context=ts(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Yu(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ml.enqueueReplaceState(s,s.state,null),Xo(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var i=n.stateNode}if(!i)throw Error(x(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;l===Ig&&(l=s.refs={}),o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function uo(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wf(t){var e=t._init;return e(t._payload)}function Ng(t){function e(p,m){if(t){var _=p.deletions;_===null?(p.deletions=[m],p.flags|=16):_.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function i(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Dn(p,m),p.index=0,p.sibling=null,p}function r(p,m,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<m?(p.flags|=2,m):_):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,_,v){return m===null||m.tag!==6?(m=Ma(_,p.mode,v),m.return=p,m):(m=s(m,_),m.return=p,m)}function a(p,m,_,v){var k=_.type;return k===Ii?d(p,m,_.props.children,v,_.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_n&&wf(k)===m.type)?(v=s(m,_.props),v.ref=Rs(p,m,_),v.return=p,v):(v=Po(_.type,_.key,_.props,null,p.mode,v),v.ref=Rs(p,m,_),v.return=p,v)}function u(p,m,_,v){return m===null||m.tag!==4||m.stateNode.containerInfo!==_.containerInfo||m.stateNode.implementation!==_.implementation?(m=La(_,p.mode,v),m.return=p,m):(m=s(m,_.children||[]),m.return=p,m)}function d(p,m,_,v,k){return m===null||m.tag!==7?(m=si(_,p.mode,v,k),m.return=p,m):(m=s(m,_),m.return=p,m)}function c(p,m,_){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ma(""+m,p.mode,_),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Jr:return _=Po(m.type,m.key,m.props,null,p.mode,_),_.ref=Rs(p,null,m),_.return=p,_;case Ri:return m=La(m,p.mode,_),m.return=p,m;case _n:var v=m._init;return c(p,v(m._payload),_)}if(zs(m)||xs(m))return m=si(m,p.mode,_,null),m.return=p,m;uo(p,m)}return null}function h(p,m,_,v){var k=m!==null?m.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return k!==null?null:l(p,m,""+_,v);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Jr:return _.key===k?a(p,m,_,v):null;case Ri:return _.key===k?u(p,m,_,v):null;case _n:return k=_._init,h(p,m,k(_._payload),v)}if(zs(_)||xs(_))return k!==null?null:d(p,m,_,v,null);uo(p,_)}return null}function f(p,m,_,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return p=p.get(_)||null,l(m,p,""+v,k);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Jr:return p=p.get(v.key===null?_:v.key)||null,a(m,p,v,k);case Ri:return p=p.get(v.key===null?_:v.key)||null,u(m,p,v,k);case _n:var T=v._init;return f(p,m,_,T(v._payload),k)}if(zs(v)||xs(v))return p=p.get(_)||null,d(m,p,v,k,null);uo(m,v)}return null}function g(p,m,_,v){for(var k=null,T=null,b=m,R=m=0,H=null;b!==null&&R<_.length;R++){b.index>R?(H=b,b=null):H=b.sibling;var A=h(p,b,_[R],v);if(A===null){b===null&&(b=H);break}t&&b&&A.alternate===null&&e(p,b),m=r(A,m,R),T===null?k=A:T.sibling=A,T=A,b=H}if(R===_.length)return n(p,b),ne&&Yn(p,R),k;if(b===null){for(;R<_.length;R++)b=c(p,_[R],v),b!==null&&(m=r(b,m,R),T===null?k=b:T.sibling=b,T=b);return ne&&Yn(p,R),k}for(b=i(p,b);R<_.length;R++)H=f(b,p,R,_[R],v),H!==null&&(t&&H.alternate!==null&&b.delete(H.key===null?R:H.key),m=r(H,m,R),T===null?k=H:T.sibling=H,T=H);return t&&b.forEach(function(Re){return e(p,Re)}),ne&&Yn(p,R),k}function y(p,m,_,v){var k=xs(_);if(typeof k!="function")throw Error(x(150));if(_=k.call(_),_==null)throw Error(x(151));for(var T=k=null,b=m,R=m=0,H=null,A=_.next();b!==null&&!A.done;R++,A=_.next()){b.index>R?(H=b,b=null):H=b.sibling;var Re=h(p,b,A.value,v);if(Re===null){b===null&&(b=H);break}t&&b&&Re.alternate===null&&e(p,b),m=r(Re,m,R),T===null?k=Re:T.sibling=Re,T=Re,b=H}if(A.done)return n(p,b),ne&&Yn(p,R),k;if(b===null){for(;!A.done;R++,A=_.next())A=c(p,A.value,v),A!==null&&(m=r(A,m,R),T===null?k=A:T.sibling=A,T=A);return ne&&Yn(p,R),k}for(b=i(p,b);!A.done;R++,A=_.next())A=f(b,p,R,A.value,v),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?R:A.key),m=r(A,m,R),T===null?k=A:T.sibling=A,T=A);return t&&b.forEach(function(D){return e(p,D)}),ne&&Yn(p,R),k}function C(p,m,_,v){if(typeof _=="object"&&_!==null&&_.type===Ii&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Jr:e:{for(var k=_.key,T=m;T!==null;){if(T.key===k){if(k=_.type,k===Ii){if(T.tag===7){n(p,T.sibling),m=s(T,_.props.children),m.return=p,p=m;break e}}else if(T.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===_n&&wf(k)===T.type){n(p,T.sibling),m=s(T,_.props),m.ref=Rs(p,T,_),m.return=p,p=m;break e}n(p,T);break}else e(p,T);T=T.sibling}_.type===Ii?(m=si(_.props.children,p.mode,v,_.key),m.return=p,p=m):(v=Po(_.type,_.key,_.props,null,p.mode,v),v.ref=Rs(p,m,_),v.return=p,p=v)}return o(p);case Ri:e:{for(T=_.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===_.containerInfo&&m.stateNode.implementation===_.implementation){n(p,m.sibling),m=s(m,_.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=La(_,p.mode,v),m.return=p,p=m}return o(p);case _n:return T=_._init,C(p,m,T(_._payload),v)}if(zs(_))return g(p,m,_,v);if(xs(_))return y(p,m,_,v);uo(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,_),m.return=p,p=m):(n(p,m),m=Ma(_,p.mode,v),m.return=p,p=m),o(p)):n(p,m)}return C}var is=Ng(!0),Og=Ng(!1),zr={},qt=Wn(zr),pr=Wn(zr),mr=Wn(zr);function ti(t){if(t===zr)throw Error(x(174));return t}function gd(t,e){switch(X(mr,e),X(pr,t),X(qt,zr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ru(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ru(e,t)}ee(qt),X(qt,e)}function ss(){ee(qt),ee(pr),ee(mr)}function Dg(t){ti(mr.current);var e=ti(qt.current),n=Ru(e,t.type);e!==n&&(X(pr,t),X(qt,n))}function yd(t){pr.current===t&&(ee(qt),ee(pr))}var re=Wn(0);function Jo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ia=[];function _d(){for(var t=0;t<Ia.length;t++)Ia[t]._workInProgressVersionPrimary=null;Ia.length=0}var ko=dn.ReactCurrentDispatcher,Pa=dn.ReactCurrentBatchConfig,ui=0,oe=null,ye=null,Ee=null,Zo=!1,qs=!1,gr=0,yC=0;function Ae(){throw Error(x(321))}function vd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ft(t[n],e[n]))return!1;return!0}function wd(t,e,n,i,s,r){if(ui=r,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ko.current=t===null||t.memoizedState===null?CC:EC,t=n(i,s),qs){r=0;do{if(qs=!1,gr=0,25<=r)throw Error(x(301));r+=1,Ee=ye=null,e.updateQueue=null,ko.current=xC,t=n(i,s)}while(qs)}if(ko.current=el,e=ye!==null&&ye.next!==null,ui=0,Ee=ye=oe=null,Zo=!1,e)throw Error(x(300));return t}function Cd(){var t=gr!==0;return gr=0,t}function jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?oe.memoizedState=Ee=t:Ee=Ee.next=t,Ee}function Et(){if(ye===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=ye.next;var e=Ee===null?oe.memoizedState:Ee.next;if(e!==null)Ee=e,ye=t;else{if(t===null)throw Error(x(310));ye=t,t={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Ee===null?oe.memoizedState=Ee=t:Ee=Ee.next=t}return Ee}function yr(t,e){return typeof e=="function"?e(t):e}function Na(t){var e=Et(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=ye,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,u=r;do{var d=u.lane;if((ui&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=i):a=a.next=c,oe.lanes|=d,ci|=d}u=u.next}while(u!==null&&u!==r);a===null?o=i:a.next=l,Ft(i,e.memoizedState)||(Ke=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,oe.lanes|=r,ci|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Oa(t){var e=Et(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Ft(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function Ag(){}function Mg(t,e){var n=oe,i=Et(),s=e(),r=!Ft(i.memoizedState,s);if(r&&(i.memoizedState=s,Ke=!0),i=i.queue,Ed(zg.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,_r(9,Fg.bind(null,n,i,s,e),void 0,null),ke===null)throw Error(x(349));ui&30||Lg(n,e,s)}return s}function Lg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fg(t,e,n,i){e.value=n,e.getSnapshot=i,Ug(e)&&Bg(t)}function zg(t,e,n){return n(function(){Ug(e)&&Bg(t)})}function Ug(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ft(t,n)}catch{return!0}}function Bg(t){var e=an(t,1);e!==null&&Ot(e,t,1,-1)}function Cf(t){var e=jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:t},e.queue=t,t=t.dispatch=wC.bind(null,oe,t),[e.memoizedState,t]}function _r(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jg(){return Et().memoizedState}function bo(t,e,n,i){var s=jt();oe.flags|=t,s.memoizedState=_r(1|e,n,void 0,i===void 0?null:i)}function Ll(t,e,n,i){var s=Et();i=i===void 0?null:i;var r=void 0;if(ye!==null){var o=ye.memoizedState;if(r=o.destroy,i!==null&&vd(i,o.deps)){s.memoizedState=_r(e,n,r,i);return}}oe.flags|=t,s.memoizedState=_r(1|e,n,r,i)}function Ef(t,e){return bo(8390656,8,t,e)}function Ed(t,e){return Ll(2048,8,t,e)}function Hg(t,e){return Ll(4,2,t,e)}function $g(t,e){return Ll(4,4,t,e)}function Wg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vg(t,e,n){return n=n!=null?n.concat([t]):null,Ll(4,4,Wg.bind(null,e,t),n)}function xd(){}function qg(t,e){var n=Et();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Gg(t,e){var n=Et();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&vd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Qg(t,e,n){return ui&21?(Ft(n,e)||(n=Xm(),oe.lanes|=n,ci|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function _C(t,e){var n=G;G=n!==0&&4>n?n:4,t(!0);var i=Pa.transition;Pa.transition={};try{t(!1),e()}finally{G=n,Pa.transition=i}}function Yg(){return Et().memoizedState}function vC(t,e,n){var i=On(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Kg(t))Xg(e,n);else if(n=Tg(t,e,n,i),n!==null){var s=Ve();Ot(n,t,i,s),Jg(n,e,i)}}function wC(t,e,n){var i=On(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kg(t))Xg(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ft(l,o)){var a=e.interleaved;a===null?(s.next=s,pd(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Tg(t,e,s,i),n!==null&&(s=Ve(),Ot(n,t,i,s),Jg(n,e,i))}}function Kg(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function Xg(t,e){qs=Zo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Jg(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,ed(t,n)}}var el={readContext:Ct,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},CC={readContext:Ct,useCallback:function(t,e){return jt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:Ef,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,bo(4194308,4,Wg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return bo(4194308,4,t,e)},useInsertionEffect:function(t,e){return bo(4,2,t,e)},useMemo:function(t,e){var n=jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=jt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=vC.bind(null,oe,t),[i.memoizedState,t]},useRef:function(t){var e=jt();return t={current:t},e.memoizedState=t},useState:Cf,useDebugValue:xd,useDeferredValue:function(t){return jt().memoizedState=t},useTransition:function(){var t=Cf(!1),e=t[0];return t=_C.bind(null,t[1]),jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=oe,s=jt();if(ne){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),ke===null)throw Error(x(349));ui&30||Lg(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Ef(zg.bind(null,i,r,t),[t]),i.flags|=2048,_r(9,Fg.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=jt(),e=ke.identifierPrefix;if(ne){var n=Jt,i=Xt;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=gr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EC={readContext:Ct,useCallback:qg,useContext:Ct,useEffect:Ed,useImperativeHandle:Vg,useInsertionEffect:Hg,useLayoutEffect:$g,useMemo:Gg,useReducer:Na,useRef:jg,useState:function(){return Na(yr)},useDebugValue:xd,useDeferredValue:function(t){var e=Et();return Qg(e,ye.memoizedState,t)},useTransition:function(){var t=Na(yr)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Ag,useSyncExternalStore:Mg,useId:Yg,unstable_isNewReconciler:!1},xC={readContext:Ct,useCallback:qg,useContext:Ct,useEffect:Ed,useImperativeHandle:Vg,useInsertionEffect:Hg,useLayoutEffect:$g,useMemo:Gg,useReducer:Oa,useRef:jg,useState:function(){return Oa(yr)},useDebugValue:xd,useDeferredValue:function(t){var e=Et();return ye===null?e.memoizedState=t:Qg(e,ye.memoizedState,t)},useTransition:function(){var t=Oa(yr)[0],e=Et().memoizedState;return[t,e]},useMutableSource:Ag,useSyncExternalStore:Mg,useId:Yg,unstable_isNewReconciler:!1};function rs(t,e){try{var n="",i=e;do n+=Xw(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function Da(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var SC=typeof WeakMap=="function"?WeakMap:Map;function Zg(t,e,n){n=en(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){nl||(nl=!0,lc=i),Xu(t,e)},n}function ey(t,e,n){n=en(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Xu(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Xu(t,e),typeof i!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function xf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new SC;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=zC.bind(null,t,e,n),e.then(t,t))}function Sf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function kf(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=en(-1,1),e.tag=2,Pn(n,e,1))),n.lanes|=1),t)}var kC=dn.ReactCurrentOwner,Ke=!1;function We(t,e,n,i){e.child=t===null?Og(e,null,n,i):is(e,t.child,n,i)}function bf(t,e,n,i,s){n=n.render;var r=e.ref;return Qi(e,s),i=wd(t,e,n,i,r,s),n=Cd(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ne&&n&&ad(e),e.flags|=1,We(t,e,i,s),e.child)}function Tf(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!Nd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,ty(t,e,r,i,s)):(t=Po(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:cr,n(o,i)&&t.ref===e.ref)return un(t,e,s)}return e.flags|=1,t=Dn(r,i),t.ref=e.ref,t.return=e,e.child=t}function ty(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(cr(r,i)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,un(t,e,s)}return Ju(t,e,n,i,s)}function ny(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Ui,rt),rt|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,X(Ui,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,X(Ui,rt),rt|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,X(Ui,rt),rt|=i;return We(t,e,s,n),e.child}function iy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ju(t,e,n,i,s){var r=tt(n)?li:je.current;return r=ts(e,r),Qi(e,s),n=wd(t,e,n,i,r,s),i=Cd(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,un(t,e,s)):(ne&&i&&ad(e),e.flags|=1,We(t,e,n,s),e.child)}function Rf(t,e,n,i,s){if(tt(n)){var r=!0;qo(e)}else r=!1;if(Qi(e,s),e.stateNode===null)To(t,e),Pg(e,n,i),Ku(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=tt(n)?li:je.current,u=ts(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&vf(e,o,i,u),vn=!1;var h=e.memoizedState;o.state=h,Xo(e,i,o,s),a=e.memoizedState,l!==i||h!==a||et.current||vn?(typeof d=="function"&&(Yu(e,n,d,i),a=e.memoizedState),(l=vn||_f(e,n,l,i,h,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Rg(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:kt(e.type,l),o.props=u,c=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ct(a):(a=tt(n)?li:je.current,a=ts(e,a));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||h!==a)&&vf(e,o,i,a),vn=!1,h=e.memoizedState,o.state=h,Xo(e,i,o,s);var g=e.memoizedState;l!==c||h!==g||et.current||vn?(typeof f=="function"&&(Yu(e,n,f,i),g=e.memoizedState),(u=vn||_f(e,n,u,i,h,g,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Zu(t,e,n,i,r,s)}function Zu(t,e,n,i,s,r){iy(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&ff(e,n,!1),un(t,e,r);i=e.stateNode,kC.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=is(e,t.child,null,r),e.child=is(e,null,l,r)):We(t,e,l,r),e.memoizedState=i.state,s&&ff(e,n,!0),e.child}function sy(t){var e=t.stateNode;e.pendingContext?hf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hf(t,e.context,!1),gd(t,e.containerInfo)}function If(t,e,n,i,s){return ns(),cd(s),e.flags|=256,We(t,e,n,i),e.child}var ec={dehydrated:null,treeContext:null,retryLane:0};function tc(t){return{baseLanes:t,cachePool:null,transitions:null}}function ry(t,e,n){var i=e.pendingProps,s=re.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),X(re,s&1),t===null)return Gu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ul(o,i,0,null),t=si(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=tc(n),e.memoizedState=ec,t):Sd(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bC(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Dn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Dn(l,r):(r=si(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?tc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=ec,i}return r=t.child,t=r.sibling,i=Dn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Sd(t,e){return e=Ul({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function co(t,e,n,i){return i!==null&&cd(i),is(e,t.child,null,n),t=Sd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bC(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=Da(Error(x(422))),co(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=Ul({mode:"visible",children:i.children},s,0,null),r=si(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&is(e,t.child,null,o),e.child.memoizedState=tc(o),e.memoizedState=ec,r);if(!(e.mode&1))return co(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(x(419)),i=Da(r,i,void 0),co(t,e,o,i)}if(l=(o&t.childLanes)!==0,Ke||l){if(i=ke,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,an(t,s),Ot(i,t,s,-1))}return Pd(),i=Da(Error(x(421))),co(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=UC.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,ot=In(s.nextSibling),at=e,ne=!0,Tt=null,t!==null&&(gt[yt++]=Xt,gt[yt++]=Jt,gt[yt++]=ai,Xt=t.id,Jt=t.overflow,ai=e),e=Sd(e,i.children),e.flags|=4096,e)}function Pf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Qu(t.return,e,n)}function Aa(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function oy(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(We(t,e,i.children,n),i=re.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pf(t,n,e);else if(t.tag===19)Pf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(X(re,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Jo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Aa(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Aa(e,!0,n,null,r);break;case"together":Aa(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function To(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ci|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TC(t,e,n){switch(e.tag){case 3:sy(e),ns();break;case 5:Dg(e);break;case 1:tt(e.type)&&qo(e);break;case 4:gd(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;X(Yo,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(X(re,re.current&1),e.flags|=128,null):n&e.child.childLanes?ry(t,e,n):(X(re,re.current&1),t=un(t,e,n),t!==null?t.sibling:null);X(re,re.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return oy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(re,re.current),i)break;return null;case 22:case 23:return e.lanes=0,ny(t,e,n)}return un(t,e,n)}var ly,nc,ay,uy;ly=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nc=function(){};ay=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,ti(qt.current);var r=null;switch(n){case"input":s=Su(t,s),i=Su(t,i),r=[];break;case"select":s=le({},s,{value:void 0}),i=le({},i,{value:void 0}),r=[];break;case"textarea":s=Tu(t,s),i=Tu(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Wo)}Iu(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ir.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(r||(r=[]),r.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ir.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",t),r||l===a||(r=[])):(r=r||[]).push(u,a))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};uy=function(t,e,n,i){n!==i&&(e.flags|=4)};function Is(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Me(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function RC(t,e,n){var i=e.pendingProps;switch(ud(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(e),null;case 1:return tt(e.type)&&Vo(),Me(e),null;case 3:return i=e.stateNode,ss(),ee(et),ee(je),_d(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ao(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tt!==null&&(cc(Tt),Tt=null))),nc(t,e),Me(e),null;case 5:yd(e);var s=ti(mr.current);if(n=e.type,t!==null&&e.stateNode!=null)ay(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(x(166));return Me(e),null}if(t=ti(qt.current),ao(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Ht]=e,i[fr]=r,t=(e.mode&1)!==0,n){case"dialog":J("cancel",i),J("close",i);break;case"iframe":case"object":case"embed":J("load",i);break;case"video":case"audio":for(s=0;s<Bs.length;s++)J(Bs[s],i);break;case"source":J("error",i);break;case"img":case"image":case"link":J("error",i),J("load",i);break;case"details":J("toggle",i);break;case"input":zh(i,r),J("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},J("invalid",i);break;case"textarea":Bh(i,r),J("invalid",i)}Iu(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&lo(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&lo(i.textContent,l,t),s=["children",""+l]):ir.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&J("scroll",i)}switch(n){case"input":Zr(i),Uh(i,r,!0);break;case"textarea":Zr(i),jh(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=Wo)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Ht]=e,t[fr]=i,ly(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pu(n,i),n){case"dialog":J("cancel",t),J("close",t),s=i;break;case"iframe":case"object":case"embed":J("load",t),s=i;break;case"video":case"audio":for(s=0;s<Bs.length;s++)J(Bs[s],t);s=i;break;case"source":J("error",t),s=i;break;case"img":case"image":case"link":J("error",t),J("load",t),s=i;break;case"details":J("toggle",t),s=i;break;case"input":zh(t,i),s=Su(t,i),J("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=le({},i,{value:void 0}),J("invalid",t);break;case"textarea":Bh(t,i),s=Tu(t,i),J("invalid",t);break;default:s=i}Iu(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?Um(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Fm(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&sr(t,a):typeof a=="number"&&sr(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(ir.hasOwnProperty(r)?a!=null&&r==="onScroll"&&J("scroll",t):a!=null&&Qc(t,r,a,o))}switch(n){case"input":Zr(t),Uh(t,i,!1);break;case"textarea":Zr(t),jh(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Un(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Wi(t,!!i.multiple,r,!1):i.defaultValue!=null&&Wi(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Me(e),null;case 6:if(t&&e.stateNode!=null)uy(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(x(166));if(n=ti(mr.current),ti(qt.current),ao(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ht]=e,(r=i.nodeValue!==n)&&(t=at,t!==null))switch(t.tag){case 3:lo(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lo(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ht]=e,e.stateNode=i}return Me(e),null;case 13:if(ee(re),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&ot!==null&&e.mode&1&&!(e.flags&128))bg(),ns(),e.flags|=98560,r=!1;else if(r=ao(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(x(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(x(317));r[Ht]=e}else ns(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Me(e),r=!1}else Tt!==null&&(cc(Tt),Tt=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||re.current&1?ve===0&&(ve=3):Pd())),e.updateQueue!==null&&(e.flags|=4),Me(e),null);case 4:return ss(),nc(t,e),t===null&&dr(e.stateNode.containerInfo),Me(e),null;case 10:return fd(e.type._context),Me(e),null;case 17:return tt(e.type)&&Vo(),Me(e),null;case 19:if(ee(re),r=e.memoizedState,r===null)return Me(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)Is(r,!1);else{if(ve!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Jo(t),o!==null){for(e.flags|=128,Is(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return X(re,re.current&1|2),e.child}t=t.sibling}r.tail!==null&&fe()>os&&(e.flags|=128,i=!0,Is(r,!1),e.lanes=4194304)}else{if(!i)if(t=Jo(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Is(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ne)return Me(e),null}else 2*fe()-r.renderingStartTime>os&&n!==1073741824&&(e.flags|=128,i=!0,Is(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=fe(),e.sibling=null,n=re.current,X(re,i?n&1|2:n&1),e):(Me(e),null);case 22:case 23:return Id(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?rt&1073741824&&(Me(e),e.subtreeFlags&6&&(e.flags|=8192)):Me(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function IC(t,e){switch(ud(e),e.tag){case 1:return tt(e.type)&&Vo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ss(),ee(et),ee(je),_d(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yd(e),null;case 13:if(ee(re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));ns()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(re),null;case 4:return ss(),null;case 10:return fd(e.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var ho=!1,Le=!1,PC=typeof WeakSet=="function"?WeakSet:Set,I=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ae(t,e,i)}else n.current=null}function ic(t,e,n){try{n()}catch(i){ae(t,e,i)}}var Nf=!1;function NC(t,e){if(Bu=jo,t=fg(),ld(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=t,h=null;t:for(;;){for(var f;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==r||i!==0&&c.nodeType!==3||(a=o+i),c.nodeType===3&&(o+=c.nodeValue.length),(f=c.firstChild)!==null;)h=c,c=f;for(;;){if(c===t)break t;if(h===n&&++u===s&&(l=o),h===r&&++d===i&&(a=o),(f=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(ju={focusedElem:t,selectionRange:n},jo=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,C=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:kt(e.type,y),C);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(v){ae(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return g=Nf,Nf=!1,g}function Gs(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&ic(e,n,r)}s=s.next}while(s!==i)}}function Fl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function sc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cy(t){var e=t.alternate;e!==null&&(t.alternate=null,cy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ht],delete e[fr],delete e[Wu],delete e[fC],delete e[pC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dy(t){return t.tag===5||t.tag===3||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wo));else if(i!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function oc(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(oc(t,e,n),t=t.sibling;t!==null;)oc(t,e,n),t=t.sibling}var Ie=null,bt=!1;function gn(t,e,n){for(n=n.child;n!==null;)hy(t,e,n),n=n.sibling}function hy(t,e,n){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(Il,n)}catch{}switch(n.tag){case 5:Le||zi(n,e);case 6:var i=Ie,s=bt;Ie=null,gn(t,e,n),Ie=i,bt=s,Ie!==null&&(bt?(t=Ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(bt?(t=Ie,n=n.stateNode,t.nodeType===8?Ta(t.parentNode,n):t.nodeType===1&&Ta(t,n),ar(t)):Ta(Ie,n.stateNode));break;case 4:i=Ie,s=bt,Ie=n.stateNode.containerInfo,bt=!0,gn(t,e,n),Ie=i,bt=s;break;case 0:case 11:case 14:case 15:if(!Le&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&ic(n,e,o),s=s.next}while(s!==i)}gn(t,e,n);break;case 1:if(!Le&&(zi(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){ae(n,e,l)}gn(t,e,n);break;case 21:gn(t,e,n);break;case 22:n.mode&1?(Le=(i=Le)||n.memoizedState!==null,gn(t,e,n),Le=i):gn(t,e,n);break;default:gn(t,e,n)}}function Df(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new PC),e.forEach(function(i){var s=BC.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function St(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,bt=!1;break e;case 3:Ie=l.stateNode.containerInfo,bt=!0;break e;case 4:Ie=l.stateNode.containerInfo,bt=!0;break e}l=l.return}if(Ie===null)throw Error(x(160));hy(r,o,s),Ie=null,bt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fy(e,t),e=e.sibling}function fy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(St(e,t),Bt(t),i&4){try{Gs(3,t,t.return),Fl(3,t)}catch(y){ae(t,t.return,y)}try{Gs(5,t,t.return)}catch(y){ae(t,t.return,y)}}break;case 1:St(e,t),Bt(t),i&512&&n!==null&&zi(n,n.return);break;case 5:if(St(e,t),Bt(t),i&512&&n!==null&&zi(n,n.return),t.flags&32){var s=t.stateNode;try{sr(s,"")}catch(y){ae(t,t.return,y)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&Am(s,r),Pu(l,o);var u=Pu(l,r);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?Um(s,c):d==="dangerouslySetInnerHTML"?Fm(s,c):d==="children"?sr(s,c):Qc(s,d,c,u)}switch(l){case"input":ku(s,r);break;case"textarea":Mm(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Wi(s,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?Wi(s,!!r.multiple,r.defaultValue,!0):Wi(s,!!r.multiple,r.multiple?[]:"",!1))}s[fr]=r}catch(y){ae(t,t.return,y)}}break;case 6:if(St(e,t),Bt(t),i&4){if(t.stateNode===null)throw Error(x(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(y){ae(t,t.return,y)}}break;case 3:if(St(e,t),Bt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ar(e.containerInfo)}catch(y){ae(t,t.return,y)}break;case 4:St(e,t),Bt(t);break;case 13:St(e,t),Bt(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Td=fe())),i&4&&Df(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Le=(u=Le)||d,St(e,t),Le=u):St(e,t),Bt(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(c=I=d;I!==null;){switch(h=I,f=h.child,h.tag){case 0:case 11:case 14:case 15:Gs(4,h,h.return);break;case 1:zi(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){ae(i,n,y)}}break;case 5:zi(h,h.return);break;case 22:if(h.memoizedState!==null){Mf(c);continue}}f!==null?(f.return=h,I=f):Mf(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=zm("display",o))}catch(y){ae(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){ae(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:St(e,t),Bt(t),i&4&&Df(t);break;case 21:break;default:St(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dy(n)){var i=n;break e}n=n.return}throw Error(x(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(sr(s,""),i.flags&=-33);var r=Of(t);oc(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=Of(t);rc(t,l,o);break;default:throw Error(x(161))}}catch(a){ae(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OC(t,e,n){I=t,py(t)}function py(t,e,n){for(var i=(t.mode&1)!==0;I!==null;){var s=I,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||ho;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Le;l=ho;var u=Le;if(ho=o,(Le=a)&&!u)for(I=s;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?Lf(s):a!==null?(a.return=o,I=a):Lf(s);for(;r!==null;)I=r,py(r),r=r.sibling;I=s,ho=l,Le=u}Af(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,I=r):Af(t)}}function Af(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Le||Fl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Le)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:kt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&yf(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}yf(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&ar(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}Le||e.flags&512&&sc(e)}catch(h){ae(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function Mf(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function Lf(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fl(4,e)}catch(a){ae(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){ae(e,s,a)}}var r=e.return;try{sc(e)}catch(a){ae(e,r,a)}break;case 5:var o=e.return;try{sc(e)}catch(a){ae(e,o,a)}}}catch(a){ae(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var DC=Math.ceil,tl=dn.ReactCurrentDispatcher,kd=dn.ReactCurrentOwner,vt=dn.ReactCurrentBatchConfig,W=0,ke=null,ge=null,Pe=0,rt=0,Ui=Wn(0),ve=0,vr=null,ci=0,zl=0,bd=0,Qs=null,Ye=null,Td=0,os=1/0,Yt=null,nl=!1,lc=null,Nn=null,fo=!1,Sn=null,il=0,Ys=0,ac=null,Ro=-1,Io=0;function Ve(){return W&6?fe():Ro!==-1?Ro:Ro=fe()}function On(t){return t.mode&1?W&2&&Pe!==0?Pe&-Pe:gC.transition!==null?(Io===0&&(Io=Xm()),Io):(t=G,t!==0||(t=window.event,t=t===void 0?16:sg(t.type)),t):1}function Ot(t,e,n,i){if(50<Ys)throw Ys=0,ac=null,Error(x(185));Mr(t,n,i),(!(W&2)||t!==ke)&&(t===ke&&(!(W&2)&&(zl|=n),ve===4&&Cn(t,Pe)),nt(t,i),n===1&&W===0&&!(e.mode&1)&&(os=fe()+500,Al&&Vn()))}function nt(t,e){var n=t.callbackNode;g0(t,e);var i=Bo(t,t===ke?Pe:0);if(i===0)n!==null&&Wh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Wh(n),e===1)t.tag===0?mC(Ff.bind(null,t)):xg(Ff.bind(null,t)),dC(function(){!(W&6)&&Vn()}),n=null;else{switch(Jm(i)){case 1:n=Zc;break;case 4:n=Ym;break;case 16:n=Uo;break;case 536870912:n=Km;break;default:n=Uo}n=Ey(n,my.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function my(t,e){if(Ro=-1,Io=0,W&6)throw Error(x(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var i=Bo(t,t===ke?Pe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=sl(t,i);else{e=i;var s=W;W|=2;var r=yy();(ke!==t||Pe!==e)&&(Yt=null,os=fe()+500,ii(t,e));do try{LC();break}catch(l){gy(t,l)}while(!0);hd(),tl.current=r,W=s,ge!==null?e=0:(ke=null,Pe=0,e=ve)}if(e!==0){if(e===2&&(s=Mu(t),s!==0&&(i=s,e=uc(t,s))),e===1)throw n=vr,ii(t,0),Cn(t,i),nt(t,fe()),n;if(e===6)Cn(t,i);else{if(s=t.current.alternate,!(i&30)&&!AC(s)&&(e=sl(t,i),e===2&&(r=Mu(t),r!==0&&(i=r,e=uc(t,r))),e===1))throw n=vr,ii(t,0),Cn(t,i),nt(t,fe()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(x(345));case 2:Kn(t,Ye,Yt);break;case 3:if(Cn(t,i),(i&130023424)===i&&(e=Td+500-fe(),10<e)){if(Bo(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$u(Kn.bind(null,t,Ye,Yt),e);break}Kn(t,Ye,Yt);break;case 4:if(Cn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-Nt(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*DC(i/1960))-i,10<i){t.timeoutHandle=$u(Kn.bind(null,t,Ye,Yt),i);break}Kn(t,Ye,Yt);break;case 5:Kn(t,Ye,Yt);break;default:throw Error(x(329))}}}return nt(t,fe()),t.callbackNode===n?my.bind(null,t):null}function uc(t,e){var n=Qs;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=sl(t,e),t!==2&&(e=Ye,Ye=n,e!==null&&cc(e)),t}function cc(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function AC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Ft(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e){for(e&=~bd,e&=~zl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Nt(e),i=1<<n;t[n]=-1,e&=~i}}function Ff(t){if(W&6)throw Error(x(327));Yi();var e=Bo(t,0);if(!(e&1))return nt(t,fe()),null;var n=sl(t,e);if(t.tag!==0&&n===2){var i=Mu(t);i!==0&&(e=i,n=uc(t,i))}if(n===1)throw n=vr,ii(t,0),Cn(t,e),nt(t,fe()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kn(t,Ye,Yt),nt(t,fe()),null}function Rd(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(os=fe()+500,Al&&Vn())}}function di(t){Sn!==null&&Sn.tag===0&&!(W&6)&&Yi();var e=W;W|=1;var n=vt.transition,i=G;try{if(vt.transition=null,G=1,t)return t()}finally{G=i,vt.transition=n,W=e,!(W&6)&&Vn()}}function Id(){rt=Ui.current,ee(Ui)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cC(n)),ge!==null)for(n=ge.return;n!==null;){var i=n;switch(ud(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Vo();break;case 3:ss(),ee(et),ee(je),_d();break;case 5:yd(i);break;case 4:ss();break;case 13:ee(re);break;case 19:ee(re);break;case 10:fd(i.type._context);break;case 22:case 23:Id()}n=n.return}if(ke=t,ge=t=Dn(t.current,null),Pe=rt=e,ve=0,vr=null,bd=zl=ci=0,Ye=Qs=null,ei!==null){for(e=0;e<ei.length;e++)if(n=ei[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}ei=null}return t}function gy(t,e){do{var n=ge;try{if(hd(),ko.current=el,Zo){for(var i=oe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Zo=!1}if(ui=0,Ee=ye=oe=null,qs=!1,gr=0,kd.current=null,n===null||n.return===null){ve=1,vr=e,ge=null;break}e:{var r=t,o=n.return,l=n,a=e;if(e=Pe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Sf(o);if(f!==null){f.flags&=-257,kf(f,o,l,r,e),f.mode&1&&xf(r,u,e),e=f,a=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(a),e.updateQueue=y}else g.add(a);break e}else{if(!(e&1)){xf(r,u,e),Pd();break e}a=Error(x(426))}}else if(ne&&l.mode&1){var C=Sf(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),kf(C,o,l,r,e),cd(rs(a,l));break e}}r=a=rs(a,l),ve!==4&&(ve=2),Qs===null?Qs=[r]:Qs.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=Zg(r,a,e);gf(r,p);break e;case 1:l=a;var m=r.type,_=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Nn===null||!Nn.has(_)))){r.flags|=65536,e&=-e,r.lanes|=e;var v=ey(r,l,e);gf(r,v);break e}}r=r.return}while(r!==null)}vy(n)}catch(k){e=k,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function yy(){var t=tl.current;return tl.current=el,t===null?el:t}function Pd(){(ve===0||ve===3||ve===2)&&(ve=4),ke===null||!(ci&268435455)&&!(zl&268435455)||Cn(ke,Pe)}function sl(t,e){var n=W;W|=2;var i=yy();(ke!==t||Pe!==e)&&(Yt=null,ii(t,e));do try{MC();break}catch(s){gy(t,s)}while(!0);if(hd(),W=n,tl.current=i,ge!==null)throw Error(x(261));return ke=null,Pe=0,ve}function MC(){for(;ge!==null;)_y(ge)}function LC(){for(;ge!==null&&!l0();)_y(ge)}function _y(t){var e=Cy(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?vy(t):ge=e,kd.current=null}function vy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IC(n,e),n!==null){n.flags&=32767,ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ve=6,ge=null;return}}else if(n=RC(n,e,rt),n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);ve===0&&(ve=5)}function Kn(t,e,n){var i=G,s=vt.transition;try{vt.transition=null,G=1,FC(t,e,n,i)}finally{vt.transition=s,G=i}return null}function FC(t,e,n,i){do Yi();while(Sn!==null);if(W&6)throw Error(x(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(y0(t,r),t===ke&&(ge=ke=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fo||(fo=!0,Ey(Uo,function(){return Yi(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=vt.transition,vt.transition=null;var o=G;G=1;var l=W;W|=4,kd.current=null,NC(t,n),fy(n,t),iC(ju),jo=!!Bu,ju=Bu=null,t.current=n,OC(n),a0(),W=l,G=o,vt.transition=r}else t.current=n;if(fo&&(fo=!1,Sn=t,il=s),r=t.pendingLanes,r===0&&(Nn=null),d0(n.stateNode),nt(t,fe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(nl)throw nl=!1,t=lc,lc=null,t;return il&1&&t.tag!==0&&Yi(),r=t.pendingLanes,r&1?t===ac?Ys++:(Ys=0,ac=t):Ys=0,Vn(),null}function Yi(){if(Sn!==null){var t=Jm(il),e=vt.transition,n=G;try{if(vt.transition=null,G=16>t?16:t,Sn===null)var i=!1;else{if(t=Sn,Sn=null,il=0,W&6)throw Error(x(331));var s=W;for(W|=4,I=t.current;I!==null;){var r=I,o=r.child;if(I.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Gs(8,d,r)}var c=d.child;if(c!==null)c.return=d,I=c;else for(;I!==null;){d=I;var h=d.sibling,f=d.return;if(cy(d),d===u){I=null;break}if(h!==null){h.return=f,I=h;break}I=f}}}var g=r.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}I=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,I=o;else e:for(;I!==null;){if(r=I,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Gs(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,I=p;break e}I=r.return}}var m=t.current;for(I=m;I!==null;){o=I;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,I=_;else e:for(o=m;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fl(9,l)}}catch(k){ae(l,l.return,k)}if(l===o){I=null;break e}var v=l.sibling;if(v!==null){v.return=l.return,I=v;break e}I=l.return}}if(W=s,Vn(),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(Il,t)}catch{}i=!0}return i}finally{G=n,vt.transition=e}}return!1}function zf(t,e,n){e=rs(n,e),e=Zg(t,e,1),t=Pn(t,e,1),e=Ve(),t!==null&&(Mr(t,1,e),nt(t,e))}function ae(t,e,n){if(t.tag===3)zf(t,t,n);else for(;e!==null;){if(e.tag===3){zf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Nn===null||!Nn.has(i))){t=rs(n,t),t=ey(e,t,1),e=Pn(e,t,1),t=Ve(),e!==null&&(Mr(e,1,t),nt(e,t));break}}e=e.return}}function zC(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,ke===t&&(Pe&n)===n&&(ve===4||ve===3&&(Pe&130023424)===Pe&&500>fe()-Td?ii(t,0):bd|=n),nt(t,e)}function wy(t,e){e===0&&(t.mode&1?(e=no,no<<=1,!(no&130023424)&&(no=4194304)):e=1);var n=Ve();t=an(t,e),t!==null&&(Mr(t,e,n),nt(t,n))}function UC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wy(t,n)}function BC(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(x(314))}i!==null&&i.delete(e),wy(t,n)}var Cy;Cy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||et.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,TC(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,ne&&e.flags&1048576&&Sg(e,Qo,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;To(t,e),t=e.pendingProps;var s=ts(e,je.current);Qi(e,n),s=wd(null,e,i,t,s,n);var r=Cd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tt(i)?(r=!0,qo(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,md(e),s.updater=Ml,e.stateNode=s,s._reactInternals=e,Ku(e,i,t,n),e=Zu(null,e,i,!0,r,n)):(e.tag=0,ne&&r&&ad(e),We(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(To(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=HC(i),t=kt(i,t),s){case 0:e=Ju(null,e,i,t,n);break e;case 1:e=Rf(null,e,i,t,n);break e;case 11:e=bf(null,e,i,t,n);break e;case 14:e=Tf(null,e,i,kt(i.type,t),n);break e}throw Error(x(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kt(i,s),Ju(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kt(i,s),Rf(t,e,i,s,n);case 3:e:{if(sy(e),t===null)throw Error(x(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Rg(t,e),Xo(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=rs(Error(x(423)),e),e=If(t,e,i,n,s);break e}else if(i!==s){s=rs(Error(x(424)),e),e=If(t,e,i,n,s);break e}else for(ot=In(e.stateNode.containerInfo.firstChild),at=e,ne=!0,Tt=null,n=Og(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ns(),i===s){e=un(t,e,n);break e}We(t,e,i,n)}e=e.child}return e;case 5:return Dg(e),t===null&&Gu(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Hu(i,s)?o=null:r!==null&&Hu(i,r)&&(e.flags|=32),iy(t,e),We(t,e,o,n),e.child;case 6:return t===null&&Gu(e),null;case 13:return ry(t,e,n);case 4:return gd(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=is(e,null,i,n):We(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kt(i,s),bf(t,e,i,s,n);case 7:return We(t,e,e.pendingProps,n),e.child;case 8:return We(t,e,e.pendingProps.children,n),e.child;case 12:return We(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,X(Yo,i._currentValue),i._currentValue=o,r!==null)if(Ft(r.value,o)){if(r.children===s.children&&!et.current){e=un(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=en(-1,n&-n),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Qu(r.return,n,e),l.lanes|=n;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(x(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Qu(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}We(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Qi(e,n),s=Ct(s),i=i(s),e.flags|=1,We(t,e,i,n),e.child;case 14:return i=e.type,s=kt(i,e.pendingProps),s=kt(i.type,s),Tf(t,e,i,s,n);case 15:return ty(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:kt(i,s),To(t,e),e.tag=1,tt(i)?(t=!0,qo(e)):t=!1,Qi(e,n),Pg(e,i,s),Ku(e,i,s,n),Zu(null,e,i,!0,t,n);case 19:return oy(t,e,n);case 22:return ny(t,e,n)}throw Error(x(156,e.tag))};function Ey(t,e){return Qm(t,e)}function jC(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(t,e,n,i){return new jC(t,e,n,i)}function Nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HC(t){if(typeof t=="function")return Nd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kc)return 11;if(t===Xc)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=_t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Po(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")Nd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ii:return si(n.children,s,r,e);case Yc:o=8,s|=8;break;case wu:return t=_t(12,n,e,s|2),t.elementType=wu,t.lanes=r,t;case Cu:return t=_t(13,n,e,s),t.elementType=Cu,t.lanes=r,t;case Eu:return t=_t(19,n,e,s),t.elementType=Eu,t.lanes=r,t;case Nm:return Ul(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Im:o=10;break e;case Pm:o=9;break e;case Kc:o=11;break e;case Xc:o=14;break e;case _n:o=16,i=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=_t(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function si(t,e,n,i){return t=_t(7,t,i,e),t.lanes=n,t}function Ul(t,e,n,i){return t=_t(22,t,i,e),t.elementType=Nm,t.lanes=n,t.stateNode={isHidden:!1},t}function Ma(t,e,n){return t=_t(6,t,null,e),t.lanes=n,t}function La(t,e,n){return e=_t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $C(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ga(0),this.expirationTimes=ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Od(t,e,n,i,s,r,o,l,a){return t=new $C(t,e,n,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=_t(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},md(r),t}function WC(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ri,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function xy(t){if(!t)return Bn;t=t._reactInternals;e:{if(Ei(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(tt(n))return Eg(t,n,e)}return e}function Sy(t,e,n,i,s,r,o,l,a){return t=Od(n,i,!0,t,s,r,o,l,a),t.context=xy(null),n=t.current,i=Ve(),s=On(n),r=en(i,s),r.callback=e??null,Pn(n,r,s),t.current.lanes=s,Mr(t,s,i),nt(t,i),t}function Bl(t,e,n,i){var s=e.current,r=Ve(),o=On(s);return n=xy(n),e.context===null?e.context=n:e.pendingContext=n,e=en(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Pn(s,e,o),t!==null&&(Ot(t,s,o,r),So(t,s,o)),o}function rl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Uf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dd(t,e){Uf(t,e),(t=t.alternate)&&Uf(t,e)}function VC(){return null}var ky=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ad(t){this._internalRoot=t}jl.prototype.render=Ad.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Bl(t,e,null,null)};jl.prototype.unmount=Ad.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Bl(null,t,null,null)}),e[ln]=null}};function jl(t){this._internalRoot=t}jl.prototype.unstable_scheduleHydration=function(t){if(t){var e=tg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wn.length&&e!==0&&e<wn[n].priority;n++);wn.splice(n,0,t),n===0&&ig(t)}};function Md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bf(){}function qC(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=rl(o);r.call(u)}}var o=Sy(e,i,t,0,null,!1,!1,"",Bf);return t._reactRootContainer=o,t[ln]=o.current,dr(t.nodeType===8?t.parentNode:t),di(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=rl(a);l.call(u)}}var a=Od(t,0,!1,null,null,!1,!1,"",Bf);return t._reactRootContainer=a,t[ln]=a.current,dr(t.nodeType===8?t.parentNode:t),di(function(){Bl(e,a,n,i)}),a}function $l(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=rl(o);l.call(a)}}Bl(e,o,t,s)}else o=qC(n,e,t,s,i);return rl(o)}Zm=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Us(e.pendingLanes);n!==0&&(ed(e,n|1),nt(e,fe()),!(W&6)&&(os=fe()+500,Vn()))}break;case 13:di(function(){var i=an(t,1);if(i!==null){var s=Ve();Ot(i,t,1,s)}}),Dd(t,1)}};td=function(t){if(t.tag===13){var e=an(t,134217728);if(e!==null){var n=Ve();Ot(e,t,134217728,n)}Dd(t,134217728)}};eg=function(t){if(t.tag===13){var e=On(t),n=an(t,e);if(n!==null){var i=Ve();Ot(n,t,e,i)}Dd(t,e)}};tg=function(){return G};ng=function(t,e){var n=G;try{return G=t,e()}finally{G=n}};Ou=function(t,e,n){switch(e){case"input":if(ku(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Dl(i);if(!s)throw Error(x(90));Dm(i),ku(i,s)}}}break;case"textarea":Mm(t,n);break;case"select":e=n.value,e!=null&&Wi(t,!!n.multiple,e,!1)}};Hm=Rd;$m=di;var GC={usingClientEntryPoint:!1,Events:[Fr,Di,Dl,Bm,jm,Rd]},Ps={findFiberByHostInstance:Zn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},QC={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qm(t),t===null?null:t.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||VC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Il=po.inject(QC),Vt=po}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GC;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Md(e))throw Error(x(200));return WC(t,e,null,n)};ft.createRoot=function(t,e){if(!Md(t))throw Error(x(299));var n=!1,i="",s=ky;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Od(t,1,!1,null,null,n,!1,i,s),t[ln]=e.current,dr(t.nodeType===8?t.parentNode:t),new Ad(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=qm(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return di(t)};ft.hydrate=function(t,e,n){if(!Hl(e))throw Error(x(200));return $l(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Md(t))throw Error(x(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=ky;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Sy(e,null,t,1,n??null,s,!1,r,o),t[ln]=e.current,dr(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new jl(e)};ft.render=function(t,e,n){if(!Hl(e))throw Error(x(200));return $l(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!Hl(t))throw Error(x(40));return t._reactRootContainer?(di(function(){$l(null,null,t,!1,function(){t._reactRootContainer=null,t[ln]=null})}),!0):!1};ft.unstable_batchedUpdates=Rd;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Hl(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return $l(t,e,n,!1,i)};ft.version="18.2.0-next-9e3b772b8-20220608";function by(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(by)}catch(t){console.error(t)}}by(),Sm.exports=ft;var YC=Sm.exports,jf=YC;_u.createRoot=jf.createRoot,_u.hydrateRoot=jf.hydrateRoot;var Hf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S=function(t,e){if(!t)throw _s(e)},_s=function(t){return new Error("Firebase Database ("+Ty.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},KC=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Ld={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,d=r>>2,c=(r&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;a||(f=64,o||(h=64)),i.push(n[d],n[c],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ry(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||u==null||c==null)throw new XC;const h=r<<2|l>>4;if(i.push(h),u!==64){const f=l<<4&240|u>>2;if(i.push(f),c!==64){const g=u<<6&192|c;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class XC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Iy=function(t){const e=Ry(t);return Ld.encodeByteArray(e,!0)},ol=function(t){return Iy(t).replace(/\./g,"")},dc=function(t){try{return Ld.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(t){return Py(void 0,t)}function Py(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!ZC(n)||(t[n]=Py(t[n],e[n]));return t}function ZC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=()=>eE().__FIREBASE_DEFAULTS__,nE=()=>{if(typeof process>"u"||typeof Hf>"u")return;const t=Hf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dc(t[1]);return e&&JSON.parse(e)},Ny=()=>{try{return tE()||nE()||iE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sE=t=>{var e,n;return(n=(e=Ny())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Oy=t=>{const e=sE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Dy=()=>{var t;return(t=Ny())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ol(JSON.stringify(n)),ol(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function My(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rE())}function oE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ly(){return Ty.NODE_ADMIN===!0}function lE(){try{return typeof indexedDB=="object"}catch{return!1}}function aE(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="FirebaseError";class vs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=uE,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fy.prototype.create)}}class Fy{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?cE(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new vs(s,l,i)}}function cE(t,e){return t.replace(dE,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const dE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){return JSON.parse(t)}function Se(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=wr(dc(r[0])||""),n=wr(dc(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},hE=function(t){const e=zy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},fE=function(t){const e=zy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ls(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $f(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function hc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(Wf(r)&&Wf(o)){if(!hc(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Wf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)i[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const h=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^r&(o^l),d=1518500249):(u=r^o^l,d=1859775393):c<60?(u=r&o|l&(r|o),d=2400959708):(u=r^o^l,d=3395469782);const h=(s<<5|s>>>27)+u+a+d+i[c]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function Uy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,S(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Wl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class as{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Fd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vE(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Xn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xn){return this.instances.has(e)}getOptions(e=Xn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_E(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xn){return this.component?this.component.multipleInstances?e:Xn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _E(t){return t===Xn?void 0:t}function vE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Y||(Y={}));const CE={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},EE=Y.INFO,xE={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},SE=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=xE[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=EE,this._logHandler=SE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...e),this._logHandler(this,Y.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...e),this._logHandler(this,Y.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...e),this._logHandler(this,Y.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...e),this._logHandler(this,Y.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...e),this._logHandler(this,Y.ERROR,...e)}}const kE=(t,e)=>e.some(n=>t instanceof n);let Vf,qf;function bE(){return Vf||(Vf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TE(){return qf||(qf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jy=new WeakMap,fc=new WeakMap,Hy=new WeakMap,Fa=new WeakMap,zd=new WeakMap;function RE(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(An(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&jy.set(n,t)}).catch(()=>{}),zd.set(e,t),e}function IE(t){if(fc.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});fc.set(t,e)}let pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Hy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return An(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PE(t){pc=t(pc)}function NE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(za(this),e,...n);return Hy.set(i,e.sort?e.sort():[e]),An(i)}:TE().includes(t)?function(...e){return t.apply(za(this),e),An(jy.get(this))}:function(...e){return An(t.apply(za(this),e))}}function OE(t){return typeof t=="function"?NE(t):(t instanceof IDBTransaction&&IE(t),kE(t,bE())?new Proxy(t,pc):t)}function An(t){if(t instanceof IDBRequest)return RE(t);if(Fa.has(t))return Fa.get(t);const e=OE(t);return e!==t&&(Fa.set(t,e),zd.set(e,t)),e}const za=t=>zd.get(t);function DE(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=An(o);return i&&o.addEventListener("upgradeneeded",a=>{i(An(o.result),a.oldVersion,a.newVersion,An(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const AE=["get","getKey","getAll","getAllKeys","count"],ME=["put","add","delete","clear"],Ua=new Map;function Gf(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ua.get(e))return Ua.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=ME.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||AE.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&a.done]))[0]};return Ua.set(e,r),r}PE(t=>({...t,get:(e,n,i)=>Gf(e,n)||t.get(e,n,i),has:(e,n)=>!!Gf(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FE(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function FE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Qf="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new By("@firebase/app"),zE="@firebase/app-compat",UE="@firebase/analytics-compat",BE="@firebase/analytics",jE="@firebase/app-check-compat",HE="@firebase/app-check",$E="@firebase/auth",WE="@firebase/auth-compat",VE="@firebase/database",qE="@firebase/database-compat",GE="@firebase/functions",QE="@firebase/functions-compat",YE="@firebase/installations",KE="@firebase/installations-compat",XE="@firebase/messaging",JE="@firebase/messaging-compat",ZE="@firebase/performance",ex="@firebase/performance-compat",tx="@firebase/remote-config",nx="@firebase/remote-config-compat",ix="@firebase/storage",sx="@firebase/storage-compat",rx="@firebase/firestore",ox="@firebase/firestore-compat",lx="firebase",ax="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",ux={[mc]:"fire-core",[zE]:"fire-core-compat",[BE]:"fire-analytics",[UE]:"fire-analytics-compat",[HE]:"fire-app-check",[jE]:"fire-app-check-compat",[$E]:"fire-auth",[WE]:"fire-auth-compat",[VE]:"fire-rtdb",[qE]:"fire-rtdb-compat",[GE]:"fire-fn",[QE]:"fire-fn-compat",[YE]:"fire-iid",[KE]:"fire-iid-compat",[XE]:"fire-fcm",[JE]:"fire-fcm-compat",[ZE]:"fire-perf",[ex]:"fire-perf-compat",[tx]:"fire-rc",[nx]:"fire-rc-compat",[ix]:"fire-gcs",[sx]:"fire-gcs-compat",[rx]:"fire-fst",[ox]:"fire-fst-compat","fire-js":"fire-js",[lx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al=new Map,cx=new Map,yc=new Map;function Yf(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cr(t){const e=t.name;if(yc.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,t);for(const n of al.values())Yf(n,t);for(const n of cx.values())Yf(n,t);return!0}function $y(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mn=new Fy("app","Firebase",dx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=ax;function Vy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gc,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Mn.create("bad-app-name",{appName:String(s)});if(n||(n=Dy()),!n)throw Mn.create("no-options");const r=al.get(s);if(r){if(hc(n,r.options)&&hc(i,r.config))return r;throw Mn.create("duplicate-app",{appName:s})}const o=new wE(s);for(const a of yc.values())o.addComponent(a);const l=new hx(n,i,o);return al.set(s,l),l}function qy(t=gc){const e=al.get(t);if(!e&&t===gc&&Dy())return Vy();if(!e)throw Mn.create("no-app",{appName:t});return e}function Ln(t,e,n){var i;let s=(i=ux[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(l.join(" "));return}Cr(new as(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="firebase-heartbeat-database",px=1,Er="firebase-heartbeat-store";let Ba=null;function Gy(){return Ba||(Ba=DE(fx,px,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Er)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mn.create("idb-open",{originalErrorMessage:t.message})})),Ba}async function mx(t){try{const n=(await Gy()).transaction(Er),i=await n.objectStore(Er).get(Qy(t));return await n.done,i}catch(e){if(e instanceof vs)hi.warn(e.message);else{const n=Mn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function Kf(t,e){try{const i=(await Gy()).transaction(Er,"readwrite");await i.objectStore(Er).put(e,Qy(t)),await i.done}catch(n){if(n instanceof vs)hi.warn(n.message);else{const i=Mn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(i.message)}}}function Qy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=1024,yx=30*24*60*60*1e3;class _x{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wx(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xf();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=yx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xf(),{heartbeatsToSend:i,unsentEntries:s}=vx(this._heartbeatsCache.heartbeats),r=ol(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Xf(){return new Date().toISOString().substring(0,10)}function vx(t,e=gx){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Jf(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jf(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class wx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lE()?aE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jf(t){return ol(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(t){Cr(new as("platform-logger",e=>new LE(e),"PRIVATE")),Cr(new as("heartbeat",e=>new _x(e),"PRIVATE")),Ln(mc,Qf,t),Ln(mc,Qf,"esm2017"),Ln("fire-js","")}Cx("");var Ex="firebase",xx="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(Ex,xx,"app");var Zf={};const ep="@firebase/database",tp="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy="";function Sx(t){Yy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Se(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:wr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new kx(e)}}catch{}return new bx},ni=Ky("localStorage"),_c=Ky("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new By("@firebase/database"),Tx=function(){let t=1;return function(){return t++}}(),Xy=function(t){const e=gE(t),n=new mE;n.update(e);const i=n.digest();return Ld.encodeByteArray(i)},Ur=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ur.apply(null,i):typeof i=="object"?e+=Se(i):e+=i,e+=" "}return e};let ri=null,np=!0;const Rx=function(t,e){S(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ki.logLevel=Y.VERBOSE,ri=Ki.log.bind(Ki),e&&_c.set("logging_enabled",!0)):typeof t=="function"?ri=t:(ri=null,_c.remove("logging_enabled"))},Fe=function(...t){if(np===!0&&(np=!1,ri===null&&_c.get("logging_enabled")===!0&&Rx(!0)),ri){const e=Ur.apply(null,t);ri(e)}},Br=function(t){return function(...e){Fe(t,...e)}},vc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ur(...t);Ki.error(e)},cn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ur(...t)}`;throw Ki.error(e),new Error(e)},ut=function(...t){const e="FIREBASE WARNING: "+Ur(...t);Ki.warn(e)},Ix=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ut("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Px=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},us="[MIN_NAME]",fi="[MAX_NAME]",ws=function(t,e){if(t===e)return 0;if(t===us||e===fi)return-1;if(e===us||t===fi)return 1;{const n=ip(t),i=ip(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},Nx=function(t,e){return t===e?0:t<e?-1:1},Ns=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Se(e))},Ud=function(t){if(typeof t!="object"||t===null)return Se(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Se(e[i]),n+=":",n+=Ud(t[e[i]]);return n+="}",n},Zy=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function it(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const e_=function(t){S(!Jy(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let h=parseInt(d.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},Ox=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Dx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ax(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const Mx=new RegExp("^-?(0*)\\d{1,10}$"),Lx=-2147483648,Fx=2147483647,ip=function(t){if(Mx.test(t)){const e=Number(t);if(e>=Lx&&e<=Fx)return e}return null},jr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw ut("Exception was thrown by user callback.",n),e},Math.floor(0))}},zx=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ks=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){ut(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ut(e)}}class Xi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Xi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="5",t_="v",n_="s",i_="r",s_="f",r_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,o_="ls",l_="p",wc="ac",a_="websocket",u_="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ni.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ni.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function jx(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function d_(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let i;if(e===a_)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===u_)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jx(t)&&(n.ns=t.namespace);const s=[];return it(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.counters_={}}incrementCounter(e,n=1){hn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return JC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja={},Ha={};function jd(t){const e=t.toString();return ja[e]||(ja[e]=new Hx),ja[e]}function $x(t,e){const n=t.toString();return Ha[n]||(Ha[n]=e()),Ha[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&jr(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="start",Vx="close",qx="pLPCommand",Gx="pRTLPCB",h_="id",f_="pw",p_="ser",Qx="cb",Yx="seg",Kx="ts",Xx="d",Jx="dframe",m_=1870,g_=30,Zx=m_-g_,eS=25e3,tS=3e4;class Bi{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Br(e),this.stats_=jd(n),this.urlFn=a=>(this.appCheckToken&&(a[wc]=this.appCheckToken),d_(n,u_,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(tS)),Px(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Hd((...r)=>{const[o,l,a,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===sp)this.id=l,this.password=a;else if(o===Vx)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[sp]="t",i[p_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Qx]=this.scriptTagHolder.uniqueCallbackIdentifier),i[t_]=Bd,this.transportSessionId&&(i[n_]=this.transportSessionId),this.lastSessionId&&(i[o_]=this.lastSessionId),this.applicationId&&(i[l_]=this.applicationId),this.appCheckToken&&(i[wc]=this.appCheckToken),typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(i[i_]=s_);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bi.forceAllow_=!0}static forceDisallow(){Bi.forceDisallow_=!0}static isAvailable(){return Bi.forceAllow_?!0:!Bi.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ox()&&!Dx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Iy(n),s=Zy(i,Zx);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[Jx]="t",i[h_]=e,i[f_]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Se(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Hd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Tx(),window[qx+this.uniqueCallbackIdentifier]=e,window[Gx+this.uniqueCallbackIdentifier]=n,this.myIFrame=Hd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Fe("frame writing exception"),l.stack&&Fe(l.stack),Fe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[h_]=this.myID,e[f_]=this.myPW,e[p_]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+g_+i.length<=m_;){const o=this.pendingSegs.shift();i=i+"&"+Yx+s+"="+o.seg+"&"+Kx+s+"="+o.ts+"&"+Xx+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(eS)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Fe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=16384,iS=45e3;let ul=null;typeof MozWebSocket<"u"?ul=MozWebSocket:typeof WebSocket<"u"&&(ul=WebSocket);class Rt{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Br(this.connId),this.stats_=jd(n),this.connURL=Rt.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[t_]=Bd,typeof location<"u"&&location.hostname&&r_.test(location.hostname)&&(o[i_]=s_),n&&(o[n_]=n),i&&(o[o_]=i),s&&(o[wc]=s),r&&(o[l_]=r),d_(e,a_,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ni.set("previous_websocket_failure",!0);try{let i;Ly(),this.mySock=new ul(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Rt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&ul!==null&&!Rt.forceDisallow_}static previouslyFailed(){return ni.isInMemoryStorage||ni.get("previous_websocket_failure")===!0}markConnectionHealthy(){ni.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=wr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(S(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Se(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Zy(n,nS);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(iS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Rt.responsesRequiredToBeHealthy=2;Rt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Bi,Rt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Rt&&Rt.isAvailable();let i=n&&!Rt.previouslyFailed();if(e.webSocketOnly&&(n||ut("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Rt];else{const s=this.transports_=[];for(const r of xr.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);xr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=6e4,rS=5e3,oS=10*1024,lS=100*1024,$a="t",rp="d",aS="s",op="r",uS="e",lp="o",ap="a",up="n",cp="p",cS="h";class dS{constructor(e,n,i,s,r,o,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Br("c:"+this.id+":"),this.transportManager_=new xr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ks(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>lS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($a in e){const n=e[$a];n===ap?this.upgradeIfSecondaryHealthy_():n===op?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===lp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ns("t",e),i=Ns("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ap,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:up,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ns("t",e),i=Ns("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ns($a,e);if(rp in e){const i=e[rp];if(n===cS){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===up){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===aS?this.onConnectionShutdown_(i):n===op?this.onReset_(i):n===uS?vc("Server Error: "+i):n===lp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bd!==i&&ut("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ks(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(sS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ks(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cp,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ni.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends __{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!My()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new cl}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=32,hp=768;class Q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function q(){return new Q("")}function U(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jn(t){return t.pieces_.length-t.pieceNum_}function K(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Q(t.pieces_,e)}function v_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function hS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function w_(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function C_(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Q(e,0)}function _e(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Q)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new Q(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function Xe(t,e){const n=U(t),i=U(e);if(n===null)return e;if(n===i)return Xe(K(t),K(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $d(t,e){if(jn(t)!==jn(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function It(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(jn(t)>jn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class fS{constructor(e,n){this.errorPrefix_=n,this.parts_=w_(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Wl(this.parts_[i]);E_(this)}}function pS(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Wl(e),E_(t)}function mS(t){const e=t.parts_.pop();t.byteLength_-=Wl(e),t.parts_.length>0&&(t.byteLength_-=1)}function E_(t){if(t.byteLength_>hp)throw new Error(t.errorPrefix_+"has a key path longer than "+hp+" bytes ("+t.byteLength_+").");if(t.parts_.length>dp)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+dp+") or object contains a cycle "+Jn(t))}function Jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends __{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Wd}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=1e3,gS=60*5*1e3,fp=30*1e3,yS=1.3,_S=3e4,vS="server_kill",pp=3;class tn extends y_{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=tn.nextPersistentConnectionId_++,this.log_=Br("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=gS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!Ly())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(Se(r)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new Fd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,u=l.s;tn.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hn(e,"w")){const i=ls(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();ut(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||fE(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=fp)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=hE(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),S(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Se(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):vc("Unrecognized action received from server: "+Se(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_S&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*yS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+tn.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},u=function(c){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Fe("getToken() completed but was canceled"):(Fe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,l=new dS(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{ut(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(vS)},r))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&ut(c),a())}}}interrupt(e){Fe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$f(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>Ud(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new Q(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Fe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=pp&&(this.reconnectDelay_=fp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=pp&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Yy.replace(/\./g,"-")]=1,My()?e["framework.cordova"]=1:oE()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cl.getInstance().currentlyOnline();return $f(this.interruptReasons_)&&e}}tn.nextPersistentConnectionId_=0;tn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new z(us,e),s=new z(us,n);return this.compare(i,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo;class x_ extends Vl{static get __EMPTY_NODE(){return mo}static set __EMPTY_NODE(e){mo=e}compare(e,n){return ws(e.name,n.name)}isDefinedOn(e){throw _s("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(fi,mo)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,mo)}toString(){return".key"}}const Ji=new x_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class xe{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??xe.RED,this.left=s??Je.EMPTY_NODE,this.right=r??Je.EMPTY_NODE}copy(e,n,i,s,r){return new xe(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Je.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Je.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}xe.RED=!0;xe.BLACK=!1;class wS{copy(e,n,i,s,r){return this}insert(e,n,i){return new xe(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Je{constructor(e,n=Je.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Je(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,xe.BLACK,null,null))}remove(e){return new Je(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xe.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new go(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new go(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new go(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new go(this.root_,null,this.comparator_,!0,e)}}Je.EMPTY_NODE=new wS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t,e){return ws(t.name,e.name)}function Vd(t,e){return ws(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc;function ES(t){Cc=t}const S_=function(t){return typeof t=="number"?"number:"+e_(t):"string:"+t},k_=function(t){if(t.isLeafNode()){const e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hn(e,".sv"),"Priority must be a string or number.")}else S(t===Cc||t.isEmpty(),"priority of unexpected type.");S(t===Cc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mp;class Ce{constructor(e,n=Ce.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),k_(this.priorityNode_)}static set __childrenNodeConstructor(e){mp=e}static get __childrenNodeConstructor(){return mp}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ce(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:U(e)===".priority"?this.priorityNode_:Ce.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ce.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=U(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(S(i!==".priority"||jn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ce.__childrenNodeConstructor.EMPTY_NODE.updateChild(K(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+S_(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=e_(this.value_):e+=this.value_,this.lazyHash_=Xy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ce.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ce.__childrenNodeConstructor?-1:(S(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ce.VALUE_TYPE_ORDER.indexOf(n),r=Ce.VALUE_TYPE_ORDER.indexOf(i);return S(s>=0,"Unknown leaf type: "+n),S(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ce.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b_,T_;function xS(t){b_=t}function SS(t){T_=t}class kS extends Vl{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?ws(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(fi,new Ce("[PRIORITY-POST]",T_))}makePost(e,n){const i=b_(e);return new z(n,new Ce("[PRIORITY-POST]",i))}toString(){return".priority"}}const ue=new kS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=Math.log(2);class TS{constructor(e){const n=r=>parseInt(Math.log(r)/bS,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dl=function(t,e,n,i){t.sort(e);const s=function(a,u){const d=u-a;let c,h;if(d===0)return null;if(d===1)return c=t[a],h=n?n(c):c,new xe(h,c.node,xe.BLACK,null,null);{const f=parseInt(d/2,10)+a,g=s(a,f),y=s(f+1,u);return c=t[f],h=n?n(c):c,new xe(h,c.node,xe.BLACK,g,y)}},r=function(a){let u=null,d=null,c=t.length;const h=function(g,y){const C=c-g,p=c;c-=g;const m=s(C+1,p),_=t[C],v=n?n(_):_;f(new xe(v,_.node,y,null,m))},f=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<a.count;++g){const y=a.nextBitIsOne(),C=Math.pow(2,a.count-(g+1));y?h(C,xe.BLACK):(h(C,xe.BLACK),h(C,xe.RED))}return d},o=new TS(t.length),l=r(o);return new Je(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa;const bi={};class Zt{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(bi&&ue,"ChildrenNode.ts has not been loaded"),Wa=Wa||new Zt({".priority":bi},{".priority":ue}),Wa}get(e){const n=ls(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Je?n:null}hasIndex(e){return hn(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Ji,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(z.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=dl(i,e.getCompare()):l=bi;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new Zt(d,u)}addToIndexes(e,n){const i=ll(this.indexes_,(s,r)=>{const o=ls(this.indexSet_,r);if(S(o,"Missing index implementation for "+r),s===bi)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(z.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),dl(l,o.getCompare())}else return bi;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new z(e.name,l))),a.insert(e,e.node)}});return new Zt(i,this.indexSet_)}removeFromIndexes(e,n){const i=ll(this.indexes_,s=>{if(s===bi)return s;{const r=n.get(e.name);return r?s.remove(new z(e.name,r)):s}});return new Zt(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds;class O{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&k_(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ds||(Ds=new O(new Je(Vd),null,Zt.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ds}updatePriority(e){return this.children_.isEmpty()?this:new O(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ds:n}}getChild(e){const n=U(e);return n===null?this:this.getImmediateChild(n).getChild(K(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(S(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new z(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?Ds:this.priorityNode_;return new O(s,o,r)}}updateChild(e,n){const i=U(e);if(i===null)return n;{S(U(e)!==".priority"||jn(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(K(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(ue,(o,l)=>{n[o]=l.val(e),i++,r&&O.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+S_(this.getPriority().val())+":"),this.forEachChild(ue,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Xy(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new z(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hr?-1:0}withIndex(e){if(e===Ji||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ji||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(ue),s=n.getIterator(ue);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ji?null:this.indexMap_.get(e.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RS extends O{constructor(){super(new Je(Vd),O.EMPTY_NODE,Zt.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}}const Hr=new RS;Object.defineProperties(z,{MIN:{value:new z(us,O.EMPTY_NODE)},MAX:{value:new z(fi,Hr)}});x_.__EMPTY_NODE=O.EMPTY_NODE;Ce.__childrenNodeConstructor=O;ES(Hr);SS(Hr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=!0;function ze(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ce(n,ze(e))}if(!(t instanceof Array)&&IS){const n=[];let i=!1;if(it(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ze(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new z(o,a)))}}),n.length===0)return O.EMPTY_NODE;const r=dl(n,CS,o=>o.name,Vd);if(i){const o=dl(n,ue.getCompare());return new O(r,ze(e),new Zt({".priority":o},{".priority":ue}))}else return new O(r,ze(e),Zt.Default)}else{let n=O.EMPTY_NODE;return it(t,(i,s)=>{if(hn(t,i)&&i.substring(0,1)!=="."){const r=ze(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(ze(e))}}xS(ze);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS extends Vl{constructor(e){super(),this.indexPath_=e,S(!B(e)&&U(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?ws(e.name,n.name):r}makePost(e,n){const i=ze(e),s=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,s)}maxPost(){const e=O.EMPTY_NODE.updateChild(this.indexPath_,Hr);return new z(fi,e)}toString(){return w_(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends Vl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ws(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const i=ze(e);return new z(n,i)}toString(){return".value"}}const OS=new NS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){return{type:"value",snapshotNode:t}}function cs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Sr(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function kr(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function DS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Sr(n,l)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(cs(n,i)):o.trackChildChange(kr(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(ue,(s,r)=>{n.hasChild(s)||i.trackChildChange(Sr(s,r))}),n.isLeafNode()||n.forEachChild(ue,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(kr(s,r,o))}else i.trackChildChange(cs(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.indexedFilter_=new qd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=br.getStartPost_(e),this.endPost_=br.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new z(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(O.EMPTY_NODE);const r=this;return n.forEachChild(ue,(o,l)=>{r.matches(new z(o,l))||(s=s.updateImmediateChild(o,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new br(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new z(n,i))||(i=O.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=O.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(O.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const c=this.index_.getCompare();o=(h,f)=>c(f,h)}else o=this.index_.getCompare();const l=e;S(l.numChildren()===this.limit_,"");const a=new z(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,a);if(d&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(kr(n,i,c)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(Sr(n,c));const y=l.updateImmediateChild(n,O.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(cs(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?e:d&&o(u,a)>=0?(r!=null&&(r.trackChildChange(Sr(u.name,u.node)),r.trackChildChange(cs(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,O.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:us}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){const e=new Gd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function MS(t){return t.loadsAllData()?new qd(t.getIndex()):t.hasLimit()?new AS(t):new br(t)}function gp(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ue?n="$priority":t.index_===OS?n="$value":t.index_===Ji?n="$key":(S(t.index_ instanceof PS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Se(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Se(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Se(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Se(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Se(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function yp(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ue&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends y_{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=Br("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=hl.getListenId_(e,i),l={};this.listens_[o]=l;const a=gp(e._queryParams);this.restRequest_(r+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(r,c,!1,i),ls(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const i=hl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=gp(e._queryParams),i=e._path.toString(),s=new Fd;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+pE(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=wr(l.responseText)}catch{ut("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&ut("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(){return{value:null,children:new Map}}function I_(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=U(e);t.children.has(i)||t.children.set(i,fl());const s=t.children.get(i);e=K(e),I_(s,e,n)}}function Ec(t,e,n){t.value!==null?n(e,t.value):FS(t,(i,s)=>{const r=new Q(e.toString()+"/"+i);Ec(s,r,n)})}function FS(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&it(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p=10*1e3,US=30*1e3,BS=5*60*1e3;class jS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zS(e);const i=_p+(US-_p)*Math.random();Ks(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;it(e,(s,r)=>{r>0&&hn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),Ks(this.reportStats_.bind(this),Math.floor(Math.random()*2*BS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Pt||(Pt={}));function P_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Qd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Yd(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Pt.ACK_USER_WRITE,this.source=P_()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Q(e));return new pl(q(),n,this.revert)}}else return S(U(this.path)===e,"operationForChild called for unrelated child."),new pl(K(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n){this.source=e,this.path=n,this.type=Pt.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new Tr(this.source,q()):new Tr(this.source,K(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Pt.OVERWRITE}operationForChild(e){return B(this.path)?new pi(this.source,q(),this.snap.getImmediateChild(e)):new pi(this.source,K(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Pt.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new pi(this.source,q(),n.value):new Rr(this.source,q(),n)}else return S(U(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Rr(this.source,K(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=U(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $S(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(DS(o.childName,o.snapshotNode))}),As(t,s,"child_removed",e,i,n),As(t,s,"child_added",e,i,n),As(t,s,"child_moved",r,i,n),As(t,s,"child_changed",e,i,n),As(t,s,"value",e,i,n),s}function As(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>VS(t,l,a)),o.forEach(l=>{const a=WS(t,l,r);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function WS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function VS(t,e,n){if(e.childName==null||n.childName==null)throw _s("Should only compare child_ events.");const i=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t,e){return{eventCache:t,serverCache:e}}function Xs(t,e,n,i){return ql(new mi(e,n,i),t.serverCache)}function N_(t,e,n,i){return ql(t.eventCache,new mi(e,n,i))}function xc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va;const qS=()=>(Va||(Va=new Je(Nx)),Va);class Z{constructor(e,n=qS()){this.value=e,this.children=n}static fromObject(e){let n=new Z(null);return it(e,(i,s)=>{n=n.set(new Q(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:q(),value:this.value};if(B(e))return null;{const i=U(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(K(e),n);return r!=null?{path:_e(new Q(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=U(e),i=this.children.get(n);return i!==null?i.subtree(K(e)):new Z(null)}}set(e,n){if(B(e))return new Z(n,this.children);{const i=U(e),r=(this.children.get(i)||new Z(null)).set(K(e),n),o=this.children.insert(i,r);return new Z(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new Z(null):new Z(null,this.children);{const n=U(e),i=this.children.get(n);if(i){const s=i.remove(K(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new Z(null):new Z(this.value,r)}else return this}}get(e){if(B(e))return this.value;{const n=U(e),i=this.children.get(n);return i?i.get(K(e)):null}}setTree(e,n){if(B(e))return n;{const i=U(e),r=(this.children.get(i)||new Z(null)).setTree(K(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new Z(this.value,o)}}fold(e){return this.fold_(q(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(_e(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,q(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(B(e))return null;{const r=U(e),o=this.children.get(r);return o?o.findOnPath_(K(e),_e(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,q(),n)}foreachOnPath_(e,n,i){if(B(e))return this;{this.value&&i(n,this.value);const s=U(e),r=this.children.get(s);return r?r.foreachOnPath_(K(e),_e(n,s),i):new Z(null)}}foreach(e){this.foreach_(q(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(_e(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.writeTree_=e}static empty(){return new Dt(new Z(null))}}function Js(t,e,n){if(B(e))return new Dt(new Z(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=Xe(s,e);return r=r.updateChild(o,n),new Dt(t.writeTree_.set(s,r))}else{const s=new Z(n),r=t.writeTree_.setTree(e,s);return new Dt(r)}}}function vp(t,e,n){let i=t;return it(n,(s,r)=>{i=Js(i,_e(e,s),r)}),i}function wp(t,e){if(B(e))return Dt.empty();{const n=t.writeTree_.setTree(e,new Z(null));return new Dt(n)}}function Sc(t,e){return xi(t,e)!=null}function xi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Xe(n.path,e)):null}function Cp(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(i,s)=>{e.push(new z(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new z(i,s.value))}),e}function Fn(t,e){if(B(e))return t;{const n=xi(t,e);return n!=null?new Dt(new Z(n)):new Dt(t.writeTree_.subtree(e))}}function kc(t){return t.writeTree_.isEmpty()}function ds(t,e){return O_(q(),t.writeTree_,e)}function O_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(S(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=O_(_e(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(_e(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e){return L_(e,t)}function GS(t,e,n,i,s){S(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Js(t.visibleWrites,e,n)),t.lastWriteId=i}function QS(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function YS(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&KS(l,i.path)?s=!1:It(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return XS(t),!0;if(i.snap)t.visibleWrites=wp(t.visibleWrites,i.path);else{const l=i.children;it(l,a=>{t.visibleWrites=wp(t.visibleWrites,_e(i.path,a))})}return!0}else return!1}function KS(t,e){if(t.snap)return It(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&It(_e(t.path,n),e))return!0;return!1}function XS(t){t.visibleWrites=D_(t.allWrites,JS,q()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function JS(t){return t.visible}function D_(t,e,n){let i=Dt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)It(n,o)?(l=Xe(n,o),i=Js(i,l,r.snap)):It(o,n)&&(l=Xe(o,n),i=Js(i,q(),r.snap.getChild(l)));else if(r.children){if(It(n,o))l=Xe(n,o),i=vp(i,l,r.children);else if(It(o,n))if(l=Xe(o,n),B(l))i=vp(i,q(),r.children);else{const a=ls(r.children,U(l));if(a){const u=a.getChild(K(l));i=Js(i,q(),u)}}}else throw _s("WriteRecord should have .snap or .children")}}return i}function A_(t,e,n,i,s){if(!i&&!s){const r=xi(t.visibleWrites,e);if(r!=null)return r;{const o=Fn(t.visibleWrites,e);if(kc(o))return n;if(n==null&&!Sc(o,q()))return null;{const l=n||O.EMPTY_NODE;return ds(o,l)}}}else{const r=Fn(t.visibleWrites,e);if(!s&&kc(r))return n;if(!s&&n==null&&!Sc(r,q()))return null;{const o=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(It(u.path,e)||It(e,u.path))},l=D_(t.allWrites,o,e),a=n||O.EMPTY_NODE;return ds(l,a)}}}function ZS(t,e,n){let i=O.EMPTY_NODE;const s=xi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ue,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=Fn(t.visibleWrites,e);return n.forEachChild(ue,(o,l)=>{const a=ds(Fn(r,new Q(o)),l);i=i.updateImmediateChild(o,a)}),Cp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=Fn(t.visibleWrites,e);return Cp(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function ek(t,e,n,i,s){S(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=_e(e,n);if(Sc(t.visibleWrites,r))return null;{const o=Fn(t.visibleWrites,r);return kc(o)?s.getChild(n):ds(o,s.getChild(n))}}function tk(t,e,n,i){const s=_e(e,n),r=xi(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=Fn(t.visibleWrites,s);return ds(o,i.getNode().getImmediateChild(n))}else return null}function nk(t,e){return xi(t.visibleWrites,e)}function ik(t,e,n,i,s,r,o){let l;const a=Fn(t.visibleWrites,e),u=xi(a,q());if(u!=null)l=u;else if(n!=null)l=ds(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),h=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let f=h.getNext();for(;f&&d.length<s;)c(f,i)!==0&&d.push(f),f=h.getNext();return d}else return[]}function sk(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function ml(t,e,n,i){return A_(t.writeTree,t.treePath,e,n,i)}function Xd(t,e){return ZS(t.writeTree,t.treePath,e)}function Ep(t,e,n,i){return ek(t.writeTree,t.treePath,e,n,i)}function gl(t,e){return nk(t.writeTree,_e(t.treePath,e))}function rk(t,e,n,i,s,r){return ik(t.writeTree,t.treePath,e,n,i,s,r)}function Jd(t,e,n){return tk(t.writeTree,t.treePath,e,n)}function M_(t,e){return L_(_e(t.treePath,e),t.writeTree)}function L_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,kr(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,Sr(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,cs(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,kr(i,e.snapshotNode,s.oldSnap));else throw _s("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const F_=new lk;class Zd{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new mi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gi(this.viewCache_),r=rk(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return{filter:t}}function uk(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ck(t,e,n,i,s){const r=new ok;let o,l;if(n.type===Pt.OVERWRITE){const u=n;u.source.fromUser?o=bc(t,e,u.path,u.snap,i,s,r):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!B(u.path),o=yl(t,e,u.path,u.snap,i,s,l,r))}else if(n.type===Pt.MERGE){const u=n;u.source.fromUser?o=hk(t,e,u.path,u.children,i,s,r):(S(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Tc(t,e,u.path,u.children,i,s,l,r))}else if(n.type===Pt.ACK_USER_WRITE){const u=n;u.revert?o=mk(t,e,u.path,i,s,r):o=fk(t,e,u.path,u.affectedTree,i,s,r)}else if(n.type===Pt.LISTEN_COMPLETE)o=pk(t,e,n.path,i,r);else throw _s("Unknown operation type: "+n.type);const a=r.getChanges();return dk(e,o,a),{viewCache:o,changes:a}}function dk(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=xc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(R_(xc(e)))}}function z_(t,e,n,i,s,r){const o=e.eventCache;if(gl(i,n)!=null)return e;{let l,a;if(B(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=gi(e),d=u instanceof O?u:O.EMPTY_NODE,c=Xd(i,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const u=ml(i,gi(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=U(n);if(u===".priority"){S(jn(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const c=Ep(i,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=K(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=Ep(i,n,o.getNode(),a);h!=null?c=o.getNode().getImmediateChild(u).updateChild(d,h):c=o.getNode().getImmediateChild(u)}else c=Jd(i,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,d,s,r):l=o.getNode()}}return Xs(e,l,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function yl(t,e,n,i,s,r,o,l){const a=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(B(n))u=d.updateFullNode(a.getNode(),i,null);else if(d.filtersNodes()&&!a.isFiltered()){const f=a.getNode().updateChild(n,i);u=d.updateFullNode(a.getNode(),f,null)}else{const f=U(n);if(!a.isCompleteForPath(n)&&jn(n)>1)return e;const g=K(n),C=a.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?u=d.updatePriority(a.getNode(),C):u=d.updateChild(a.getNode(),f,C,g,F_,null)}const c=N_(e,u,a.isFullyInitialized()||B(n),d.filtersNodes()),h=new Zd(s,c,r);return z_(t,c,n,s,h,l)}function bc(t,e,n,i,s,r,o){const l=e.eventCache;let a,u;const d=new Zd(s,e,r);if(B(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=Xs(e,u,!0,t.filter.filtersNodes());else{const c=U(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),a=Xs(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=K(n),f=l.getNode().getImmediateChild(c);let g;if(B(h))g=i;else{const y=d.getCompleteChild(c);y!=null?v_(h)===".priority"&&y.getChild(C_(h)).isEmpty()?g=y:g=y.updateChild(h,i):g=O.EMPTY_NODE}if(f.equals(g))a=e;else{const y=t.filter.updateChild(l.getNode(),c,g,h,d,o);a=Xs(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function xp(t,e){return t.eventCache.isCompleteForChild(e)}function hk(t,e,n,i,s,r,o){let l=e;return i.foreach((a,u)=>{const d=_e(n,a);xp(e,U(d))&&(l=bc(t,l,d,u,s,r,o))}),i.foreach((a,u)=>{const d=_e(n,a);xp(e,U(d))||(l=bc(t,l,d,u,s,r,o))}),l}function Sp(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Tc(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;B(n)?u=i:u=new Z(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(d.hasChild(c)){const f=e.serverCache.getNode().getImmediateChild(c),g=Sp(t,f,h);a=yl(t,a,new Q(c),g,s,r,o,l)}}),u.children.inorderTraversal((c,h)=>{const f=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!d.hasChild(c)&&!f){const g=e.serverCache.getNode().getImmediateChild(c),y=Sp(t,g,h);a=yl(t,a,new Q(c),y,s,r,o,l)}}),a}function fk(t,e,n,i,s,r,o){if(gl(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(B(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return yl(t,e,n,a.getNode().getChild(n),s,r,l,o);if(B(n)){let u=new Z(null);return a.getNode().forEachChild(Ji,(d,c)=>{u=u.set(new Q(d),c)}),Tc(t,e,n,u,s,r,l,o)}else return e}else{let u=new Z(null);return i.foreach((d,c)=>{const h=_e(n,d);a.isCompleteForPath(h)&&(u=u.set(d,a.getNode().getChild(h)))}),Tc(t,e,n,u,s,r,l,o)}}function pk(t,e,n,i,s){const r=e.serverCache,o=N_(e,r.getNode(),r.isFullyInitialized()||B(n),r.isFiltered());return z_(t,o,n,i,F_,s)}function mk(t,e,n,i,s,r){let o;if(gl(i,n)!=null)return e;{const l=new Zd(i,e,s),a=e.eventCache.getNode();let u;if(B(n)||U(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=ml(i,gi(e));else{const c=e.serverCache.getNode();S(c instanceof O,"serverChildren would be complete if leaf node"),d=Xd(i,c)}d=d,u=t.filter.updateFullNode(a,d,r)}else{const d=U(n);let c=Jd(i,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,K(n),l,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,O.EMPTY_NODE,K(n),l,r):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ml(i,gi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,r)))}return o=e.serverCache.isFullyInitialized()||gl(i,q())!=null,Xs(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new qd(i.getIndex()),r=MS(i);this.processor_=ak(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(O.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(O.EMPTY_NODE,l.getNode(),null),d=new mi(a,o.isFullyInitialized(),s.filtersNodes()),c=new mi(u,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=ql(c,d),this.eventGenerator_=new HS(this.query_)}get query(){return this.query_}}function yk(t){return t.viewCache_.serverCache.getNode()}function _k(t,e){const n=gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(U(e)).isEmpty())?n.getChild(e):null}function kp(t){return t.eventRegistrations_.length===0}function vk(t,e){t.eventRegistrations_.push(e)}function bp(t,e,n){const i=[];if(n){S(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Tp(t,e,n,i){e.type===Pt.MERGE&&e.source.queryId!==null&&(S(gi(t.viewCache_),"We should always have a full cache before handling merges"),S(xc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=ck(t.processor_,s,e,n,i);return uk(t.processor_,r.viewCache),S(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,U_(t,r.changes,r.viewCache.eventCache.getNode(),null)}function wk(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(r,o)=>{i.push(cs(r,o))}),n.isFullyInitialized()&&i.push(R_(n.getNode())),U_(t,i,n.getNode(),e)}function U_(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return $S(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _l;class Ck{constructor(){this.views=new Map}}function Ek(t){S(!_l,"__referenceConstructor has already been defined"),_l=t}function xk(){return S(_l,"Reference.ts has not been loaded"),_l}function Sk(t){return t.views.size===0}function eh(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return S(r!=null,"SyncTree gave us an op for an invalid query."),Tp(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(Tp(o,e,n,i));return r}}function kk(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=ml(n,s?i:null),a=!1;l?a=!0:i instanceof O?(l=Xd(n,i),a=!1):(l=O.EMPTY_NODE,a=!1);const u=ql(new mi(l,a,!1),new mi(i,s,!1));return new gk(e,u)}return o}function bk(t,e,n,i,s,r){const o=kk(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),vk(o,n),wk(o,n)}function Tk(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Hn(t);if(s==="default")for(const[a,u]of t.views.entries())o=o.concat(bp(u,n,i)),kp(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||r.push(u.query));else{const a=t.views.get(s);a&&(o=o.concat(bp(a,n,i)),kp(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Hn(t)&&r.push(new(xk())(e._repo,e._path)),{removed:r,events:o}}function B_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Zi(t,e){let n=null;for(const i of t.views.values())n=n||_k(i,e);return n}function j_(t,e){if(e._queryParams.loadsAllData())return Gl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function H_(t,e){return j_(t,e)!=null}function Hn(t){return Gl(t)!=null}function Gl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl;function Rk(t){S(!vl,"__referenceConstructor has already been defined"),vl=t}function Ik(){return S(vl,"Reference.ts has not been loaded"),vl}let Pk=1;class Rp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Z(null),this.pendingWriteTree_=sk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Nk(t,e,n,i,s){return GS(t.pendingWriteTree_,e,n,i,s),s?$r(t,new pi(P_(),e,n)):[]}function ji(t,e,n=!1){const i=QS(t.pendingWriteTree_,e);if(YS(t.pendingWriteTree_,e)){let r=new Z(null);return i.snap!=null?r=r.set(q(),!0):it(i.children,o=>{r=r.set(new Q(o),!0)}),$r(t,new pl(i.path,r,n))}else return[]}function Ql(t,e,n){return $r(t,new pi(Qd(),e,n))}function Ok(t,e,n){const i=Z.fromObject(n);return $r(t,new Rr(Qd(),e,i))}function Dk(t,e){return $r(t,new Tr(Qd(),e))}function Ak(t,e,n){const i=th(t,n);if(i){const s=nh(i),r=s.path,o=s.queryId,l=Xe(r,e),a=new Tr(Yd(o),l);return ih(t,r,a)}else return[]}function Rc(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||H_(o,e))){const a=Tk(o,e,n,i);Sk(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const u=a.removed;if(l=a.events,!s){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(r,(h,f)=>Hn(f));if(d&&!c){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const f=Fk(h);for(let g=0;g<f.length;++g){const y=f[g],C=y.query,p=q_(t,y);t.listenProvider_.startListening(Zs(C),wl(t,C),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!i&&(d?t.listenProvider_.stopListening(Zs(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Yl(h));t.listenProvider_.stopListening(Zs(h),f)}))}zk(t,u)}return l}function Mk(t,e,n,i){const s=th(t,i);if(s!=null){const r=nh(s),o=r.path,l=r.queryId,a=Xe(o,e),u=new pi(Yd(l),a,n);return ih(t,o,u)}else return[]}function Lk(t,e,n,i){const s=th(t,i);if(s){const r=nh(s),o=r.path,l=r.queryId,a=Xe(o,e),u=Z.fromObject(n),d=new Rr(Yd(l),a,u);return ih(t,o,d)}else return[]}function Ip(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,f)=>{const g=Xe(h,s);r=r||Zi(f,g),o=o||Hn(f)});let l=t.syncPointTree_.get(s);l?(o=o||Hn(l),r=r||Zi(l,q())):(l=new Ck,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=O.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,g)=>{const y=Zi(g,q());y&&(r=r.updateImmediateChild(f,y))}));const u=H_(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=Yl(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Uk();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const d=Kd(t.pendingWriteTree_,s);let c=bk(l,e,n,d,r,a);if(!u&&!o&&!i){const h=j_(l,e);c=c.concat(Bk(t,e,h))}return c}function $_(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=Xe(o,e),u=Zi(l,a);if(u)return u});return A_(s,e,r,n,!0)}function $r(t,e){return W_(e,t.syncPointTree_,null,Kd(t.pendingWriteTree_,q()))}function W_(t,e,n,i){if(B(t.path))return V_(t,e,n,i);{const s=e.get(q());n==null&&s!=null&&(n=Zi(s,q()));let r=[];const o=U(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=M_(i,o);r=r.concat(W_(l,a,u,d))}return s&&(r=r.concat(eh(s,t,i,n))),r}}function V_(t,e,n,i){const s=e.get(q());n==null&&s!=null&&(n=Zi(s,q()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=M_(i,o),d=t.operationForChild(o);d&&(r=r.concat(V_(d,l,a,u)))}),s&&(r=r.concat(eh(s,t,i,n))),r}function q_(t,e){const n=e.query,i=wl(t,n);return{hashFn:()=>(yk(e)||O.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Ak(t,n._path,i):Dk(t,n._path);{const r=Ax(s,n);return Rc(t,n,null,r)}}}}function wl(t,e){const n=Yl(e);return t.queryToTagMap.get(n)}function Yl(t){return t._path.toString()+"$"+t._queryIdentifier}function th(t,e){return t.tagToQueryMap.get(e)}function nh(t){const e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}}function ih(t,e,n){const i=t.syncPointTree_.get(e);S(i,"Missing sync point for query tag that we're tracking");const s=Kd(t.pendingWriteTree_,e);return eh(i,n,s,null)}function Fk(t){return t.fold((e,n,i)=>{if(n&&Hn(n))return[Gl(n)];{let s=[];return n&&(s=B_(n)),it(i,(r,o)=>{s=s.concat(o)}),s}})}function Zs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Ik())(t._repo,t._path):t}function zk(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Yl(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function Uk(){return Pk++}function Bk(t,e,n){const i=e._path,s=wl(t,e),r=q_(t,n),o=t.listenProvider_.startListening(Zs(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)S(!Hn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!B(u)&&d&&Hn(d))return[Gl(d).query];{let h=[];return d&&(h=h.concat(B_(d).map(f=>f.query))),it(c,(f,g)=>{h=h.concat(g)}),h}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(Zs(d),wl(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sh(n)}node(){return this.node_}}class rh{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=_e(this.path_,e);return new rh(this.syncTree_,n)}node(){return $_(this.syncTree_,this.path_)}}const jk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Pp=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Hk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $k(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Hk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},$k=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&S(!1,"Unexpected increment value: "+i);const s=e.node();if(S(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},Wk=function(t,e,n,i){return oh(e,new rh(n,t),i)},Vk=function(t,e,n){return oh(t,new sh(e),n)};function oh(t,e,n){const i=t.getPriority().val(),s=Pp(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=Pp(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new Ce(l,ze(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new Ce(s))),o.forEachChild(ue,(l,a)=>{const u=oh(a,e.getImmediateChild(l),n);u!==a&&(r=r.updateImmediateChild(l,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function ah(t,e){let n=e instanceof Q?e:new Q(e),i=t,s=U(n);for(;s!==null;){const r=ls(i.node.children,s)||{children:{},childCount:0};i=new lh(s,i,r),n=K(n),s=U(n)}return i}function Cs(t){return t.node.value}function G_(t,e){t.node.value=e,Ic(t)}function Q_(t){return t.node.childCount>0}function qk(t){return Cs(t)===void 0&&!Q_(t)}function Kl(t,e){it(t.node.children,(n,i)=>{e(new lh(n,t,i))})}function Y_(t,e,n,i){n&&!i&&e(t),Kl(t,s=>{Y_(s,e,!0,i)}),n&&i&&e(t)}function Gk(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Wr(t){return new Q(t.parent===null?t.name:Wr(t.parent)+"/"+t.name)}function Ic(t){t.parent!==null&&Qk(t.parent,t.name,t)}function Qk(t,e,n){const i=qk(n),s=hn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Ic(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Ic(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=/[\[\].#$\/\u0000-\u001F\u007F]/,Kk=/[\[\].#$\u0000-\u001F\u007F]/,qa=10*1024*1024,K_=function(t){return typeof t=="string"&&t.length!==0&&!Yk.test(t)},X_=function(t){return typeof t=="string"&&t.length!==0&&!Kk.test(t)},Xk=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),X_(t)},J_=function(t,e,n){const i=n instanceof Q?new fS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Jn(i));if(typeof e=="function")throw new Error(t+"contains a function "+Jn(i)+" with contents = "+e.toString());if(Jy(e))throw new Error(t+"contains "+e.toString()+" "+Jn(i));if(typeof e=="string"&&e.length>qa/3&&Wl(e)>qa)throw new Error(t+"contains a string greater than "+qa+" utf8 bytes "+Jn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(it(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!K_(o)))throw new Error(t+" contains an invalid key ("+o+") "+Jn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);pS(i,o),J_(t,l,i),mS(i)}),s&&r)throw new Error(t+' contains ".value" child '+Jn(i)+" in addition to actual children.")}},Z_=function(t,e,n,i){if(!(i&&n===void 0)&&!X_(n))throw new Error(Uy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Jk=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z_(t,e,n,i)},Zk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!K_(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Xk(n))throw new Error(Uy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ev(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!$d(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function tv(t,e,n){ev(t,n),nv(t,i=>$d(i,e))}function Si(t,e,n){ev(t,n),nv(t,i=>It(i,e)||It(e,i))}function nv(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(t1(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function t1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ri&&Fe("event: "+n.toString()),jr(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="repo_interrupt",i1=25;class s1{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new e1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fl(),this.transactionQueueTree_=new lh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function r1(t,e,n){if(t.stats_=jd(t.repoInfo_),t.forceRestClient_||zx())t.server_=new hl(t.repoInfo_,(i,s,r,o)=>{Np(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Op(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Se(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new tn(t.repoInfo_,e,(i,s,r,o)=>{Np(t,i,s,r,o)},i=>{Op(t,i)},i=>{l1(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=$x(t.repoInfo_,()=>new jS(t.stats_,t.server_)),t.infoData_=new LS,t.infoSyncTree_=new Rp({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=Ql(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),uh(t,"connected",!1),t.serverSyncTree_=new Rp({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const u=o(l,a);Si(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function o1(t){const n=t.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function iv(t){return jk({timestamp:o1(t)})}function Np(t,e,n,i,s){t.dataUpdateCount++;const r=new Q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=ll(n,u=>ze(u));o=Lk(t.serverSyncTree_,r,a,s)}else{const a=ze(n);o=Mk(t.serverSyncTree_,r,a,s)}else if(i){const a=ll(n,u=>ze(u));o=Ok(t.serverSyncTree_,r,a)}else{const a=ze(n);o=Ql(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=dh(t,r)),Si(t.eventQueue_,l,o)}function Op(t,e){uh(t,"connected",e),e===!1&&u1(t)}function l1(t,e){it(e,(n,i)=>{uh(t,n,i)})}function uh(t,e,n){const i=new Q("/.info/"+e),s=ze(n);t.infoData_.updateSnapshot(i,s);const r=Ql(t.infoSyncTree_,i,s);Si(t.eventQueue_,i,r)}function a1(t){return t.nextWriteId_++}function u1(t){sv(t,"onDisconnectEvents");const e=iv(t),n=fl();Ec(t.onDisconnect_,q(),(s,r)=>{const o=Wk(s,r,t.serverSyncTree_,e);I_(n,s,o)});let i=[];Ec(n,q(),(s,r)=>{i=i.concat(Ql(t.serverSyncTree_,s,r));const o=p1(t,s);dh(t,o)}),t.onDisconnect_=fl(),Si(t.eventQueue_,q(),i)}function c1(t,e,n){let i;U(e._path)===".info"?i=Ip(t.infoSyncTree_,e,n):i=Ip(t.serverSyncTree_,e,n),tv(t.eventQueue_,e._path,i)}function Pc(t,e,n){let i;U(e._path)===".info"?i=Rc(t.infoSyncTree_,e,n):i=Rc(t.serverSyncTree_,e,n),tv(t.eventQueue_,e._path,i)}function d1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(n1)}function sv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fe(n,...e)}function rv(t,e,n){return $_(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function ch(t,e=t.transactionQueueTree_){if(e||Xl(t,e),Cs(e)){const n=lv(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&h1(t,Wr(e),n)}else Q_(e)&&Kl(e,n=>{ch(t,n)})}function h1(t,e,n){const i=n.map(u=>u.currentWriteId),s=rv(t,e,i);let r=s;const o=s.hash();for(let u=0;u<n.length;u++){const d=n[u];S(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=Xe(e,d.path);r=r.updateChild(c,d.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,u=>{sv(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(ji(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Xl(t,ah(t.transactionQueueTree_,e)),ch(t,t.transactionQueueTree_),Si(t.eventQueue_,e,d);for(let h=0;h<c.length;h++)jr(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{ut("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}dh(t,e)}},o)}function dh(t,e){const n=ov(t,e),i=Wr(n),s=lv(t,n);return f1(t,s,i),i}function f1(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=Xe(n,a.path);let d=!1,c;if(S(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,s=s.concat(ji(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=i1)d=!0,c="maxretry",s=s.concat(ji(t.serverSyncTree_,a.currentWriteId,!0));else{const h=rv(t,a.path,o);a.currentInputSnapshot=h;const f=e[l].update(h.val());if(f!==void 0){J_("transaction failed: Data returned ",f,a.path);let g=ze(f);typeof f=="object"&&f!=null&&hn(f,".priority")||(g=g.updatePriority(h.getPriority()));const C=a.currentWriteId,p=iv(t),m=Vk(g,h,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=a1(t),o.splice(o.indexOf(C),1),s=s.concat(Nk(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),s=s.concat(ji(t.serverSyncTree_,C,!0))}else d=!0,c="nodata",s=s.concat(ji(t.serverSyncTree_,a.currentWriteId,!0))}Si(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(c),!1,null))))}Xl(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)jr(i[l]);ch(t,t.transactionQueueTree_)}function ov(t,e){let n,i=t.transactionQueueTree_;for(n=U(e);n!==null&&Cs(i)===void 0;)i=ah(i,n),e=K(e),n=U(e);return i}function lv(t,e){const n=[];return av(t,e,n),n.sort((i,s)=>i.order-s.order),n}function av(t,e,n){const i=Cs(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Kl(e,s=>{av(t,s,n)})}function Xl(t,e){const n=Cs(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,G_(e,n.length>0?n:void 0)}Kl(e,i=>{Xl(t,i)})}function p1(t,e){const n=Wr(ov(t,e)),i=ah(t.transactionQueueTree_,e);return Gk(i,s=>{Ga(t,s)}),Ga(t,i),Y_(i,s=>{Ga(t,s)}),n}function Ga(t,e){const n=Cs(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(ji(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?G_(e,void 0):n.length=r+1,Si(t.eventQueue_,Wr(e),s);for(let o=0;o<i.length;o++)jr(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function g1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):ut(`Invalid query segment '${n}' in query '${t}'`)}return e}const Dp=function(t,e){const n=y1(t),i=n.namespace;n.domain==="firebase.com"&&cn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Ix();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new c_(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new Q(n.pathString)}},y1=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(s=m1(t.substring(d,c)));const h=g1(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in h&&(r=h.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Se(this.snapshot.exportVal())}}class cv{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return B(this._path)?null:v_(this._path)}get ref(){return new pn(this._repo,this._path)}get _queryIdentifier(){const e=yp(this._queryParams),n=Ud(e);return n==="{}"?"default":n}get _queryObject(){return yp(this._queryParams)}isEqual(e){if(e=fn(e),!(e instanceof hh))return!1;const n=this._repo===e._repo,i=$d(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+hS(this._path)}}class pn extends hh{constructor(e,n){super(e,n,new Gd,!1)}get parent(){const e=C_(this._path);return e===null?null:new pn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ir{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Q(e),i=Cl(this.ref,e);return new Ir(this._node.getChild(n),i,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new Ir(s,Cl(this.ref,i),ue)))}hasChild(e){const n=new Q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function _1(t,e){return t=fn(t),t._checkNotDeleted("ref"),e!==void 0?Cl(t._root,e):t._root}function Cl(t,e){return t=fn(t),U(t._path)===null?Jk("child","path",e,!1):Z_("child","path",e,!1),new pn(t._repo,_e(t._path,e))}class Jl{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new uv("value",this,new Ir(e.snapshotNode,new pn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new cv(this,e,n):null}matches(e){return e instanceof Jl?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Zl{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new cv(this,e,n):null}createEvent(e,n){S(e.childName!=null,"Child events should have a childName.");const i=Cl(new pn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new uv(e.type,this,new Ir(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Zl?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function v1(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const a=n,u=(d,c)=>{Pc(t._repo,t,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new dv(n,r||void 0),l=e==="value"?new Jl(o):new Zl(e,o);return c1(t._repo,t,l),()=>Pc(t._repo,t,l)}function w1(t,e,n,i){return v1(t,"value",e,n,i)}function C1(t,e,n){let i=null;const s=n?new dv(n):null;e==="value"?i=new Jl(s):e&&(i=new Zl(e,s)),Pc(t._repo,t,i)}Ek(pn);Rk(pn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="FIREBASE_DATABASE_EMULATOR_HOST",Nc={};let x1=!1;function S1(t,e,n,i){t.repoInfo_=new c_(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function k1(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fe("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Dp(r,s),l=o.repoInfo,a,u;typeof process<"u"&&Zf&&(u=Zf[E1]),u?(a=!0,r=`http://${u}?ns=${l.namespace}`,o=Dp(r,s),l=o.repoInfo):a=!o.repoInfo.secure;const d=s&&a?new Xi(Xi.OWNER):new Bx(t.name,t.options,e);Zk("Invalid Firebase Database URL",o),B(o.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const c=T1(l,t,d,new Ux(t.name,n));return new R1(c,t)}function b1(t,e){const n=Nc[e];(!n||n[t.key]!==t)&&cn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),d1(t),delete n[t.key]}function T1(t,e,n,i){let s=Nc[e.name];s||(s={},Nc[e.name]=s);let r=s[t.toURLString()];return r&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new s1(t,x1,n,i),s[t.toURLString()]=r,r}class R1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(r1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pn(this._repo,q())),this._rootInternal}_delete(){return this._rootInternal!==null&&(b1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cn("Cannot call "+e+" on a deleted database.")}}function I1(t=qy(),e){const n=$y(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=Oy("database");i&&P1(n,...i)}return n}function P1(t,e,n,i={}){t=fn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Xi(Xi.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:Ay(i.mockUserToken,t.app.options.projectId);r=new Xi(o)}S1(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){Sx(Wy),Cr(new as("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return k1(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),Ln(ep,tp,t),Ln(ep,tp,"esm2017")}tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};N1();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="firebasestorage.googleapis.com",fv="storageBucket",O1=2*60*1e3,D1=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de extends vs{constructor(e,n,i=0){super(Qa(e),`Firebase Storage: ${n} (${Qa(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,de.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qa(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ce;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ce||(ce={}));function Qa(t){return"storage/"+t}function fh(){const t="An unknown error occurred, please check the error payload for server response.";return new de(ce.UNKNOWN,t)}function A1(t){return new de(ce.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function M1(t){return new de(ce.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function L1(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new de(ce.UNAUTHENTICATED,t)}function F1(){return new de(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function z1(t){return new de(ce.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function U1(){return new de(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function B1(){return new de(ce.CANCELED,"User canceled the upload/download.")}function j1(t){return new de(ce.INVALID_URL,"Invalid URL '"+t+"'.")}function H1(t){return new de(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $1(){return new de(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+fv+"' property when initializing the app?")}function W1(){return new de(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function V1(){return new de(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q1(t){return new de(ce.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Oc(t){return new de(ce.INVALID_ARGUMENT,t)}function pv(){return new de(ce.APP_DELETED,"The Firebase app was deleted.")}function G1(t){return new de(ce.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function er(t,e){return new de(ce.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ms(t){throw new de(ce.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=lt.makeFromUrl(e,n)}catch{return new lt(e,"")}if(i.path==="")return i;throw H1(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(v){v.path.charAt(v.path.length-1)==="/"&&(v.path_=v.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),a={bucket:1,path:3};function u(v){v.path_=decodeURIComponent(v.path)}const d="v[A-Za-z0-9_]+",c=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${c}/${d}/b/${s}/o${h}`,"i"),g={bucket:1,path:3},y=n===hv?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",p=new RegExp(`^https?://${y}/${s}/${C}`,"i"),_=[{regex:l,indices:a,postModify:r},{regex:f,indices:g,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let v=0;v<_.length;v++){const k=_[v],T=k.regex.exec(e);if(T){const b=T[k.indices.bucket];let R=T[k.indices.path];R||(R=""),i=new lt(b,R),k.postModify(i);break}}if(i==null)throw j1(e);return i}}class Q1{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e,n){let i=1,s=null,r=null,o=!1,l=0;function a(){return l===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function c(C){s=setTimeout(()=>{s=null,t(f,a())},C)}function h(){r&&clearTimeout(r)}function f(C,...p){if(u){h();return}if(C){h(),d.call(null,C,...p);return}if(a()||o){h(),d.call(null,C,...p);return}i<64&&(i*=2);let _;l===1?(l=2,_=0):_=(i+Math.random())*1e3,c(_)}let g=!1;function y(C){g||(g=!0,h(),!u&&(s!==null?(C||(l=2),clearTimeout(s),c(0)):C||(l=1)))}return c(0),r=setTimeout(()=>{o=!0,y(!0)},n),y}function K1(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){return t!==void 0}function J1(t){return typeof t=="object"&&!Array.isArray(t)}function ph(t){return typeof t=="string"||t instanceof String}function Ap(t){return mh()&&t instanceof Blob}function mh(){return typeof Blob<"u"}function Mp(t,e,n,i){if(i<e)throw Oc(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw Oc(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e,n){let i=e;return n==null&&(i=`https://${e}`),`${n}://${i}/v0${t}`}function mv(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(oi||(oi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,i,s,r,o,l,a,u,d,c,h=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=a,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=c,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new yo(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const o=l=>{const a=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(a,u)};this.progressCallback_!==null&&r.addUploadProgressListener(o),r.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(o),this.pendingConnection_=null;const l=r.getErrorCode()===oi.NO_ERROR,a=r.getStatus();if(!l||Z1(a,this.additionalRetryCodes_)&&this.retry){const d=r.getErrorCode()===oi.ABORT;i(!1,new yo(!1,null,d));return}const u=this.successCodes_.indexOf(a)!==-1;i(!0,new yo(u,r))})},n=(i,s)=>{const r=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const a=this.callback_(l,l.getResponse());X1(a)?r(a):r()}catch(a){o(a)}else if(l!==null){const a=fh();a.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,a)):o(a)}else if(s.canceled){const a=this.appDelete_?pv():B1();o(a)}else{const a=U1();o(a)}};this.canceled_?n(!1,new yo(!1,null,!0)):this.backoffId_=Y1(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K1(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yo{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function tb(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nb(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ib(t,e){e&&(t["X-Firebase-GMPID"]=e)}function sb(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rb(t,e,n,i,s,r,o=!0){const l=mv(t.urlParams),a=t.url+l,u=Object.assign({},t.headers);return ib(u,e),tb(u,n),nb(u,r),sb(u,i),new eb(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lb(...t){const e=ob();if(e!==void 0){const n=new e;for(let i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}else{if(mh())return new Blob(t);throw new de(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ab(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(t){if(typeof atob>"u")throw q1("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ya{constructor(e,n){this.data=e,this.contentType=n||null}}function cb(t,e){switch(t){case $t.RAW:return new Ya(gv(e));case $t.BASE64:case $t.BASE64URL:return new Ya(yv(t,e));case $t.DATA_URL:return new Ya(hb(e),fb(e))}throw fh()}function gv(t){const e=[];for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=i,o=t.charCodeAt(++n);i=65536|(r&1023)<<10|o&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function db(t){let e;try{e=decodeURIComponent(t)}catch{throw er($t.DATA_URL,"Malformed data URL.")}return gv(e)}function yv(t,e){switch(t){case $t.BASE64:{const s=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(s||r)throw er(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case $t.BASE64URL:{const s=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(s||r)throw er(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ub(e)}catch(s){throw s.message.includes("polyfill")?s:er(t,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class _v{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw er($t.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=pb(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function hb(t){const e=new _v(t);return e.base64?yv($t.BASE64,e.rest):db(e.rest)}function fb(t){return new _v(t).contentType}function pb(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){let i=0,s="";Ap(e)?(this.data_=e,i=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ap(this.data_)){const i=this.data_,s=ab(i,e,n);return s===null?null:new En(s)}else{const i=new Uint8Array(this.data_.buffer,e,n-e);return new En(i,!0)}}static getBlob(...e){if(mh()){const n=e.map(i=>i instanceof En?i.data_:i);return new En(lb.apply(null,n))}else{const n=e.map(o=>ph(o)?cb($t.RAW,o).data:o.data_);let i=0;n.forEach(o=>{i+=o.byteLength});const s=new Uint8Array(i);let r=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[r++]=o[l]}),new En(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){let e;try{e=JSON.parse(t)}catch{return null}return J1(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gb(t,e){const n=e.split("/").filter(i=>i.length>0).join("/");return t.length===0?n:t+"/"+n}function wv(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(t,e){return e}class $e{constructor(e,n,i,s){this.server=e,this.local=n||e,this.writable=!!i,this.xform=s||yb}}let _o=null;function _b(t){return!ph(t)||t.length<2?t:wv(t)}function Cv(){if(_o)return _o;const t=[];t.push(new $e("bucket")),t.push(new $e("generation")),t.push(new $e("metageneration")),t.push(new $e("name","fullPath",!0));function e(r,o){return _b(o)}const n=new $e("name");n.xform=e,t.push(n);function i(r,o){return o!==void 0?Number(o):o}const s=new $e("size");return s.xform=i,t.push(s),t.push(new $e("timeCreated")),t.push(new $e("updated")),t.push(new $e("md5Hash",null,!0)),t.push(new $e("cacheControl",null,!0)),t.push(new $e("contentDisposition",null,!0)),t.push(new $e("contentEncoding",null,!0)),t.push(new $e("contentLanguage",null,!0)),t.push(new $e("contentType",null,!0)),t.push(new $e("metadata","customMetadata",!0)),_o=t,_o}function vb(t,e){function n(){const i=t.bucket,s=t.fullPath,r=new lt(i,s);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function wb(t,e,n){const i={};i.type="file";const s=n.length;for(let r=0;r<s;r++){const o=n[r];i[o.local]=o.xform(i,e[o.server])}return vb(i,t),i}function Ev(t,e,n){const i=vv(e);return i===null?null:wb(t,i,n)}function Cb(t,e,n,i){const s=vv(e);if(s===null||!ph(s.downloadTokens))return null;const r=s.downloadTokens;if(r.length===0)return null;const o=encodeURIComponent;return r.split(",").map(u=>{const d=t.bucket,c=t.fullPath,h="/b/"+o(d)+"/o/"+o(c),f=ea(h,n,i),g=mv({alt:"media",token:u});return f+g})[0]}function Eb(t,e){const n={},i=e.length;for(let s=0;s<i;s++){const r=e[s];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class gh{constructor(e,n,i,s){this.url=e,this.method=n,this.handler=i,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t){if(!t)throw fh()}function xb(t,e){function n(i,s){const r=Ev(t,s,e);return xv(r!==null),r}return n}function Sb(t,e){function n(i,s){const r=Ev(t,s,e);return xv(r!==null),Cb(r,s,t.host,t._protocol)}return n}function Sv(t){function e(n,i){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=F1():s=L1():n.getStatus()===402?s=M1(t.bucket):n.getStatus()===403?s=z1(t.path):s=i,s.status=n.getStatus(),s.serverResponse=i.serverResponse,s}return e}function kv(t){const e=Sv(t);function n(i,s){let r=e(i,s);return i.getStatus()===404&&(r=A1(t.path)),r.serverResponse=s.serverResponse,r}return n}function kb(t,e,n){const i=e.fullServerUrl(),s=ea(i,t.host,t._protocol),r="GET",o=t.maxOperationRetryTime,l=new gh(s,r,Sb(t,n),o);return l.errorHandler=kv(e),l}function bb(t,e){const n=e.fullServerUrl(),i=ea(n,t.host,t._protocol),s="DELETE",r=t.maxOperationRetryTime;function o(a,u){}const l=new gh(i,s,o,r);return l.successCodes=[200,204],l.errorHandler=kv(e),l}function Tb(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Rb(t,e,n){const i=Object.assign({},n);return i.fullPath=t.path,i.size=e.size(),i.contentType||(i.contentType=Tb(null,e)),i}function Ib(t,e,n,i,s){const r=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let v=0;v<2;v++)_=_+Math.random().toString().slice(2);return _}const a=l();o["Content-Type"]="multipart/related; boundary="+a;const u=Rb(e,i,s),d=Eb(u,n),c="--"+a+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+a+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+a+"--",f=En.getBlob(c,i,h);if(f===null)throw W1();const g={name:u.fullPath},y=ea(r,t.host,t._protocol),C="POST",p=t.maxUploadRetryTime,m=new gh(y,C,xb(t,n),p);return m.urlParams=g,m.headers=o,m.body=f.uploadData(),m.errorHandler=Sv(e),m}class Pb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=oi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=oi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=oi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,i,s){if(this.sent_)throw Ms("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const r in s)s.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,s[r].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ms("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ms("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ms("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ms("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nb extends Pb{initXhr(){this.xhr_.responseType="text"}}function yh(){return new Nb}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e,n){this._service=e,n instanceof lt?this._location=n:this._location=lt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yi(e,n)}get root(){const e=new lt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wv(this._location.path)}get storage(){return this._service}get parent(){const e=mb(this._location.path);if(e===null)return null;const n=new lt(this._location.bucket,e);return new yi(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G1(e)}}function Ob(t,e,n){t._throwIfRoot("uploadBytes");const i=Ib(t.storage,t._location,Cv(),new En(e,!0),n);return t.storage.makeRequestWithTokens(i,yh).then(s=>({metadata:s,ref:t}))}function Db(t){t._throwIfRoot("getDownloadURL");const e=kb(t.storage,t._location,Cv());return t.storage.makeRequestWithTokens(e,yh).then(n=>{if(n===null)throw V1();return n})}function Ab(t){t._throwIfRoot("deleteObject");const e=bb(t.storage,t._location);return t.storage.makeRequestWithTokens(e,yh)}function Mb(t,e){const n=gb(t._location.path,e),i=new lt(t._location.bucket,n);return new yi(t.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(t){return/^[A-Za-z]+:\/\//.test(t)}function Fb(t,e){return new yi(t,e)}function bv(t,e){if(t instanceof _h){const n=t;if(n._bucket==null)throw $1();const i=new yi(n,n._bucket);return e!=null?bv(i,e):i}else return e!==void 0?Mb(t,e):t}function zb(t,e){if(e&&Lb(e)){if(t instanceof _h)return Fb(t,e);throw Oc("To use ref(service, url), the first argument must be a Storage instance.")}else return bv(t,e)}function Lp(t,e){const n=e==null?void 0:e[fv];return n==null?null:lt.makeFromBucketSpec(n,t)}function Ub(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=i;s&&(t._overrideAuthToken=typeof s=="string"?s:Ay(s,t.app.options.projectId))}class _h{constructor(e,n,i,s,r){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._bucket=null,this._host=hv,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O1,this._maxUploadRetryTime=D1,this._requests=new Set,s!=null?this._bucket=lt.makeFromBucketSpec(s,this._host):this._bucket=Lp(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=lt.makeFromBucketSpec(this._url,e):this._bucket=Lp(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yi(this,e)}_makeRequest(e,n,i,s,r=!0){if(this._deleted)return new Q1(pv());{const o=rb(e,this._appId,i,s,n,this._firebaseVersion,r);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const Fp="@firebase/storage",zp="0.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv="storage";function Bb(t,e,n){return t=fn(t),Ob(t,e,n)}function Up(t){return t=fn(t),Db(t)}function jb(t){return t=fn(t),Ab(t)}function Ka(t,e){return t=fn(t),zb(t,e)}function Xa(t=qy(),e){t=fn(t);const i=$y(t,Tv).getImmediate({identifier:e}),s=Oy("storage");return s&&Hb(i,...s),i}function Hb(t,e,n,i={}){Ub(t,e,n,i)}function $b(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new _h(n,i,s,e,Wy)}function Wb(){Cr(new as(Tv,$b,"PUBLIC").setMultipleInstances(!0)),Ln(Fp,zp,""),Ln(Fp,zp,"esm2017")}Wb();const tr="generated",Vb="pointerdown",qb="pointerup",Dc="pointerleave",Gb="pointerout",_i="pointermove",Qb="touchstart",Bp="touchend",Yb="touchmove",Kb="touchcancel",Xb="resize",Jb="visibilitychange",xt="tsParticles - Error";class st{constructor(e,n,i){if(this._updateFromAngle=(s,r)=>{this.x=Math.cos(s)*r,this.y=Math.sin(s)*r},!Mt(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${xt} Vector3d not initialized correctly`)}static get origin(){return st.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return st.create(e.x,e.y,e.z)}static create(e,n,i){return new st(e,n,i)}add(e){return st.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return st.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return st.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return st.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return st.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return st.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class be extends st{constructor(e,n){super(e,n,0)}static get origin(){return be.create(0,0)}static clone(e){return be.create(e.x,e.y)}static create(e,n){return new be(e,n)}}let Zb=Math.random;const Ac=new Map;function Ja(t,e){Ac.get(t)||Ac.set(t,e)}function Rv(t){return Ac.get(t)||(e=>e)}function te(){return zt(Zb(),0,1-1e-16)}function zt(t,e,n){return Math.min(Math.max(t,e),n)}function Za(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function Ze(t){const e=kn(t);let n=vh(t);return e===n&&(n=0),te()*(e-n)+n}function N(t){return Mt(t)?t:Ze(t)}function vh(t){return Mt(t)?t:t.min}function kn(t){return Mt(t)?t:t.max}function L(t,e){if(t===e||e===void 0&&Mt(t))return t;const n=vh(t),i=kn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:L(n,i)}function vi(t){const e=t.random,{enable:n,minimumValue:i}=zn(e)?{enable:e,minimumValue:0}:e;return N(n?L(t.value,i):t.value)}function qe(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function ct(t,e){return qe(t,e).distance}function eT(t,e,n){if(Mt(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return te()*Math.PI*2}}function tT(t){const e=be.origin;return e.length=1,e.angle=t,e}function jp(t,e,n,i){return be.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function nT(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??te()*t.size.width,y:((n=t.position)==null?void 0:n.y)??te()*t.size.height}}function Iv(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const iT={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function wi(){return iT}function Hp(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:s,rectOtherSide:r,velocity:o,factor:l}=t;return i.min<r.min||i.min>r.max||i.max<r.min||i.max>r.max||(n.max>=s.min&&n.max<=(s.max+s.min)/2&&o>0||n.min<=s.max&&n.min>(s.max+s.min)/2&&o<0)&&(e.velocity=o*-l,e.bounced=!0),e}function sT(t,e){const n=Te(e,i=>t.matches(i));return dt(n)?n.some(i=>i):n}function hs(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function rT(){return!hs()&&typeof matchMedia<"u"}function Pv(t){if(rT())return matchMedia(t)}function oT(t){if(!(hs()||typeof MutationObserver>"u"))return new MutationObserver(t)}function pe(t,e){return t===e||dt(e)&&e.indexOf(t)>-1}async function lT(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function aT(t){return Math.floor(te()*t.length)}function ta(t,e,n=!0){return t[e!==void 0&&n?e%t.length:aT(t)]}function wh(t,e,n,i,s){return uT(Vr(t,i??0),e,n,s)}function uT(t,e,n,i){let s=!0;return(!i||i==="bottom")&&(s=t.top<e.height+n.x),s&&(!i||i==="left")&&(s=t.right>n.x),s&&(!i||i==="right")&&(s=t.left<e.width+n.y),s&&(!i||i==="top")&&(s=t.bottom>n.y),s}function Vr(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Ue(t,...e){for(const n of e){if(n==null)continue;if(!Hi(n)){t=n;continue}const i=Array.isArray(n);i&&(Hi(t)||!t||!Array.isArray(t))?t=[]:!i&&(Hi(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const r=n,o=r[s],l=t;l[s]=Hi(o)&&Array.isArray(o)?o.map(a=>Ue(l[s],a)):Ue(l[s],o)}}return t}function Ch(t,e){return!!Dv(e,n=>n.enable&&pe(t,n.mode))}function Eh(t,e,n){Te(e,i=>{const s=i.mode;i.enable&&pe(t,s)&&cT(i,n)})}function cT(t,e){const n=t.selectors;Te(n,i=>{e(i,t)})}function Nv(t,e){if(!(!e||!t))return Dv(t,n=>sT(e,n.selectors))}function Mc(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:be.create(vi(t.options.bounce.horizontal),vi(t.options.bounce.vertical))}}function Ov(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[s,r]=[t.position,e.position],{dx:o,dy:l}=qe(r,s);if(n*o+i*l<0)return;const a=-Math.atan2(l,o),u=t.mass,d=e.mass,c=t.velocity.rotate(a),h=e.velocity.rotate(a),f=jp(c,h,u,d),g=jp(h,c,u,d),y=f.rotate(-a),C=g.rotate(-a);t.velocity.x=y.x*t.factor.x,t.velocity.y=y.y*t.factor.y,e.velocity.x=C.x*e.factor.x,e.velocity.y=C.y*e.factor.y}function dT(t,e){const n=t.getPosition(),i=t.getRadius(),s=Vr(n,i),r=Hp({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:vi(t.options.bounce.horizontal)});r.bounced&&(r.velocity!==void 0&&(t.velocity.x=r.velocity),r.position!==void 0&&(t.position.x=r.position));const o=Hp({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:vi(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function Te(t,e){return dt(t)?t.map((n,i)=>e(n,i)):e(t,0)}function nn(t,e,n){return dt(t)?ta(t,e,n):t}function Dv(t,e){return dt(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function Av(t,e){const n=t.value,i=t.animation,s={delayTime:N(i.delay)*1e3,enable:i.enable,value:N(t.value)*e,max:kn(n)*e,min:vh(n)*e,loops:0,maxLoops:N(i.count),time:0};if(i.enable){switch(s.decay=1-N(i.decay),i.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=te()>=.5?"increasing":"decreasing";break}const r=i.mode==="auto";switch(i.startValue){case"min":s.value=s.min,r&&(s.status="increasing");break;case"max":s.value=s.max,r&&(s.status="decreasing");break;case"random":default:s.value=Ze(s),r&&(s.status=te()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function hT(t,e){if(!(t.mode==="percent")){const{mode:s,...r}=t;return r}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function Mv(t,e){return hT(t,e)}function zn(t){return typeof t=="boolean"}function At(t){return typeof t=="string"}function Mt(t){return typeof t=="number"}function Lv(t){return typeof t=="function"}function Hi(t){return typeof t=="object"&&t!==null}function dt(t){return Array.isArray(t)}const El="random",No="mid",na=new Map;function $p(t){na.set(t.key,t)}function eu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function fT(t){for(const[,r]of na)if(t.startsWith(r.stringPrefix))return r.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(r,o,l,a,u)=>o+o+l+l+a+a+(u!==void 0?u+u:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=i.exec(n);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function Lt(t,e,n=!0){if(!t)return;const i=At(t)?{value:t}:t;if(At(i.value))return Fv(i.value,e,n);if(dt(i.value))return Lt({value:ta(i.value,e,n)});for(const[,s]of na){const r=s.handleRangeColor(i);if(r)return r}}function Fv(t,e,n=!0){if(!t)return;const i=At(t)?{value:t}:t;if(At(i.value))return i.value===El?Uv():pT(i.value);if(dt(i.value))return Fv({value:ta(i.value,e,n)});for(const[,s]of na){const r=s.handleColor(i);if(r)return r}}function Pr(t,e,n=!0){const i=Lt(t,e,n);return i?zv(i):void 0}function zv(t){const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),o={h:0,l:(s+r)/2,s:0};return s!==r&&(o.s=o.l<.5?(s-r)/(s+r):(s-r)/(2-s-r),o.h=e===s?(n-i)/(s-r):o.h=n===s?2+(i-e)/(s-r):4+(e-n)/(s-r)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function pT(t){return fT(t)}function fs(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-i;e.r=eu(s,i,n.h+1/3),e.g=eu(s,i,n.h),e.b=eu(s,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function mT(t){const e=fs(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function Uv(t){const e=t??0;return{b:Math.floor(Ze(L(e,256))),g:Math.floor(Ze(L(e,256))),r:Math.floor(Ze(L(e,256)))}}function sn(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Nr(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function xh(t,e,n,i){let s=t,r=e;return s.r===void 0&&(s=fs(t)),r.r===void 0&&(r=fs(e)),{b:Za(s.b,r.b,n,i),g:Za(s.g,r.g,n,i),r:Za(s.r,r.r,n,i)}}function Lc(t,e,n){if(n===El)return Uv();if(n===No){const i=t.getFillColor()??t.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&s&&e)return xh(i,s,t.getRadius(),e.getRadius());{const r=i??s;if(r)return fs(r)}}else return n}function Bv(t,e,n){const i=At(t)?t:t.value;return i===El?n?Lt({value:i}):e?El:No:i===No?No:Lt({value:i})}function Wp(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function jv(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(tu(i.h,e.h,n),tu(i.s,e.s,n),tu(i.l,e.l,n)),i}function tu(t,e,n){t.enable=e.enable,t.enable?(t.velocity=N(e.speed)/100*n,t.decay=1-N(e.decay),t.status="increasing",t.loops=0,t.maxLoops=N(e.count),t.time=0,t.delayTime=N(e.delay)*1e3,e.sync||(t.velocity*=te(),t.value*=te()),t.initialValue=t.value):t.velocity=0}function nr(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function gT(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function yT(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function _T(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function nu(t,e){t.clearRect(0,0,e.width,e.height)}function vT(t){const{container:e,context:n,particle:i,delta:s,colorStyles:r,backgroundMask:o,composite:l,radius:a,opacity:u,shadow:d,transform:c}=t,h=i.getPosition(),f=i.rotation+(i.pathRotation?i.velocity.angle:0),g={sin:Math.sin(f),cos:Math.cos(f)},y={a:g.cos*(c.a??1),b:g.sin*(c.b??1),c:-g.sin*(c.c??1),d:g.cos*(c.d??1)};n.setTransform(y.a,y.b,y.c,y.d,h.x,h.y),n.beginPath(),o&&(n.globalCompositeOperation=l);const C=i.shadowColor;d.enable&&C&&(n.shadowBlur=d.blur,n.shadowColor=sn(C),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),r.fill&&(n.fillStyle=r.fill);const p=i.strokeWidth??0;n.lineWidth=p,r.stroke&&(n.strokeStyle=r.stroke),wT(e,n,i,a,u,s),p>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),CT(e,n,i,a,u,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function wT(t,e,n,i,s,r){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,s,r,t.retina.pixelRatio)}function CT(t,e,n,i,s,r){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,s,r,t.retina.pixelRatio)}function ET(t,e,n){e.draw&&e.draw(t,n)}function xT(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function ST(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function kT(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class bT{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,s,r,o,l)=>{for(const a of this._preDrawUpdaters){if(a.getColorStyles){const{fill:u,stroke:d}=a.getColorStyles(i,n,s,r);u&&(o.fill=u),d&&(o.stroke=d)}if(a.getTransformValues){const u=a.getTransformValues(i);for(const d in u)kT(l,u,d)}a.beforeDraw&&a.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,s;for(const r of this._colorPlugins)if(!i&&r.particleFillColor&&(i=Pr(r.particleFillColor(n))),!s&&r.particleStrokeColor&&(s=Pr(r.particleStrokeColor(n))),i&&s)break;return[i,s]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,s=i.color,r=Lt(s);if(r){const o={...r,a:i.opacity};this._coverColorStyle=sn(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Ue({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const s in i.style){if(!s||!i.style)continue;const r=i.style[s];r&&n.style.setProperty(s,r,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,s=i.fill;if(i.enable)if(s.color){const r=Lt(s.color);if(!r)return;const o=n.particles.move.trail;this._trailFill={color:{...r},opacity:1/o.length}}else await new Promise((r,o)=>{if(!s.image)return;const l=document.createElement("img");l.addEventListener("load",()=>{this._trailFill={image:l,opacity:1/i.length},r()}),l.addEventListener("error",a=>{o(a.error)}),l.src=s.image})},this._paintBase=n=>{this.draw(i=>yT(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(s=>_T(s,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const s=n.style;s.position=i.position,s.zIndex=i.zIndex,s.top=i.top,s.left=i.left,s.width=i.width,s.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",s=n.style;s.setProperty("position","fixed",i),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),s.setProperty("top","0",i),s.setProperty("left","0",i),s.setProperty("width","100%",i),s.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(sn(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(s=>{nu(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const s=e.getFillColor(),r=e.getStrokeColor()??s;let[o,l]=this._getPluginParticleColors(e);o||(o=s),l||(l=r),!(!o&&!l)&&this.draw(a=>{var _;const u=this.container,d=u.actualOptions,c=e.options.zIndex,h=(1-e.zIndexFactor)**c.opacityRate,f=e.bubble.opacity??((_=e.opacity)==null?void 0:_.value)??1,g=e.strokeOpacity??f,y=f*h,C=g*h,p={},m={fill:o?Nr(o,y):void 0};m.stroke=l?Nr(l,C):m.fill,this._applyPreDrawUpdaters(a,e,i,y,m,p),vT({container:u,context:a,particle:e,delta:n,colorStyles:m,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**c.sizeRate,opacity:y,shadow:e.options.shadow,transform:p}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(s=>xT(s,e,n,i))}drawPlugin(e,n){this.draw(i=>ET(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=oT(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){wi().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const s=i.style;if(s){if(n.color){const r=Lt(n.color);s.backgroundColor=r?sn(r,n.opacity):""}else s.backgroundColor="";s.backgroundImage=n.image||"",s.backgroundPosition=n.position||"",s.backgroundRepeat=n.repeat||"",s.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&tr in e.dataset?e.dataset[tr]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Ue({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(nu(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,s={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(s.height===i.height&&s.width===i.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const r={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/r.width,height:i.height/r.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>nu(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function mt(t,e,n,i,s){if(i){let r={passive:!0};zn(s)?r.capture=s:s!==void 0&&(r=s),t.addEventListener(e,n,r)}else{const r=s;t.removeEventListener(e,n,r)}}class TT{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,s=i.actualOptions;if(this._canPush){const r=i.interactivity.mouse,o=r.position;if(!o)return;r.clickPosition={...o},r.clickTime=new Date().getTime();const l=s.interactivity.events.onClick;Te(l.mode,a=>this.container.handleClickMode(a))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,s=this.container,r=s.options,o=r.defaultThemes,l=i.matches?o.dark:o.light,a=r.themes.find(u=>u.name===l);a&&a.default.auto&&s.loadTheme(l)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const s=this._handlers,r=this.container,o=r.actualOptions,l=r.interactivity.element;if(!l)return;const a=l,u=r.canvas.element;u&&(u.style.pointerEvents=a===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(mt(l,_i,s.mouseMove,i),mt(l,Qb,s.touchStart,i),mt(l,Yb,s.touchMove,i),o.interactivity.events.onClick.enable?(mt(l,Bp,s.touchEndClick,i),mt(l,qb,s.mouseUp,i),mt(l,Vb,s.mouseDown,i)):mt(l,Bp,s.touchEnd,i),mt(l,n,s.mouseLeave,i),mt(l,Kb,s.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,s=this.container,r=s.actualOptions,o=r.interactivity.detectsOn,l=s.canvas.element;let a=Dc;o==="window"?(s.interactivity.element=window,a=Gb):o==="parent"&&l?s.interactivity.element=l.parentElement??l.parentNode:s.interactivity.element=l,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(a,n),document&&mt(document,Jb,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,s=Pv("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){mt(s,"change",i.themeChange,n);return}s.addListener!==void 0&&(n?s.addListener(i.oldThemeChange):s.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){mt(window,Xb,i.resize,n);return}const o=s.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async l=>{l.find(u=>u.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,s=i.actualOptions,{mouse:r}=i.interactivity;r.inside=!0;let o=!1;const l=r.position;if(!(!l||!s.interactivity.events.onClick.enable)){for(const[,a]of i.plugins)if(a.clickPositionValid&&(o=a.clickPositionValid(l),o))break;o||this._doMouseTouchClick(n),r.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=Dc,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,s=i.actualOptions,r=i.interactivity,o=i.canvas.element;if(!r||!r.element)return;r.mouse.inside=!0;let l;if(n.type.startsWith("pointer")){this._canPush=!0;const u=n;if(r.element===window){if(o){const d=o.getBoundingClientRect();l={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(s.interactivity.detectsOn==="parent"){const d=u.target,c=u.currentTarget;if(d&&c&&o){const h=d.getBoundingClientRect(),f=c.getBoundingClientRect(),g=o.getBoundingClientRect();l={x:u.offsetX+2*h.left-(f.left+g.left),y:u.offsetY+2*h.top-(f.top+g.top)}}else l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=n.type!=="touchmove",o){const u=n,d=u.touches[u.touches.length-1],c=o.getBoundingClientRect();l={x:d.clientX-(c.left??0),y:d.clientY-(c.top??0)}}const a=i.retina.pixelRatio;l&&(l.x*=a,l.y*=a),r.mouse.position=l,r.status=_i},this._touchEnd=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class Oe{constructor(){this.value=""}static create(e,n){const i=new Oe;return i.load(e),n!==void 0&&(At(n)||dt(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class RT{constructor(){this.color=new Oe,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Oe.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class IT{constructor(){this.color=new Oe,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=Oe.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class PT{constructor(){this.composite="destination-out",this.cover=new IT,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=At(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class NT{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class OT{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class Vp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Te(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Te(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class DT{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class AT{constructor(){this.enable=!1,this.mode=[],this.parallax=new DT}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class MT{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class LT{constructor(){this.onClick=new OT,this.onDiv=new Vp,this.onHover=new AT,this.resize=new MT}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=Te(n,i=>{const s=new Vp;return s.load(i),s})),this.onHover.load(e.onHover??e.onhover),zn(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class FT{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class Hv{constructor(e,n){this.detectsOn="window",this.events=new LT,this.modes=new FT(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class zT{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Ue({},e.options)))}}class UT{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Ue({},e.options)))}}class BT{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class jT{constructor(){this.name="",this.default=new BT}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Ue({},e.options)))}}class iu{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=L(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=L(e.offset)),e.speed!==void 0&&(this.speed=L(e.speed)),e.decay!==void 0&&(this.decay=L(e.decay)),e.delay!==void 0&&(this.delay=L(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class HT{constructor(){this.h=new iu,this.s=new iu,this.l=new iu}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Or extends Oe{constructor(){super(),this.animation=new HT}static create(e,n){const i=new Or;return i.load(e),n!==void 0&&(At(n)||dt(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class $T{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class WT{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class VT{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=L(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=L(e.speed)),e.decay!==void 0&&(this.decay=L(e.decay)),e.delay!==void 0&&(this.delay=L(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class $v extends VT{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class qT{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class qn{constructor(){this.random=new qT,this.value=0}load(e){e&&(zn(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=L(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class qp extends qn{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class Wv{constructor(){this.horizontal=new qp,this.vertical=new qp}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class GT{constructor(){this.absorb=new $T,this.bounce=new Wv,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new WT}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=L(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class QT{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=L(e.offset)),e.value!==void 0&&(this.value=L(e.value)))}}class YT{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,r;if(!e)return;e.distance!==void 0&&(this.distance=L(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((s=e.rotate)==null?void 0:s.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((r=e.rotate)==null?void 0:r.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class KT{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class XT{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=L(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=L(e.maxSpeed)))}}class JT{constructor(){this.clamp=!0,this.delay=new qn,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Ue(this.options,e.options)))}}class ZT{load(e){e&&(e.color!==void 0&&(this.color=Oe.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class eR{constructor(){this.enable=!1,this.length=10,this.fill=new ZT}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class tR{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class nR{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=L(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Ue({},e.position)))}}class iR{constructor(){this.angle=new QT,this.attract=new YT,this.center=new KT,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new XT,this.path=new JT,this.outModes=new tR,this.random=!1,this.size=!1,this.speed=2,this.spin=new nR,this.straight=!1,this.trail=new eR,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Mt(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=L(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Mt(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=L(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Hi(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=L(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class sR extends $v{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class rR extends qn{constructor(){super(),this.animation=new sR,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=L(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class oR{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class lR{constructor(){this.density=new oR,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class aR{constructor(){this.blur=0,this.color=new Oe,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Oe.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const su="character",ru="char",ou="image",lu="images",au="polygon",uu="star";class uR{constructor(){this.loadShape=(e,n,i,s)=>{if(!e)return;const r=dt(e),o=r?[]:{},l=r!==dt(this.options[n]),a=r!==dt(this.options[i]);l&&(this.options[n]=o),a&&s&&(this.options[i]=o),this.options[n]=Ue(this.options[n]??o,e),(!this.options[i]||s)&&(this.options[i]=Ue(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[su]??this.options[ru]}set character(e){this.options[ru]=this.options[su]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[ou]??this.options[lu]}set image(e){this.options[lu]=this.options[ou]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[au]??this.options[uu]}set polygon(e){this.options[uu]=this.options[au]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const s=n[i];s&&(this.options[i]=Ue(this.options[i]??{},s))}this.loadShape(e.character,su,ru,!0),this.loadShape(e.polygon,au,uu,!1),this.loadShape(e.image??e.images,ou,lu,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class cR extends $v{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class dR extends qn{constructor(){super(),this.animation=new cR,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=L(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Gp{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Or.create(this.color,e.color)),e.width!==void 0&&(this.width=L(e.width)),e.opacity!==void 0&&(this.opacity=L(e.opacity)))}}class hR extends qn{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class fR{constructor(e,n){this._engine=e,this._container=n,this.bounce=new Wv,this.collisions=new GT,this.color=new Or,this.color.value="#fff",this.groups={},this.move=new iR,this.number=new lR,this.opacity=new rR,this.reduceDuplicates=!1,this.shadow=new aR,this.shape=new uR,this.size=new dR,this.stroke=new Gp,this.zIndex=new hR}load(e){var s,r,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Or.create(this.color,e.color)),e.groups!==void 0)for(const l in e.groups){const a=e.groups[l];a!==void 0&&(this.groups[l]=Ue(this.groups[l]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((s=e.move)==null?void 0:s.collisions)??((r=e.move)==null?void 0:r.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Ue({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=Te(i,l=>{const a=new Gp;return a.load(l),a})),this._container){const l=this._engine.plugins.updaters.get(this._container);if(l)for(const u of l)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function Vv(t,...e){for(const n of e)t.load(n)}function qv(t,e,...n){const i=new fR(t,e);return Vv(i,...n),i}class pR{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(s=>s.default.value&&s.default.mode===i)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new RT,this.backgroundMask=new PT,this.defaultThemes={},this.delay=0,this.fullScreen=new NT,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new Hv(e,n),this.manualParticles=[],this.particles=qv(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,l;if(!e)return;e.preset!==void 0&&Te(e.preset,a=>this._importPreset(a)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=L(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=L(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen??e.backgroundMode;zn(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(a=>{const u=new zT;return u.load(a),u})),this.particles.load(e.particles),this.style=Ue(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const r=this._engine.plugins.interactors.get(this._container);if(r)for(const a of r)a.loadOptions&&a.loadOptions(this,e);if(e.responsive!==void 0)for(const a of e.responsive){const u=new UT;u.load(a),this.responsive.push(u)}if(this.responsive.sort((a,u)=>a.maxWidth-u.maxWidth),e.themes!==void 0)for(const a of e.themes){const u=this.themes.find(d=>d.name===a.name);if(u)u.load(a);else{const d=new jT;d.load(a),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(l=this._findDefaultTheme("light"))==null?void 0:l.name}setResponsive(e,n,i){this.load(i);const s=this.responsive.find(r=>r.mode==="screen"&&screen?r.maxWidth>screen.availWidth:r.maxWidth*n>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=Pv("(prefers-color-scheme: dark)"),i=n&&n.matches,s=this._findDefaultTheme(i?"dark":"light");s&&this.load(s.options)}}}class mR{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const Qp=t=>{if(!pe(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};let gR=class{constructor(e,n,i,s,r,o){this.container=i,this._calcPosition=(l,a,u,d=0)=>{for(const[,m]of l.plugins){const _=m.particlePosition!==void 0?m.particlePosition(a,this):void 0;if(_)return st.create(_.x,_.y,u)}const c=l.canvas.size,h=nT({size:c,position:a}),f=st.create(h.x,h.y,u),g=this.getRadius(),y=this.options.move.outModes,C=m=>{Qp({outMode:m,checkModes:["bounce","bounce-horizontal"],coord:f.x,maxCoord:l.canvas.size.width,setCb:_=>f.x+=_,radius:g})},p=m=>{Qp({outMode:m,checkModes:["bounce","bounce-vertical"],coord:f.y,maxCoord:l.canvas.size.height,setCb:_=>f.y+=_,radius:g})};return C(y.left??y.default),C(y.right??y.default),p(y.top??y.default),p(y.bottom??y.default),this._checkOverlap(f,d)?this._calcPosition(l,void 0,u,d+1):f},this._calculateVelocity=()=>{const l=tT(this.direction),a=l.copy(),u=this.options.move;if(u.direction==="inside"||u.direction==="outside")return a;const d=Math.PI/180*N(u.angle.value),c=Math.PI/180*N(u.angle.offset),h={left:c-d/2,right:c+d/2};return u.straight||(a.angle+=Ze(L(h.left,h.right))),u.random&&typeof u.speed=="number"&&(a.length*=te()),a},this._checkOverlap=(l,a=0)=>{const u=this.options.collisions,d=this.getRadius();if(!u.enable)return!1;const c=u.overlap;if(c.enable)return!1;const h=c.retries;if(h>=0&&a>h)throw new Error(`${xt} particle is overlapping and can't be placed`);return!!this.container.particles.find(f=>ct(l,f.position)<d+f.getRadius())},this._getRollColor=l=>{if(!l||!this.roll||!this.backColor&&!this.roll.alter)return l;const a=this.roll.horizontal&&this.roll.vertical?2:1,u=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+u)/(Math.PI/a))%2?this.backColor?this.backColor:this.roll.alter?ST(l,this.roll.alter.type,this.roll.alter.value):l:l},this._initPosition=l=>{const a=this.container,u=N(this.options.zIndex.value);this.position=this._calcPosition(a,l,zt(u,0,a.zLayers)),this.initialPosition=this.position.copy();const d=a.canvas.size;switch(this.moveCenter={...Mv(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=eT(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=be.origin},this._loadShapeData=(l,a)=>{const u=l.options[this.shape];if(u)return Ue({close:l.close,fill:l.fill},nn(u,this.id,a))},this._engine=e,this.init(n,s,r,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,s]of n.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of n.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??Wp(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??Wp(this.strokeColor))}init(e,n,i,s){const r=this.container,o=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const l=r.retina.pixelRatio,a=r.actualOptions,u=qv(this._engine,r,a.particles),d=u.shape.type,{reduceDuplicates:c}=u;this.shape=nn(d,this.id,c);const h=u.shape;if(i&&i.shape&&i.shape.type){const _=i.shape.type,v=nn(_,this.id,c);v&&(this.shape=v,h.load(i.shape))}this.shapeData=this._loadShapeData(h,c),u.load(i);const f=this.shapeData;f&&u.load(f.particles);const g=new Hv(o,r);g.load(r.actualOptions.interactivity),g.load(u.interactivity),this.interactivity=g,this.fill=(f==null?void 0:f.fill)??u.shape.fill,this.close=(f==null?void 0:f.close)??u.shape.close,this.options=u;const y=this.options.move.path;this.pathDelay=vi(y.delay)*1e3,y.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(y.generator),this.pathGenerator&&r.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=Av(this.options.size,l),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-N(this.options.move.decay);const C=r.particles;C.needsSort=C.needsSort||C.lastZIndex<this.position.z,C.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let p=r.drawers.get(this.shape);p||(p=this._engine.plugins.getShapeDrawer(this.shape),p&&r.drawers.set(this.shape,p)),p&&p.loadShape&&p.loadShape(this);const m=p==null?void 0:p.getSidesCount;m&&(this.sides=m(this)),this.spawning=!1,this.shadowColor=Lt(this.options.shadow.color);for(const _ of r.particles.updaters)_.init(this);for(const _ of r.particles.movers)_.init&&_.init(this);p&&p.particleInit&&p.particleInit(r,this);for(const[,_]of r.plugins)_.particleCreated&&_.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}};class yR{constructor(e,n){this.position=e,this.particle=n}}class Gv{constructor(e,n){this.position={x:e,y:n}}}class Ut extends Gv{constructor(e,n,i,s){super(e,n),this.size={height:s,width:i}}contains(e){const n=this.size.width,i=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+i}intersects(e){e instanceof Be&&e.intersects(this);const n=this.size.width,i=this.size.height,s=this.position,r=e.position,o=e instanceof Ut?e.size:{width:0,height:0},l=o.width,a=o.height;return r.x<s.x+n&&r.x+l>s.x&&r.y<s.y+i&&r.y+a>s.y}}class Be extends Gv{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return ct(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,s={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},r=this.radius;if(e instanceof Be){const o=r+e.radius,l=Math.sqrt(s.x**2+s.y**2);return o>l}else if(e instanceof Ut){const{width:o,height:l}=e.size;return Math.pow(s.x-o,2)+Math.pow(s.y-l,2)<=r**2||s.x<=r+o&&s.y<=r+l||s.x<=o||s.y<=l}return!1}}class xl{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:s}=this.rectangle.position,{width:r,height:o}=this.rectangle.size,{capacity:l}=this;for(let a=0;a<4;a++)this._subs.push(new xl(new Ut(i+r/2*(a%2),s+o/2*(Math.round(a/2)-a%2),r/2,o/2),l));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const s=i||[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&ct(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||s.push(r.particle);if(this._divided)for(const r of this._subs)r.query(e,n,s);return s}queryCircle(e,n,i){return this.query(new Be(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Ut(e.x,e.y,n.width,n.height),i)}}const Yp=4,Kp=t=>new Ut(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let _R=class{constructor(e,n){this._applyDensity=(s,r,o)=>{var f;if(!((f=s.number.density)!=null&&f.enable))return;const l=s.number,a=this._initDensityFactor(l.density),u=l.value,d=l.limit>0?l.limit:u,c=Math.min(u,d)*a+r,h=Math.min(this.count,this.filter(g=>g.group===o).length);this.limit=l.limit*a,h<c?this.push(Math.abs(c-h),void 0,s,o):h>c&&this.removeQuantity(h-c,o)},this._initDensityFactor=s=>{const r=this._container;if(!r.canvas.element||!s.enable)return 1;const o=r.canvas.element,l=r.retina.pixelRatio;return o.width*o.height/(s.factor*l**2*s.area)},this._pushParticle=(s,r,o,l)=>{try{let a=this.pool.pop();a?a.init(this._nextId,s,r,o):a=new gR(this._engine,this._nextId,this._container,s,r,o);let u=!0;return l&&(u=l(a)),u?(this._array.push(a),this._zArray.push(a),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:a}}),a):void 0}catch(a){wi().warning(`${xt} adding particle: ${a}`);return}},this._removeParticle=(s,r,o)=>{const l=this._array[s];if(!l||l.group!==r)return!1;l.destroy(o);const a=this._zArray.indexOf(l);return this._array.splice(s,1),this._zArray.splice(a,1),this.pool.push(l),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:l}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new mR(e,n);const i=n.canvas.size;this.quadTree=new xl(Kp(i),Yp),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?Mv(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,s){const r=this._container,o=r.actualOptions,l=o.particles.number.limit;if(l>0){const a=this.count+1-l;a>0&&this.removeQuantity(a)}return this._pushParticle(e,n,i,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var s;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in n.particles.groups){const o=n.particles.groups[r];for(let l=this.count,a=0;a<((s=o.number)==null?void 0:s.value)&&l<n.particles.number.value;l++,a++)this.addParticle(void 0,o,r)}for(let r=this.count;r<n.particles.number.value;r++)this.addParticle()}}push(e,n,i,s){this.pushing=!0;for(let r=0;r<e;r++)this.addParticle(n==null?void 0:n.position,i,s);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,s){if(e<0||e>this.count)return;let r=0;for(let o=e;r<n&&o<this.count;o++)this._removeParticle(o--,i,s)&&r++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new xl(Kp(n.canvas.size),Yp);for(const[,s]of n.pathGenerators)s.update();for(const[,s]of n.plugins)s.update&&s.update(e);for(const s of this._array){const r=n.canvas.resizeFactor;r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new yR(s.getPosition(),s))}if(i.size){const s=r=>!i.has(r);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const r of this.updaters)r.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete n.canvas.resizeFactor,this.needsSort){const s=this._zArray;s.sort((r,o)=>o.position.z-r.position.z||r.id-o.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}}};class vR{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||hs()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const s=n.particles,r=s.move;this.attractDistance=N(r.attract.distance)*i,this.maxSpeed=N(r.gravity.maxSpeed)*i,this.sizeAnimationSpeed=N(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,s=n.move,r=s.distance,o=e.retina;o.attractDistance=N(s.attract.distance)*i,o.moveDrift=N(s.drift)*i,o.moveSpeed=N(s.speed)*i,o.sizeAnimationSpeed=N(n.size.animation.speed)*i;const l=o.maxDistance;l.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,l.vertical=r.vertical!==void 0?r.vertical*i:void 0,o.maxSpeed=N(s.gravity.maxSpeed)*i}}function se(t){return t&&!t.destroyed}function wR(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Ti(t,e,...n){const i=new pR(t,e);return Vv(i,...n),i}const CR="default",Xp={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class ER{constructor(e,n,i){this.id=n,this._intersectionManager=s=>{if(!(!se(this)||!this.actualOptions.pauseOnOutsideViewport))for(const r of s)r.target===this.interactivity.element&&(r.isIntersecting?this.play:this.pause)()},this._nextFrame=async s=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=s);const r=wR(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(r.value),this.lastFrameTime=s,r.value>1e3){this.draw(!1);return}if(await this.particles.draw(r),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(r){wi().error(`${xt} in animation loop`,r)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new vR(this),this.canvas=new bT(this),this.particles=new _R(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Ti(this._engine,this),this.actualOptions=Ti(this._engine,this),this._eventListeners=new TT(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!se(this))return;const n=this.interactivity.element;if(!n)return;const i=(c,h,f)=>{if(!se(this))return;const g=this.retina.pixelRatio,y={x:h.x*g,y:h.y*g},C=this.particles.quadTree.queryCircle(y,f*g);e(c,C)},s=c=>{if(!se(this))return;const h=c,f={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};i(c,f,1)},r=()=>{se(this)&&(u=!0,d=!1)},o=()=>{se(this)&&(d=!0)},l=c=>{if(se(this)){if(u&&!d){const h=c;let f=h.touches[h.touches.length-1];if(!f&&(f=h.changedTouches[h.changedTouches.length-1],!f))return;const g=this.canvas.element,y=g?g.getBoundingClientRect():void 0,C={x:f.clientX-(y?y.left:0),y:f.clientY-(y?y.top:0)};i(c,C,Math.max(f.radiusX,f.radiusY))}u=!1,d=!1}},a=()=>{se(this)&&(u=!1,d=!1)};let u=!1,d=!1;n.addEventListener("click",s),n.addEventListener("touchstart",r),n.addEventListener("touchmove",o),n.addEventListener("touchend",l),n.addEventListener("touchcancel",a)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!se(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??Xp),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!se(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!se(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const s=await i.export(e,n);if(s.supported)return s.blob}wi().error(`${xt} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&se(this)}handleClickMode(e){if(se(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!se(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const s=this._engine.plugins.getShapeDrawer(i);s&&this.drawers.set(i,s)}this._options=Ti(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Ti(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,s]of n)this.plugins.set(i,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=N(this.actualOptions.duration)*1e3,this._delay=N(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){se(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(se(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!se(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(se(this))return this.stop(),this.start()}async reset(){if(se(this))return this._initialSourceOptions=void 0,this._options=Ti(this._engine,this),this.actualOptions=Ti(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){se(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!se(this))return;const s={...Xp};if(Lv(e))s.generate=e,n&&(s.init=n),i&&(s.update=i);else{const r=s;s.generate=e.generate||r.generate,s.init=e.init||r.init,s.update=e.update||r.update}this.addPath(CR,s,!0)}async start(){!se(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!se(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class xR{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(s=>s(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const s=i.length,r=i.indexOf(n);r<0||(s===1?this._listeners.delete(e):i.splice(r,1))}}function cu(t,e,n,i=!1){let s=e.get(t);return(!s||i)&&(s=[...n.values()].map(r=>r(t)),e.set(t,s)),s}class SR{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){Te(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return cu(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return cu(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return cu(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const s=this.updaters.get(e);if(s)for(const r of s)r.loadOptions&&r.loadOptions(n,...i)}}async function kR(t){const e=nn(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(wi().error(`${xt} ${n.status} while retrieving config file`),t.fallback)}function bR(t){return!t.id&&!t.element&&!t.url&&!t.options}function TR(t){return!bR(t)}class RR{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new xR,this._initialized=!1,this.plugins=new SR(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){At(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,s=!0){this.plugins.addPreset(e,n,i),await this.refresh(s)}async addShape(e,n,i,s,r,o=!0){let l,a=o,u,d,c;zn(i)?(a=i,u=void 0):u=i,zn(s)?(a=s,d=void 0):d=s,zn(r)?(a=r,c=void 0):c=r,Lv(n)?l={afterEffect:d,destroy:c,draw:n,init:u}:l=n,this.plugins.addShapeDrawer(e,l),await this.refresh(a)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let s;return TR(e)?s=e:(s={},At(e)?s.id=e:s.options=e,Mt(n)?s.index=n:s.options=n??s.options,s.index=i??s.index),this._loadParams(s)}async loadJSON(e,n,i){let s,r;return Mt(n)||n===void 0?s=e:(r=e,s=n),this._loadParams({id:r,url:s,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,s){const r={index:s};return At(e)?r.id=e:r.element=e,n instanceof HTMLElement?r.element=n:r.options=n,Mt(i)?r.index=i:r.options=i??r.options,this._loadParams(r)}async setJSON(e,n,i,s){const r={};return e instanceof HTMLElement?(r.element=e,r.url=n,r.index=i):(r.id=e,r.element=n,r.url=i,r.index=s),this._loadParams(r)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${xt} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(te()*1e4)}`,{index:i,url:s}=e,r=s?await kR({fallback:e.options,url:s,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const l=nn(r,i),a=this.dom(),u=a.findIndex(h=>h.id===n);if(u>=0){const h=this.domItem(u);h&&!h.destroyed&&(h.destroy(),a.splice(u,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[tr]="false";else{const h=o.getElementsByTagName("canvas");h.length?(d=h[0],d.dataset[tr]="false"):(d=document.createElement("canvas"),d.dataset[tr]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const c=new ER(this,n,l);return u>=0?a.splice(u,0,c):a.push(c),c.canvas.loadCanvas(d),await c.start(),c}}class IR{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return fs(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return fs({h:N(i.h),l:N(i.l),s:N(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?mT({a:i.length>4?Iv(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class PR{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:N(i.r),g:N(i.g),b:N(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?Iv(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function NR(){const t=new PR,e=new IR;$p(t),$p(e);const n=new RR;return n.init(),n}class Gt{constructor(e){this.container=e,this.type="external"}}class Sh{constructor(e){this.container=e,this.type="particles"}}const Sl=NR();hs()||(window.tsParticles=Sl);const $i=t=>typeof t=="object"&&t!==null;function kl(t,e,n=()=>!1){if(!$i(t)||!$i(e))return t===e;const i=Object.keys(t).filter(r=>!n(r)),s=Object.keys(e).filter(r=>!n(r));if(i.length!==s.length)return!1;for(const r of i){const o=t[r],l=e[r];if($i(o)&&$i(l)){if(o===e&&l===t)continue;if(!kl(o,l,n))return!1}else if(Array.isArray(o)&&Array.isArray(l)){if(!Qv(o,l,n))return!1}else if(o!==l)return!1}return!0}function Qv(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],r=e[i];if(Array.isArray(s)&&Array.isArray(r)){if(!Qv(s,r,n))return!1}else if($i(s)&&$i(r)){if(!kl(s,r,n))return!1}else if(s!==r)return!1}return!0}const Yv="tsparticles";let Kv=class Xv extends me.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!kl(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!kl(n,i,s=>s.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Sl),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:s,id:r}=this.props;return Ah.createElement("div",{className:i,id:r},Ah.createElement("canvas",{className:s,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Xv.defaultProps.id??Yv,n=await Sl.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};Kv.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Yv};class bl{static init(e){var r;const n=new bl,i=e.selector;if(!i)throw new Error("No selector provided");const s=document.querySelector(i);if(!s)throw new Error("No element found for selector");return Sl.set(i.replace(".","").replace("!",""),s,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(r=e.responsive)==null?void 0:r.map(o=>{var l,a,u,d,c;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(l=o.options)==null?void 0:l.color},links:{distance:(a=o.options)==null?void 0:a.minDistance,enable:(u=o.options)==null?void 0:u.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=o.options)==null?void 0:d.speed},size:{value:(c=o.options)==null?void 0:c.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const OR=t=>{const e=(i,s)=>t.load(i,s);e.load=(i,s,r)=>{t.loadJSON(i,s).then(o=>{o&&r(o)}).catch(()=>{r(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},DR=t=>{const{particlesJS:e,pJSDom:n}=OR(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=bl,{particlesJS:e,pJSDom:n,Particles:bl}};function AR(t){const e=t.initialPosition,{dx:n,dy:i}=qe(e,t.position),s=Math.abs(n),r=Math.abs(i),{maxDistance:o}=t.retina,l=o.horizontal,a=o.vertical;if(!(!l&&!a)){if((l&&s>=l||a&&r>=a)&&!t.misplaced)t.misplaced=!!l&&s>l||!!a&&r>a,l&&(t.velocity.x=t.velocity.y/2-t.velocity.x),a&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!l||s<l)&&(!a||r<a)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const u=t.position,d=t.velocity;l&&(u.x<e.x&&d.x<0||u.x>e.x&&d.x>0)&&(d.x*=-te()),a&&(u.y<e.y&&d.y<0||u.y>e.y&&d.y>0)&&(d.y*=-te())}}}function MR(t,e,n,i,s,r){FR(t,r);const o=t.gravity,l=o!=null&&o.enable&&o.inverse?-1:1;s&&n&&(t.velocity.x+=s*r.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=l*(o.acceleration*r.factor)/(60*n));const a=t.moveDecay;t.velocity.multTo(a);const u=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&u.y>=0&&u.y>=i||o.inverse&&u.y<=0&&u.y<=-i)&&(u.y=l*i,n&&(t.velocity.y=u.y/n));const d=t.options.zIndex,c=(1-t.zIndexFactor)**d.velocityRate;u.multTo(c);const{position:h}=t;h.addTo(u),e.vibrate&&(h.x+=Math.sin(h.x*Math.cos(h.y)),h.y+=Math.cos(h.y*Math.sin(h.x)))}function LR(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>s/2?(t.spin.radius=s/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/s)}function FR(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const r=(o=t.pathGenerator)==null?void 0:o.generate(t,e);r&&t.velocity.addTo(r),i.clamp&&(t.velocity.x=zt(t.velocity.x,-1,1),t.velocity.y=zt(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function zR(t){return t.slow.inRange?t.slow.factor:1}const UR=2;class BR{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,s=i.move.spin;if(!s.enable)return;const r=s.position??{x:50,y:50},o={x:r.x/100*n.canvas.size.width,y:r.y/100*n.canvas.size.height},l=e.getPosition(),a=ct(l,o),u=N(s.acceleration);e.retina.spinAcceleration=u*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:a,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:N(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var g,y;const i=e.options,s=i.move;if(!s.enable)return;const r=e.container,o=r.retina.pixelRatio,l=zR(e),a=((g=e.retina).moveSpeed??(g.moveSpeed=N(s.speed)*o))*r.retina.reduceFactor,u=(y=e.retina).moveDrift??(y.moveDrift=N(e.options.move.drift)*o),d=kn(i.size.value)*o,c=s.size?e.getRadius()/d:1,h=a*c*l*(n.factor||1)/UR,f=e.retina.maxSpeed??r.retina.maxSpeed;s.spin.enable?LR(e,h):MR(e,s,h,f,u,n),AR(e)}}async function jR(t,e=!0){await t.addMover("base",()=>new BR,e)}class HR{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const s=n.circleRange;e.arc(0,0,i,s.min,s.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,s=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=Hi(s)?{min:s.min*Math.PI/180,max:s.max*Math.PI/180}:{min:0,max:s*Math.PI/180}}}async function $R(t,e=!0){await t.addShape("circle",new HR,e)}function du(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const r=Ze(n.offset),o=(e.velocity??0)*t.factor+r*3.6,l=e.decay??1;!s||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&l!==1&&(e.velocity*=l),e.value>i&&(e.value%=i)}function WR(t,e){const{h:n,s:i,l:s}=t.options.color.animation,{color:r}=t;if(!r)return;const{h:o,s:l,l:a}=r;o&&du(e,o,n,360,!1),l&&du(e,l,i,100,!0),a&&du(e,a,s,100,!0)}class VR{constructor(e){this.container=e}init(e){const n=Pr(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=jv(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:s}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&((r==null?void 0:r.h.value)!==void 0&&n.enable||(r==null?void 0:r.s.value)!==void 0&&i.enable||(r==null?void 0:r.l.value)!==void 0&&s.enable)}update(e,n){WR(e,n)}}async function qR(t,e=!0){await t.addParticleUpdater("color",n=>new VR(n),e)}function GR(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function QR(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,s=n.max,r=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=r),GR(t,n.value,i,s),t.destroyed||(n.value=zt(n.value,i,s))}}class YR{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=Av(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=N(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=te()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&QR(e,n)}}async function KR(t,e=!0){await t.addParticleUpdater("opacity",n=>new YR(n),e)}function XR(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const s=vi(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-s,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function JR(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const s=vi(t.particle.options.bounce.vertical);t.particle.velocity.y*=-s,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class ZR{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;let o=!1;for(const[,h]of r.plugins)if(h.particleBounce!==void 0&&(o=h.particleBounce(e,i,n)),o)break;if(o)return;const l=e.getPosition(),a=e.offset,u=e.getRadius(),d=Vr(l,u),c=r.canvas.size;XR({particle:e,outMode:s,direction:n,bounds:d,canvasSize:c,offset:a,size:u}),JR({particle:e,outMode:s,direction:n,bounds:d,canvasSize:c,offset:a,size:u})}}class eI{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case"normal":case"outside":if(wh(e.position,r.canvas.size,be.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:l}=qe(e.position,e.moveCenter),{x:a,y:u}=e.velocity;if(a<0&&o>e.moveCenter.radius||u<0&&l>e.moveCenter.radius||a>=0&&o<-e.moveCenter.radius||u>=0&&l<-e.moveCenter.radius)return;break}}r.particles.remove(e,void 0,!0)}}class tI{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,s){if(!this.modes.includes(s)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const r=e.options.move.gravity,o=this.container,l=o.canvas.size,a=e.getRadius();if(r.enable){const u=e.position;(!r.inverse&&u.y>l.height+a&&n==="bottom"||r.inverse&&u.y<-a&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=l.height+a||e.velocity.y<0&&e.position.y>=-a||e.velocity.x>0&&e.position.x<=l.width+a||e.velocity.x<0&&e.position.x>=-a)return;wh(e.position,o.canvas.size,be.origin,a,n)||o.particles.remove(e)}}}class nI{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case"inside":{const{x:o,y:l}=e.velocity,a=be.origin;a.length=e.moveCenter.radius,a.angle=e.velocity.angle+Math.PI,a.addTo(be.create(e.moveCenter));const{dx:u,dy:d}=qe(e.position,a);if(o<=0&&u>=0||l<=0&&d>=0||o>=0&&u<=0||l>=0&&d<=0)return;e.position.x=Math.floor(Ze({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(Ze({min:0,max:r.canvas.size.height}));const{dx:c,dy:h}=qe(e.position,e.moveCenter);e.direction=Math.atan2(-h,-c),e.velocity.angle=e.direction;break}default:{if(wh(e.position,r.canvas.size,be.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Ze({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ze({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:l}=qe(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(l,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,l=r.canvas.size,a={bottom:l.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:l.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=Vr(e.position,u);n==="right"&&d.left>l.width+e.offset.x?(e.position.x=a.left,e.initialPosition.x=e.position.x,o||(e.position.y=te()*l.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=a.right,e.initialPosition.x=e.position.x,o||(e.position.y=te()*l.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>l.height+e.offset.y?(o||(e.position.x=te()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=te()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class iI{constructor(e){this.container=e,this._updateOutMode=(n,i,s,r)=>{for(const o of this.updaters)o.update(n,r,i,s)},this.updaters=[new ZR(e),new eI(e),new nI(e),new tI(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function sI(t,e=!0){await t.addParticleUpdater("outModes",n=>new iI(n),e)}function rI(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function oI(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,s=n.min,r=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=s?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),rI(t,n.value,s,r),t.destroyed||(n.value=zt(n.value,s,r))}}class lI{init(e){const n=e.container,i=e.options.size,s=i.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,s.sync||(e.size.velocity*=te()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&oI(e,n)}}async function aI(t,e=!0){await t.addParticleUpdater("size",()=>new lI,e)}async function uI(t,e=!0){await jR(t,!1),await $R(t,!1),await qR(t,!1),await KR(t,!1),await sI(t,!1),await aI(t,!1),await t.refresh(e)}async function cI(){Ja("ease-in-quad",t=>t**2),Ja("ease-out-quad",t=>1-(1-t)**2),Ja("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class dI{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let hI=class extends Gt{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:s}=i;if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const r=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!r)return;this._processAttract(r,o,new Be(r.x,r.y,o))}else s.clicking===!1&&(s.particles=[])},this._hoverAttract=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.attractModeDistance;!r||r<0||!s||this._processAttract(s,r,new Be(s.x,s.y,r))},this._processAttract=(i,s,r)=>{const o=this.container,l=o.actualOptions.interactivity.modes.attract;if(!l)return;const a=o.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a){const{dx:d,dy:c,distance:h}=qe(u.position,i),f=l.speed*l.factor,g=zt(Rv(l.easing)(1-h/s)*f,0,l.maxSpeed),y=be.create(h===0?f:d/h*g,h===0?f:c/h*g);u.position.subFrom(y)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.attract;if(!(!r||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},r.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===_i,s=n.interactivity.events,r=s.onHover.enable,o=s.onHover.mode,l=s.onClick.enable,a=s.onClick.mode;i&&r&&pe("attract",o)?this._hoverAttract():l&&pe("attract",a)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!s.position||!r.onHover.enable)&&(!s.clickPosition||!r.onClick.enable))return!1;const o=r.onHover.mode,l=r.onClick.mode;return pe("attract",o)||pe("attract",l)}loadModeOptions(e,...n){e.attract||(e.attract=new dI);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function fI(t,e=!0){await t.addInteractor("externalAttract",n=>new hI(t,n),e)}class pI{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class mI extends Gt{constructor(e){super(e),this._processBounce=(n,i,s)=>{const r=this.container.particles.quadTree.query(s,o=>this.isEnabled(o));for(const o of r)s instanceof Be?Ov(Mc(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:be.origin,factor:be.origin}):s instanceof Ut&&dT(o,Vr(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,s=10*i,r=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!r||this._processBounce(r,o,new Be(r.x,r.y,o+s))},this._singleSelectorBounce=(n,i)=>{const s=this.container,r=document.querySelectorAll(n);r.length&&r.forEach(o=>{const l=o,a=s.retina.pixelRatio,u={x:(l.offsetLeft+l.offsetWidth/2)*a,y:(l.offsetTop+l.offsetHeight/2)*a},d=l.offsetWidth/2*a,c=10*a,h=i.type==="circle"?new Be(u.x,u.y,d+c):new Ut(l.offsetLeft*a-c,l.offsetTop*a-c,l.offsetWidth*a+c*2,l.offsetHeight*a+c*2);this._processBounce(u,d,h)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,s=e.interactivity.status===_i,r=i.onHover.enable,o=i.onHover.mode,l=i.onDiv;s&&r&&pe("bounce",o)?this._processMouseBounce():Eh("bounce",l,(a,u)=>this._singleSelectorBounce(a,u))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv;return s.position&&r.onHover.enable&&pe("bounce",r.onHover.mode)||Ch("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new pI);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function gI(t,e=!0){await t.addInteractor("externalBounce",n=>new mI(n),e)}class Jv{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=dt(this.color)?void 0:this.color;this.color=Te(e.color,i=>Oe.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class yI extends Jv{constructor(){super(),this.selectors=[]}get ids(){return Te(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Te(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class _I extends Jv{load(e){super.load(e),e&&(this.divs=Te(e.divs,n=>{const i=new yI;return i.load(n),i}))}}function Jp(t,e,n,i){if(e>=n){const s=t+(e-n)*i;return zt(s,t,e)}else if(e<n){const s=t-(n-e)*i;return zt(s,e,t)}}class vI extends Gt{constructor(e){super(e),this._clickBubble=()=>{var u;const n=this.container,i=n.actualOptions,s=n.interactivity.mouse.clickPosition,r=i.interactivity.modes.bubble;if(!r||!s)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const l=n.particles.quadTree.queryCircle(s,o,d=>this.isEnabled(d)),{bubble:a}=n;for(const d of l){if(!a.clicking)continue;d.bubble.inRange=!a.durationEnd;const c=d.getPosition(),h=ct(c,s),f=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;f>r.duration&&(a.durationEnd=!0),f>r.duration*2&&(a.clicking=!1,a.durationEnd=!1);const g={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:kn(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,h,f,g);const y={bubbleObj:{optValue:r.opacity,value:d.bubble.opacity},particlesObj:{optValue:kn(d.options.opacity.value),value:((u=d.opacity)==null?void 0:u.value)??1},type:"opacity"};this._process(d,h,f,y),!a.durationEnd&&h<=o?this._hoverBubbleColor(d,h):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,s=n.retina.bubbleModeDistance;if(!s||s<0||i===void 0)return;const r=n.particles.quadTree.queryCircle(i,s,o=>this.isEnabled(o));for(const o of r){o.bubble.inRange=!0;const l=o.getPosition(),a=ct(l,i),u=1-a/s;a<=s?u>=0&&n.interactivity.status===_i&&(this._hoverBubbleSize(o,u),this._hoverBubbleOpacity(o,u),this._hoverBubbleColor(o,u)):this.reset(o),n.interactivity.status===Dc&&this.reset(o)}},this._hoverBubbleColor=(n,i,s)=>{const r=this.container.actualOptions,o=s??r.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const l=o.color;if(!l)return;const a=nn(l);n.bubble.finalColor=Pr(a)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const l=n.getFillColor();n.bubble.color=l?zv(xh(l,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,s)=>{var c,h;const r=this.container,o=r.actualOptions,l=(s==null?void 0:s.opacity)??((c=o.interactivity.modes.bubble)==null?void 0:c.opacity);if(!l)return;const a=n.options.opacity.value,u=((h=n.opacity)==null?void 0:h.value)??1,d=Jp(u,l,kn(a),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,s)=>{const r=this.container,o=s!=null&&s.size?s.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(o===void 0)return;const l=kn(n.options.size.value)*r.retina.pixelRatio,a=n.size.value,u=Jp(a,o,l,i);u!==void 0&&(n.bubble.radius=u)},this._process=(n,i,s,r)=>{const o=this.container,l=r.bubbleObj.optValue,a=o.actualOptions,u=a.interactivity.modes.bubble;if(!u||l===void 0)return;const d=u.duration,c=o.retina.bubbleModeDistance,h=r.particlesObj.optValue,f=r.bubbleObj.value,g=r.particlesObj.value||0,y=r.type;if(!(!c||c<0||l===h))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)f&&(y==="size"&&delete n.bubble.radius,y==="opacity"&&delete n.bubble.opacity);else if(i<=c){if((f??g)!==l){const p=g-s*(g-l)/d;y==="size"&&(n.bubble.radius=p),y==="opacity"&&(n.bubble.opacity=p)}}else y==="size"&&delete n.bubble.radius,y==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,s)=>{const r=this.container,o=document.querySelectorAll(i),l=r.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(a=>{const u=a,d=r.retina.pixelRatio,c={x:(u.offsetLeft+u.offsetWidth/2)*d,y:(u.offsetTop+u.offsetHeight/2)*d},h=u.offsetWidth/2*d,f=s.type==="circle"?new Be(c.x,c.y,h):new Ut(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),g=r.particles.quadTree.query(f,y=>this.isEnabled(y));for(const y of g){if(!f.contains(y.getPosition()))continue;y.bubble.inRange=!0;const C=l.divs,p=Nv(C,u);(!y.bubble.div||y.bubble.div!==u)&&(this.clear(y,n,!0),y.bubble.div=u),this._hoverBubbleSize(y,1,p),this._hoverBubbleOpacity(y,1,p),this._hoverBubbleColor(y,1,p)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,s=i.onHover,r=i.onClick,o=s.enable,l=s.mode,a=r.enable,u=r.mode,d=i.onDiv;o&&pe("bubble",l)?this._hoverBubble():a&&pe("bubble",u)?this._clickBubble():Eh("bubble",d,(c,h)=>this._singleSelectorHover(e,c,h))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:l,onHover:a}=r,u=Ch("bubble",l);return u||a.enable&&s.position||o.enable&&s.clickPosition?pe("bubble",a.mode)||pe("bubble",o.mode)||u:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new _I);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function wI(t,e=!0){await t.addInteractor("externalBubble",n=>new vI(n),e)}class CI{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class EI{constructor(){this.distance=80,this.links=new CI,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function xI(t,e,n,i){const s=Math.floor(n.getRadius()/e.getRadius()),r=e.getFillColor(),o=n.getFillColor();if(!r||!o)return;const l=e.getPosition(),a=n.getPosition(),u=xh(r,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(l.x,l.y,a.x,a.y);return d.addColorStop(0,Nr(r,i)),d.addColorStop(s>1?1:s,sn(u,i)),d.addColorStop(1,Nr(o,i)),d}function SI(t,e,n,i,s){nr(t,i,s),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function kI(t,e,n,i){const s=t.actualOptions,r=s.interactivity.modes.connect;if(r)return xI(e,n,i,r.links.opacity)}function bI(t,e,n){t.canvas.draw(i=>{const s=kI(t,i,e,n);if(!s)return;const r=e.getPosition(),o=n.getPosition();SI(i,e.retina.linksWidth??0,s,r,o)})}class TI extends Gt{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const s=Math.abs(e.retina.connectModeRadius),r=e.particles.quadTree.queryCircle(i,s,l=>this.isEnabled(l));let o=0;for(const l of r){const a=l.getPosition();for(const u of r.slice(o+1)){const d=u.getPosition(),c=Math.abs(e.retina.connectModeDistance),h=Math.abs(a.x-d.x),f=Math.abs(a.y-d.y);h<c&&f<c&&bI(e,l,u)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&i.position?pe("connect",s.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new EI);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function RI(t,e=!0){await t.addInteractor("externalConnect",n=>new TI(n),e)}class II{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=Oe.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class PI{constructor(){this.distance=100,this.links=new II}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function NI(t,e,n,i,s,r){nr(t,n,i),t.strokeStyle=sn(s,r),t.lineWidth=e,t.stroke()}function OI(t,e,n,i,s){t.canvas.draw(r=>{const o=e.getPosition();NI(r,e.retina.linksWidth??0,o,s,n,i)})}class DI extends Gt{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var l;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==_i)return;const s=e.interactivity.mouse.position;if(!s)return;const r=e.retina.grabModeDistance;if(!r||r<0)return;const o=e.particles.quadTree.queryCircle(s,r,a=>this.isEnabled(a));for(const a of o){const u=a.getPosition(),d=ct(u,s);if(d>r)continue;const c=i.modes.grab.links,h=c.opacity,f=h-d*h/r;if(f<=0)continue;const g=c.color??((l=a.options.links)==null?void 0:l.color);if(!e.particles.grabLineColor&&g){const C=i.modes.grab.links;e.particles.grabLineColor=Bv(g,C.blink,C.consent)}const y=Lc(a,void 0,e.particles.grabLineColor);y&&OI(e,a,y,f,s)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&pe("grab",s.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new PI);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function AI(t,e=!0){await t.addInteractor("externalGrab",n=>new DI(n),e)}class MI extends Gt{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function LI(t,e=!0){await t.addInteractor("externalPause",n=>new MI(n),e)}class FI{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=L(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=L(n))}}class zI extends Gt{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,s=i.actualOptions,r=s.interactivity.modes.push;if(!r)return;const o=N(r.quantity);if(o<=0)return;const l=ta([void 0,...r.groups]),a=l!==void 0?i.actualOptions.particles.groups[l]:void 0;i.particles.push(o,i.interactivity.mouse,a,l)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new FI);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function UI(t,e=!0){await t.addInteractor("externalPush",n=>new zI(n),e)}class BI{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=L(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=L(n))}}class jI extends Gt{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,s=i.actualOptions;if(!s.interactivity.modes.remove||n!=="remove")return;const r=N(s.interactivity.modes.remove.quantity);i.particles.removeQuantity(r)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new BI);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function HI(t,e=!0){await t.addInteractor("externalRemove",n=>new jI(n),e)}class Zv{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class $I extends Zv{constructor(){super(),this.selectors=[]}get ids(){return Te(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Te(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class WI extends Zv{load(e){super.load(e),e&&(this.divs=Te(e.divs,n=>{const i=new $I;return i.load(n),i}))}}class VI extends Gt{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,s=i.actualOptions.interactivity.modes.repulse;if(!s)return;const r=i.repulse||{particles:[]};if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const l=Math.pow(o/6,3),a=i.interactivity.mouse.clickPosition;if(a===void 0)return;const u=new Be(a.x,a.y,l),d=i.particles.quadTree.query(u,c=>this.isEnabled(c));for(const c of d){const{dx:h,dy:f,distance:g}=qe(a,c.position),y=g**2,C=s.speed,p=-l*C/y;if(y<=l){r.particles.push(c);const m=be.create(h,f);m.length=p,c.velocity.setTo(m)}}}else if(r.clicking===!1){for(const o of r.particles)o.velocity.setTo(o.initialVelocity);r.particles=[]}},this._hoverRepulse=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.repulseModeDistance;!r||r<0||!s||this._processRepulse(s,r,new Be(s.x,s.y,r))},this._processRepulse=(i,s,r,o)=>{const l=this.container,a=l.particles.quadTree.query(r,d=>this.isEnabled(d)),u=l.actualOptions.interactivity.modes.repulse;if(u)for(const d of a){const{dx:c,dy:h,distance:f}=qe(d.position,i),g=((o==null?void 0:o.speed)??u.speed)*u.factor,y=zt(Rv(u.easing)(1-f/s)*g,0,u.maxSpeed),C=be.create(f===0?g:c/f*y,f===0?g:h/f*y);d.position.addTo(C)}},this._singleSelectorRepulse=(i,s)=>{const r=this.container,o=r.actualOptions.interactivity.modes.repulse;if(!o)return;const l=document.querySelectorAll(i);l.length&&l.forEach(a=>{const u=a,d=r.retina.pixelRatio,c={x:(u.offsetLeft+u.offsetWidth/2)*d,y:(u.offsetTop+u.offsetHeight/2)*d},h=u.offsetWidth/2*d,f=s.type==="circle"?new Be(c.x,c.y,h):new Ut(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),g=o.divs,y=Nv(g,u);this._processRepulse(c,h,f,y)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.repulse;if(!r||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const l of n.repulse.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},r.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===_i,s=n.interactivity.events,r=s.onHover,o=r.enable,l=r.mode,a=s.onClick,u=a.enable,d=a.mode,c=s.onDiv;i&&o&&pe("repulse",l)?this._hoverRepulse():u&&pe("repulse",d)?this._clickRepulse():Eh("repulse",c,(h,f)=>this._singleSelectorRepulse(h,f))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv,l=r.onHover,a=r.onClick,u=Ch("repulse",o);if(!(u||l.enable&&s.position||a.enable&&s.clickPosition))return!1;const d=l.mode,c=a.mode;return pe("repulse",d)||pe("repulse",c)||u}loadModeOptions(e,...n){e.repulse||(e.repulse=new WI);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function qI(t,e=!0){await t.addInteractor("externalRepulse",n=>new VI(t,n),e)}class GI{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class QI extends Gt{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&pe("slow",s.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new GI);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,s=n.interactivity.mouse.position,r=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!r||r<0||!s)return;const l=e.getPosition(),a=ct(s,l),u=a/r,d=o.factor,{slow:c}=e;a>r||(c.inRange=!0,c.factor=u/d)}}async function YI(t,e=!0){await t.addInteractor("externalSlow",n=>new QI(n),e)}const hu=[0,4,2,1],Zp=[8,8,4,2];class KI{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,s)=>i+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let s=0;(e=this.data[this.pos+s])!==0;s+=e+1)n+=e;const i=new Uint8Array(n);for(let s=0;(e=this.data[this.pos++])!==0;)for(let r=e;--r>=0;i[s++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function ew(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function XI(t,e,n,i){switch(t.nextByte()){case 249:{const s=e.frames[n(!1)];t.pos++;const r=t.nextByte();s.GCreserved=(r&224)>>>5,s.disposalMethod=(r&28)>>>2,s.userInputDelayFlag=(r&2)===2;const o=(r&1)===1;s.delayTime=t.nextTwoBytes()*10;const l=t.nextByte();o&&i(l),t.pos++;break}case 255:{t.pos++;const s={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(s);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function JI(t,e,n,i,s,r){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const l=t.nextByte(),a=(l&128)===128,u=(l&64)===64;o.sortFlag=(l&32)===32,o.reserved=(l&24)>>>3;const d=1<<(l&7)+1;a&&(o.localColorTable=ew(t,d));const c=p=>{const{r:m,g:_,b:v}=(a?o.localColorTable:e.globalColorTable)[p];return{r:m,g:_,b:v,a:p===s(null)?n?~~((m+_+v)/3):0:255}},h=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(p){if(p instanceof DOMException&&p.name==="IndexSizeError")return null;throw p}})();if(h==null)throw new EvalError("GIF frame size is to large");const f=t.nextByte(),g=t.readSubBlocksBin(),y=1<<f,C=(p,m)=>{const _=p>>>3,v=p&7;return(g[_]+(g[_+1]<<8)+(g[_+2]<<16)&(1<<m)-1<<v)>>>v};if(u){for(let p=0,m=f+1,_=0,v=[[0]],k=0;k<4;k++){if(hu[k]<o.height)for(let T=0,b=0;;){const R=p;if(p=C(_,m),_+=m+1,p===y){m=f+1,v.length=y+2;for(let H=0;H<v.length;H++)v[H]=H<y?[H]:[]}else{p>=v.length?v.push(v[R].concat(v[R][0])):R!==y&&v.push(v[R].concat(v[p][0]));for(let H=0;H<v[p].length;H++){const{r:A,g:Re,b:D,a:V}=c(v[p][H]);h.data.set([A,Re,D,V],hu[k]*o.width+Zp[k]*b+T%(o.width*4)),T+=4}v.length===1<<m&&m<12&&m++}if(T===o.width*4*(b+1)&&(b++,hu[k]+Zp[k]*b>=o.height))break}r==null||r(t.pos/(t.data.length-1),i(!1)+1,h,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=h,o.bitmap=await createImageBitmap(h)}else{for(let p=0,m=f+1,_=0,v=[[0]],k=-4;;){const T=p;if(p=C(_,m),_+=m,p===y){m=f+1,v.length=y+2;for(let b=0;b<v.length;b++)v[b]=b<y?[b]:[]}else{if(p===y+1)break;p>=v.length?v.push(v[T].concat(v[T][0])):T!==y&&v.push(v[T].concat(v[p][0]));for(let b=0;b<v[p].length;b++){const{r:R,g:H,b:A,a:Re}=c(v[p][b]);h.data.set([R,H,A,Re],k+=4)}v.length>=1<<m&&m<12&&m++}}o.image=h,o.bitmap=await createImageBitmap(h),r==null||r((t.pos+1)/t.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function ZI(t,e,n,i,s,r){switch(t.nextByte()){case 59:return!0;case 44:await JI(t,e,n,i,s,r);break;case 33:await XI(t,e,i,s);break;default:throw new EvalError("undefined block found")}return!1}function eP(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function tP(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const s=await i.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new KI(new Uint8ClampedArray(s));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const l=o.nextByte(),a=(l&128)===128;r.colorRes=(l&112)>>>4,r.sortFlag=(l&8)===8;const u=1<<(l&7)+1,d=o.nextByte();r.pixelAspectRatio=o.nextByte(),r.pixelAspectRatio!==0&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),a&&(r.globalColorTable=ew(o,u));const c=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(v){if(v instanceof DOMException&&v.name==="IndexSizeError")return null;throw v}})();if(c==null)throw new Error("GIF frame size is to large");const{r:h,g:f,b:g}=r.globalColorTable[d];c.data.set(a?[h,f,g,255]:[0,0,0,0]);for(let v=4;v<c.data.length;v*=2)c.data.copyWithin(v,0,v);r.backgroundImage=c;let y=-1,C=!0,p=-1;const m=v=>(v&&(C=!0),y),_=v=>(v!=null&&(p=v),p);try{do C&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),y++,p=-1,C=!1);while(!await ZI(o,r,n,m,_,e));r.frames.length--;for(const v of r.frames){if(v.userInputDelayFlag&&v.delayTime===0){r.totalTime=1/0;break}r.totalTime+=v.delayTime}return r}catch(v){throw v instanceof EvalError?new Error(`error while parsing frame ${y} "${v.message}"`):v}}const nP=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function iP(t,e,n){const{svgData:i}=t;if(!i)return"";const s=Nr(e,n);if(i.includes("fill"))return i.replace(nP,()=>s);const r=i.indexOf(">");return`${i.substring(0,r)} fill="${s}"${i.substring(r)}`}async function ia(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,wi().error(`${xt} loading image: ${t.source}`),e()}),n.src=t.source})}async function sP(t){if(t.type!=="gif"){await ia(t);return}t.loading=!0;try{t.gifData=await tP(t.source),t.gifLoopCount=eP(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function rP(t){if(t.type!=="svg"){await ia(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(wi().error(`${xt} Image not found`),t.error=!0),t.loading=!1}function oP(t,e,n,i){var o;const s=iP(t,n,((o=i.opacity)==null?void 0:o.value)??1),r={color:n,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(l=>{const a=new Blob([s],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,d=u.createObjectURL(a),c=new Image;c.addEventListener("load",()=>{r.loaded=!0,r.element=c,l(r),u.revokeObjectURL(d)}),c.addEventListener("error",async()=>{u.revokeObjectURL(d);const h={...t,error:!1,loading:!0};await ia(h),r.loaded=!0,r.element=h.element,l(r)}),c.src=d})}class lP{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${xt} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,s,r){const o=n.image,l=o==null?void 0:o.element;if(o){if(e.globalAlpha=s,o.gif&&o.gifData){const a=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=a.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(0,0,a.width,a.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let d=n.gifFrame??0;const c={x:-o.gifData.width*.5,y:-o.gifData.height*.5},h=o.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!h.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),h.disposalMethod){case 4:case 5:case 6:case 7:case 0:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height);break;case 1:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y);break;case 2:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height),o.gifData.globalColorTable.length===0?u.putImageData(o.gifData.frames[0].image,c.x+h.left,c.y+h.top):u.putImageData(o.gifData.backgroundImage,c.x,c.y);break;case 3:{const f=u.getImageData(0,0,a.width,a.height);u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height),u.putImageData(f,0,0)}break}if(n.gifTime+=r.value,n.gifTime>h.delayTime){if(n.gifTime-=h.delayTime,++d>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,u.clearRect(0,0,a.width,a.height)}n.gifFrame=d}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(l){const a=o.ratio,u={x:-i,y:-i};e.drawImage(l,u.x,u.y,i*2,i*2/a)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(s=>s.name===n.name||s.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,s=n.shapeData,r=n.getFillColor(),o=i.find(a=>a.name===s.name||a.source===s.src);if(!o)return;const l=s.replaceColor??s.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let a;o.svgData&&r?a=await oP(o,s,r,n):a={color:r,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:o.ratio??1,replaceColor:l,source:s.src},a.ratio||(a.ratio=1);const u=s.fill??n.fill,d=s.close??n.close,c={image:a,fill:u,close:d};n.image=c.image,n.fill=c.fill,n.close=c.close})()}}class aP{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class uP{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const s of n.preload){const r=i.find(o=>o.name===s.name||o.src===s.src);if(r)r.load(s);else{const o=new aP;o.load(s),i.push(o)}}}needsPlugin(){return!0}}function cP(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${xt} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?sP:e.replaceColor?rP:ia)(n)}catch{throw new Error(`${xt} ${e.name??e.src} not found`)}})}async function dP(t,e=!0){cP(t);const n=new uP(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new lP(t),e)}class hP extends qn{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class fP extends qn{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class pP{constructor(){this.count=0,this.delay=new hP,this.duration=new fP}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class mP{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,s=i.life;s&&(e.life={delay:n.retina.reduceFactor?N(s.delay.value)*(s.delay.sync?1:te())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?N(s.duration.value)*(s.duration.sync?1:te())/n.retina.reduceFactor*1e3:0,time:0,count:s.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new pP);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let s=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)s=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(s?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const r=this.container.canvas.size,o=L(0,r.width),l=L(0,r.width);e.position.x=Ze(o),e.position.y=Ze(l),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const a=e.options.life;a&&(i.delay=N(a.delay.value)*1e3,i.duration=N(a.duration.value)*1e3)}}async function gP(t,e=!0){await t.addParticleUpdater("life",n=>new mP(n),e)}class yP{draw(e,n,i){const s=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(s==null?void 0:s.cap)??"butt"}getSidesCount(){return 1}}async function _P(t,e=!0){await t.addShape("line",new yP,e)}class vP{init(){}isEnabled(e){return!hs()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,s=i.interactivity.events.onHover.parallax;if(hs()||!s.enable)return;const r=s.force,o=n.interactivity.mouse.position;if(!o)return;const l=n.canvas.size,a={x:l.width/2,y:l.height/2},u=s.smooth,d=e.getRadius()/r,c={x:(o.x-a.x)*d,y:(o.y-a.y)*d},{offset:h}=e;h.x+=(c.x-h.x)/u,h.y+=(c.y-h.y)/u}}async function wP(t,e=!0){await t.addMover("parallax",()=>new vP,e)}class CP extends Sh{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,s=e.getPosition(),r=n.particles.quadTree.queryCircle(s,i);for(const o of r){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:a,dy:u}=qe(s,l),d=e.options.move.attract.rotate,c=a/(d.x*1e3),h=u/(d.y*1e3),f=o.size.value/e.size.value,g=1/f;e.velocity.x-=c*f,e.velocity.y-=h*f,o.velocity.x+=c*g,o.velocity.y+=h*g}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function EP(t,e=!0){await t.addInteractor("particlesAttract",n=>new CP(n),e)}function em(t,e,n,i,s,r){const o=zt(t.options.collisions.absorb.speed*s.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=r&&(n.size.value=0,n.destroy())}function xP(t,e,n,i){const s=t.getRadius(),r=e.getRadius();s===void 0&&r!==void 0?t.destroy():s!==void 0&&r===void 0?e.destroy():s!==void 0&&r!==void 0&&(s>=r?em(t,s,e,r,n,i):em(e,r,t,s,n,i))}const tm=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=N(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function tw(t,e){Ov(Mc(t),Mc(e)),tm(t),tm(e)}function SP(t,e){!t.unbreakable&&!e.unbreakable&&tw(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function kP(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{xP(t,e,n,i);break}case"bounce":{tw(t,e);break}case"destroy":{SP(t,e);break}}}class bP extends Sh{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,s=e.getPosition(),r=e.getRadius(),o=i.particles.quadTree.queryCircle(s,r*2);for(const l of o){if(e===l||!l.options.collisions.enable||e.options.collisions.mode!==l.options.collisions.mode||l.destroyed||l.spawning)continue;const a=l.getPosition(),u=l.getRadius();if(Math.abs(Math.round(s.z)-Math.round(a.z))>r+u)continue;const d=ct(s,a),c=r+u;d>c||kP(e,l,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function TP(t,e=!0){await t.addInteractor("particlesCollisions",n=>new bP(n),e)}class RP extends Be{constructor(e,n,i,s){super(e,n,i),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:n,height:i}=this.canvasSize,{x:s,y:r}=e;return super.contains(e)||super.contains({x:s-n,y:r})||super.contains({x:s-n,y:r-i})||super.contains({x:s,y:r-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const r=new Be(s.x,s.y,i.radius*2);return super.intersects(r)}else if(n.size!==void 0){const r=new Ut(s.x,s.y,n.size.width*2,n.size.height*2);return super.intersects(r)}return!1}}class IP{constructor(){this.blur=5,this.color=new Oe,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=Oe.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class PP{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=Oe.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class NP{constructor(){this.blink=!1,this.color=new Oe,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new IP,this.triangles=new PP,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=Oe.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function OP(t,e,n,i,s){const{dx:r,dy:o,distance:l}=qe(t,e);if(!s||l<=n)return l;const a={x:Math.abs(r),y:Math.abs(o)},u={x:Math.min(a.x,i.width-a.x),y:Math.min(a.y,i.height-a.y)};return Math.sqrt(u.x**2+u.y**2)}class DP extends Sh{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,s=n.options.links;let r=s.id===void 0?i.particles.linksColor:i.particles.linksColors.get(s.id);if(r)return;const o=s.color;r=Bv(o,s.blink,s.consent),s.id===void 0?i.particles.linksColor=r:i.particles.linksColors.set(s.id,r)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,s=i.canvas.size;if(n.x<0||n.y<0||n.x>s.width||n.y>s.height)return;const r=e.options.links,o=r.opacity,l=e.retina.linksDistance??0,a=r.warp,u=a?new RP(n.x,n.y,l,s):new Be(n.x,n.y,l),d=i.particles.quadTree.query(u);for(const c of d){const h=c.options.links;if(e===c||!(h!=null&&h.enable)||r.id!==h.id||c.spawning||c.destroyed||!c.links||e.links.some(C=>C.destination===c)||c.links.some(C=>C.destination===e))continue;const f=c.getPosition();if(f.x<0||f.y<0||f.x>s.width||f.y>s.height)continue;const g=OP(n,f,l,s,a&&h.warp);if(g>l)continue;const y=(1-g/l)*o;this._setColor(e),e.links.push({destination:c,opacity:y})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new NP);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function AP(t,e=!0){await t.addInteractor("particlesLinks",n=>new DP(n),e)}function MP(t){let e=!1;const{begin:n,end:i,maxDistance:s,context:r,canvasSize:o,width:l,backgroundMask:a,colorLine:u,opacity:d,links:c}=t;if(ct(n,i)<=s)nr(r,n,i),e=!0;else if(c.warp){let f,g;const y={x:i.x-o.width,y:i.y},C=qe(n,y);if(C.distance<=s){const p=n.y-C.dy/C.dx*n.x;f={x:0,y:p},g={x:o.width,y:p}}else{const p={x:i.x,y:i.y-o.height},m=qe(n,p);if(m.distance<=s){const v=-(n.y-m.dy/m.dx*n.x)/(m.dy/m.dx);f={x:v,y:0},g={x:v,y:o.height}}else{const _={x:i.x-o.width,y:i.y-o.height},v=qe(n,_);if(v.distance<=s){const k=n.y-v.dy/v.dx*n.x;f={x:-k/(v.dy/v.dx),y:k},g={x:f.x+o.width,y:f.y+o.height}}}}f&&g&&(nr(r,n,f),nr(r,i,g),e=!0)}if(!e)return;r.lineWidth=l,a.enable&&(r.globalCompositeOperation=a.composite),r.strokeStyle=sn(u,d);const{shadow:h}=c;if(h.enable){const f=Lt(h.color);f&&(r.shadowBlur=h.blur,r.shadowColor=sn(f))}r.stroke()}function LP(t){const{context:e,pos1:n,pos2:i,pos3:s,backgroundMask:r,colorTriangle:o,opacityTriangle:l}=t;gT(e,n,i,s),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=sn(o,l),e.fill()}function FP(t){return t.sort((e,n)=>e-n),t.join("_")}function nm(t,e){const n=FP(t.map(s=>s.id));let i=e.get(n);return i===void 0&&(i=te(),e.set(n,i)),i}class zP{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const r=this.container,o=r.actualOptions,l=i.destination,a=n.getPosition(),u=l.getPosition();let d=i.opacity;r.canvas.draw(c=>{var p;let h;const f=(p=n.options.twinkle)==null?void 0:p.lines;if(f!=null&&f.enable){const m=f.frequency,_=Lt(f.color);te()<m&&_&&(h=_,d=N(f.opacity))}if(!h){const m=s.id!==void 0?r.particles.linksColors.get(s.id):r.particles.linksColor;h=Lc(n,l,m)}if(!h)return;const g=n.retina.linksWidth??0,y=n.retina.linksDistance??0,{backgroundMask:C}=o;MP({context:c,width:g,begin:a,end:u,maxDistance:y,canvasSize:r.canvas.size,links:s,backgroundMask:C,colorLine:h,opacity:d})})},this._drawLinkTriangle=(n,i,s)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const o=r.triangles;if(!o.enable)return;const l=this.container,a=l.actualOptions,u=i.destination,d=s.destination,c=o.opacity??(i.opacity+s.opacity)/2;c<=0||l.canvas.draw(h=>{const f=n.getPosition(),g=u.getPosition(),y=d.getPosition(),C=n.retina.linksDistance??0;if(ct(f,g)>C||ct(y,g)>C||ct(y,f)>C)return;let p=Lt(o.color);if(!p){const m=r.id!==void 0?l.particles.linksColors.get(r.id):l.particles.linksColor;p=Lc(n,u,m)}p&&LP({context:h,pos1:f,pos2:g,pos3:y,backgroundMask:a.backgroundMask,colorTriangle:p,opacityTriangle:c})})},this._drawTriangles=(n,i,s,r)=>{var a,u,d;const o=s.destination;if(!((a=n.links)!=null&&a.triangles.enable&&((u=o.options.links)!=null&&u.triangles.enable)))return;const l=(d=o.links)==null?void 0:d.filter(c=>{const h=this._getLinkFrequency(o,c.destination);return o.options.links&&h<=o.options.links.frequency&&r.findIndex(f=>f.destination===c.destination)>=0});if(l!=null&&l.length)for(const c of l){const h=c.destination;this._getTriangleFrequency(i,o,h)>n.links.triangles.frequency||this._drawLinkTriangle(i,s,c)}},this._getLinkFrequency=(n,i)=>nm([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,s)=>nm([n,i,s],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:s}=n;if(!i||i.length<=0)return;const r=i.filter(o=>s.links&&this._getLinkFrequency(n,o.destination)<=s.links.frequency);for(const o of r)this._drawTriangles(s,n,o,r),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:s,width:r}=e.options.links;i.linksDistance=s*n,i.linksWidth=r*n}particleDestroyed(e){e.links=[]}}class UP{constructor(){this.id="links"}getPlugin(e){return new zP(e)}loadOptions(){}needsPlugin(){return!0}}async function BP(t,e=!0){const n=new UP;await t.addPlugin(n,e)}async function jP(t,e=!0){await AP(t,e),await BP(t,e)}class nw{draw(e,n,i){const s=this.getCenter(n,i),r=this.getSidesData(n,i),o=r.count.numerator*r.count.denominator,l=r.count.numerator/r.count.denominator,a=180*(l-2)/l,u=Math.PI-Math.PI*a/180;if(e){e.beginPath(),e.translate(s.x,s.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(r.length,0),e.translate(r.length,0),e.rotate(u)}}getSidesCount(e){const n=e.shapeData;return Math.round(N((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class HP extends nw{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class $P extends nw{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function WP(t,e=!0){await t.addShape("polygon",new HP,e)}async function VP(t,e=!0){await t.addShape("triangle",new $P,e)}async function qP(t,e=!0){await WP(t,e),await VP(t,e)}class GP{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=L(e.speed)),e.decay!==void 0&&(this.decay=L(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class QP extends qn{constructor(){super(),this.animation=new GP,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function YP(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const s=i.animation,r=(n.velocity??0)*e.factor,o=2*Math.PI,l=n.decay??1;if(s.enable){switch(n.status){case"increasing":n.value+=r,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=r,n.value<0&&(n.value+=o);break}n.velocity&&l!==1&&(n.velocity*=l)}}class KP{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:N(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(te()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const s=n.animation;s.enable&&(e.rotate.decay=1-N(s.decay),e.rotate.velocity=N(s.speed)/360*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=te())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new QP);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(YP(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function XP(t,e=!0){await t.addParticleUpdater("rotate",n=>new KP(n),e)}const JP=Math.sqrt(2);class ZP{draw(e,n,i){const s=i/JP,r=s*2;e.rect(-s,-s,r,r)}getSidesCount(){return 4}}async function eN(t,e=!0){await t.addShape(["edge","square"],new ZP,e)}class tN{draw(e,n,i){const s=n.sides,r=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(0,0-i*r),e.rotate(Math.PI/s),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(N((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,s=N((i==null?void 0:i.inset)??2);n.starInset=s}}async function nN(t,e=!0){await t.addShape("star",new tN,e)}function fu(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const r=Ze(n.offset),o=(e.velocity??0)*t.factor+r*3.6,l=e.decay??1;!s||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&l!==1&&(e.velocity*=l),e.value>i&&(e.value%=i)}function iN(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:s}=t.strokeColor,{h:r,s:o,l}=t.strokeAnimation;n&&fu(e,n,r,360,!1),i&&fu(e,i,o,100,!0),s&&fu(e,s,l,100,!0)}class sN{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,s=nn(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=N(s.width)*n.retina.pixelRatio,e.strokeOpacity=N(s.opacity??1),e.strokeAnimation=(o=s.color)==null?void 0:o.animation;const r=Pr(s.color)??e.getFillColor();r&&(e.strokeColor=jv(r,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&iN(e,n)}}async function rN(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new sN(n),e)}const Oo=["text","character","char"];class oN{draw(e,n,i,s){const r=n.shapeData;if(r===void 0)return;const o=r.value;if(o===void 0)return;n.text===void 0&&(n.text=nn(o,n.randomIndexData));const l=n.text,a=r.style??"",u=r.weight??"400",d=Math.round(i)*2,c=r.font??"Verdana",h=n.fill,f=l.length*i/2;e.font=`${a} ${u} ${d}px "${c}"`;const g={x:-f,y:i/2};e.globalAlpha=s,h?e.fillText(l,g.x,g.y):e.strokeText(l,g.x,g.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(Oo.find(i=>pe(i,n.particles.shape.type))){const i=Oo.map(r=>n.particles.shape.options[r]).find(r=>!!r),s=[];Te(i,r=>{s.push(lT(r.font,r.weight))}),await Promise.all(s)}}particleInit(e,n){if(!n.shape||!Oo.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const s=i.value;s!==void 0&&(n.text=nn(s,n.randomIndexData))}}async function lN(t,e=!0){await t.addShape(Oo,new oN,e)}async function aN(t,e=!0){DR(t),await wP(t,!1),await fI(t,!1),await gI(t,!1),await wI(t,!1),await RI(t,!1),await AI(t,!1),await LI(t,!1),await UI(t,!1),await HI(t,!1),await qI(t,!1),await YI(t,!1),await EP(t,!1),await TP(t,!1),await jP(t,!1),await cI(),await dP(t,!1),await _P(t,!1),await qP(t,!1),await eN(t,!1),await nN(t,!1),await lN(t,!1),await gP(t,!1),await XP(t,!1),await rN(t,!1),await uI(t,e)}function uN(){const t=async n=>{await aN(n)},e=n=>{};return w.jsx(Kv,{id:"tsparticles",init:t,loaded:e,options:{fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:6,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}})}const cN="/assets/rain-Bxx1SGiZ.mp4",dN="/assets/sunny-Dy7yOqv5.mp4",hN="/assets/cloudy-DVu2T3-a.mp4",fN="/assets/sunnyandrainy-BRSvikYE.mp4";function pN({luminosity:t,isRaining:e}){let n;return e?t==="sunny"?n=fN:n=cN:n=t==="sunny"?dN:hN,w.jsx("div",{className:"bgContainer",children:w.jsx("div",{className:"overlay",children:w.jsx("video",{src:n,autoPlay:!0,loop:!0,muted:!0})})})}function iw(t,e){return function(){return t.apply(e,arguments)}}const{toString:mN}=Object.prototype,{getPrototypeOf:kh}=Object,sa=(t=>e=>{const n=mN.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qt=t=>(t=t.toLowerCase(),e=>sa(e)===t),ra=t=>e=>typeof e===t,{isArray:Es}=Array,Dr=ra("undefined");function gN(t){return t!==null&&!Dr(t)&&t.constructor!==null&&!Dr(t.constructor)&&wt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sw=Qt("ArrayBuffer");function yN(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sw(t.buffer),e}const _N=ra("string"),wt=ra("function"),rw=ra("number"),oa=t=>t!==null&&typeof t=="object",vN=t=>t===!0||t===!1,Do=t=>{if(sa(t)!=="object")return!1;const e=kh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},wN=Qt("Date"),CN=Qt("File"),EN=Qt("Blob"),xN=Qt("FileList"),SN=t=>oa(t)&&wt(t.pipe),kN=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||wt(t.append)&&((e=sa(t))==="formdata"||e==="object"&&wt(t.toString)&&t.toString()==="[object FormData]"))},bN=Qt("URLSearchParams"),TN=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),Es(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let l;for(i=0;i<o;i++)l=r[i],e.call(null,t[l],l,t)}}function ow(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const lw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aw=t=>!Dr(t)&&t!==lw;function Fc(){const{caseless:t}=aw(this)&&this||{},e={},n=(i,s)=>{const r=t&&ow(e,s)||s;Do(e[r])&&Do(i)?e[r]=Fc(e[r],i):Do(i)?e[r]=Fc({},i):Es(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qr(arguments[i],n);return e}const RN=(t,e,n,{allOwnKeys:i}={})=>(qr(e,(s,r)=>{n&&wt(s)?t[r]=iw(s,n):t[r]=s},{allOwnKeys:i}),t),IN=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PN=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NN=(t,e,n,i)=>{let s,r,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&kh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},ON=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},DN=t=>{if(!t)return null;if(Es(t))return t;let e=t.length;if(!rw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},AN=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&kh(Uint8Array)),MN=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},LN=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},FN=Qt("HTMLFormElement"),zN=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),im=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),UN=Qt("RegExp"),uw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};qr(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},BN=t=>{uw(t,(e,n)=>{if(wt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(wt(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},jN=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return Es(t)?i(t):i(String(t).split(e)),n},HN=()=>{},$N=(t,e)=>(t=+t,Number.isFinite(t)?t:e),pu="abcdefghijklmnopqrstuvwxyz",sm="0123456789",cw={DIGIT:sm,ALPHA:pu,ALPHA_DIGIT:pu+pu.toUpperCase()+sm},WN=(t=16,e=cw.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function VN(t){return!!(t&&wt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qN=t=>{const e=new Array(10),n=(i,s)=>{if(oa(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Es(i)?[]:{};return qr(i,(o,l)=>{const a=n(o,s+1);!Dr(a)&&(r[l]=a)}),e[s]=void 0,r}}return i};return n(t,0)},GN=Qt("AsyncFunction"),QN=t=>t&&(oa(t)||wt(t))&&wt(t.then)&&wt(t.catch),E={isArray:Es,isArrayBuffer:sw,isBuffer:gN,isFormData:kN,isArrayBufferView:yN,isString:_N,isNumber:rw,isBoolean:vN,isObject:oa,isPlainObject:Do,isUndefined:Dr,isDate:wN,isFile:CN,isBlob:EN,isRegExp:UN,isFunction:wt,isStream:SN,isURLSearchParams:bN,isTypedArray:AN,isFileList:xN,forEach:qr,merge:Fc,extend:RN,trim:TN,stripBOM:IN,inherits:PN,toFlatObject:NN,kindOf:sa,kindOfTest:Qt,endsWith:ON,toArray:DN,forEachEntry:MN,matchAll:LN,isHTMLForm:FN,hasOwnProperty:im,hasOwnProp:im,reduceDescriptors:uw,freezeMethods:BN,toObjectSet:jN,toCamelCase:zN,noop:HN,toFiniteNumber:$N,findKey:ow,global:lw,isContextDefined:aw,ALPHABET:cw,generateString:WN,isSpecCompliantForm:VN,toJSONObject:qN,isAsyncFn:GN,isThenable:QN};function $(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}E.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const dw=$.prototype,hw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hw[t]={value:t}});Object.defineProperties($,hw);Object.defineProperty(dw,"isAxiosError",{value:!0});$.from=(t,e,n,i,s,r)=>{const o=Object.create(dw);return E.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),$.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const YN=null;function zc(t){return E.isPlainObject(t)||E.isArray(t)}function fw(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function rm(t,e,n){return t?t.concat(e).map(function(s,r){return s=fw(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function KN(t){return E.isArray(t)&&!t.some(zc)}const XN=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function la(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,C){return!E.isUndefined(C[y])});const i=n.metaTokens,s=n.visitor||d,r=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(E.isDate(g))return g.toISOString();if(!a&&E.isBlob(g))throw new $("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(g)||E.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,C){let p=g;if(g&&!C&&typeof g=="object"){if(E.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(E.isArray(g)&&KN(g)||(E.isFileList(g)||E.endsWith(y,"[]"))&&(p=E.toArray(g)))return y=fw(y),p.forEach(function(_,v){!(E.isUndefined(_)||_===null)&&e.append(o===!0?rm([y],v,r):o===null?y:y+"[]",u(_))}),!1}return zc(g)?!0:(e.append(rm(C,y,r),u(g)),!1)}const c=[],h=Object.assign(XN,{defaultVisitor:d,convertValue:u,isVisitable:zc});function f(g,y){if(!E.isUndefined(g)){if(c.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));c.push(g),E.forEach(g,function(p,m){(!(E.isUndefined(p)||p===null)&&s.call(e,p,E.isString(m)?m.trim():m,y,h))===!0&&f(p,y?y.concat(m):[m])}),c.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return f(t),e}function om(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function bh(t,e){this._pairs=[],t&&la(t,this,e)}const pw=bh.prototype;pw.append=function(e,n){this._pairs.push([e,n])};pw.toString=function(e){const n=e?function(i){return e.call(this,i,om)}:om;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function JN(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function mw(t,e,n){if(!e)return t;const i=n&&n.encode||JN,s=n&&n.serialize;let r;if(s?r=s(e,n):r=E.isURLSearchParams(e)?e.toString():new bh(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class lm{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(i){i!==null&&e(i)})}}const gw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZN=typeof URLSearchParams<"u"?URLSearchParams:bh,eO=typeof FormData<"u"?FormData:null,tO=typeof Blob<"u"?Blob:null,nO={isBrowser:!0,classes:{URLSearchParams:ZN,FormData:eO,Blob:tO},protocols:["http","https","file","blob","url","data"]},yw=typeof window<"u"&&typeof document<"u",iO=(t=>yw&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),sO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yw,hasStandardBrowserEnv:iO,hasStandardBrowserWebWorkerEnv:sO},Symbol.toStringTag,{value:"Module"})),Wt={...rO,...nO};function oO(t,e){return la(t,new Wt.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return Wt.isNode&&E.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function lO(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aO(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function _w(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=r>=n.length;return o=!o&&E.isArray(s)?s.length:o,a?(E.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!l):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&E.isArray(s[o])&&(s[o]=aO(s[o])),!l)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(i,s)=>{e(lO(i),s,n,0)}),n}return null}function uO(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Th={transitional:gw,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=E.isObject(e);if(r&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return s?JSON.stringify(_w(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oO(e,this.formSerializer).toString();if((l=E.isFileList(e))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return la(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),uO(e)):e}],transformResponse:[function(e){const n=this.transitional||Th.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&E.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?$.from(l,$.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Wt.classes.FormData,Blob:Wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{Th.headers[t]={}});const Rh=Th,cO=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dO=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&cO[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},am=Symbol("internals");function Ls(t){return t&&String(t).trim().toLowerCase()}function Ao(t){return t===!1||t==null?t:E.isArray(t)?t.map(Ao):String(t)}function hO(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const fO=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function mu(t,e,n,i,s){if(E.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!E.isString(e)){if(E.isString(i))return e.indexOf(i)!==-1;if(E.isRegExp(i))return i.test(e)}}function pO(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function mO(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class aa{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(l,a,u){const d=Ls(a);if(!d)throw new Error("header name must be a non-empty string");const c=E.findKey(s,d);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||a]=Ao(l))}const o=(l,a)=>E.forEach(l,(u,d)=>r(u,d,a));return E.isPlainObject(e)||e instanceof this.constructor?o(e,n):E.isString(e)&&(e=e.trim())&&!fO(e)?o(dO(e),n):e!=null&&r(n,e,i),this}get(e,n){if(e=Ls(e),e){const i=E.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return hO(s);if(E.isFunction(n))return n.call(this,s,i);if(E.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ls(e),e){const i=E.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||mu(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=Ls(o),o){const l=E.findKey(i,o);l&&(!n||mu(i,i[l],l,n))&&(delete i[l],s=!0)}}return E.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||mu(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return E.forEach(this,(s,r)=>{const o=E.findKey(i,r);if(o){n[o]=Ao(s),delete n[r];return}const l=e?pO(r):String(r).trim();l!==r&&delete n[r],n[l]=Ao(s),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&E.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[am]=this[am]={accessors:{}}).accessors,s=this.prototype;function r(o){const l=Ls(o);i[l]||(mO(s,o),i[l]=!0)}return E.isArray(e)?e.forEach(r):r(e),this}}aa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(aa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});E.freezeMethods(aa);const rn=aa;function gu(t,e){const n=this||Rh,i=e||n,s=rn.from(i.headers);let r=i.data;return E.forEach(t,function(l){r=l.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function vw(t){return!!(t&&t.__CANCEL__)}function Gr(t,e,n){$.call(this,t??"canceled",$.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Gr,$,{__CANCEL__:!0});function gO(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const yO=Wt.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const o=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),E.isString(i)&&o.push("path="+i),E.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _O(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vO(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ww(t,e){return t&&!_O(e)?vO(t,e):e}const wO=Wt.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let o=r;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){const l=E.isString(o)?s(o):o;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}();function CO(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function EO(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),d=i[r];o||(o=u),n[s]=a,i[s]=u;let c=r,h=0;for(;c!==s;)h+=n[c++],c=c%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-o<e)return;const f=d&&u-d;return f?Math.round(h*1e3/f):void 0}}function um(t,e){let n=0;const i=EO(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,l=r-n,a=i(l),u=r<=o;n=r;const d={loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&u?(o-r)/a:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const xO=typeof XMLHttpRequest<"u",SO=xO&&function(t){return new Promise(function(n,i){let s=t.data;const r=rn.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let d;if(E.isFormData(s)){if(Wt.hasStandardBrowserEnv||Wt.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((d=r.getContentType())!==!1){const[y,...C]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];r.setContentType([y||"multipart/form-data",...C].join("; "))}}let c=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(y+":"+C))}const h=ww(t.baseURL,t.url);c.open(t.method.toUpperCase(),mw(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const y=rn.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:y,config:t,request:c};gO(function(_){n(_),u()},function(_){i(_),u()},p),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(i(new $("Request aborted",$.ECONNABORTED,t,c)),c=null)},c.onerror=function(){i(new $("Network Error",$.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||gw;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new $(C,p.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,t,c)),c=null},Wt.hasStandardBrowserEnv&&(l&&E.isFunction(l)&&(l=l(t)),l||l!==!1&&wO(h))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&yO.read(t.xsrfCookieName);y&&r.set(t.xsrfHeaderName,y)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&E.forEach(r.toJSON(),function(C,p){c.setRequestHeader(p,C)}),E.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",um(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",um(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=y=>{c&&(i(!y||y.type?new Gr(null,t,c):y),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=CO(h);if(g&&Wt.protocols.indexOf(g)===-1){i(new $("Unsupported protocol "+g+":",$.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Uc={http:YN,xhr:SO};E.forEach(Uc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cm=t=>`- ${t}`,kO=t=>E.isFunction(t)||t===null||t===!1,Cw={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let o;if(i=n,!kO(n)&&(i=Uc[(o=String(n)).toLowerCase()],i===void 0))throw new $(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(cm).join(`
`):" "+cm(r[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:Uc};function yu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gr(null,t)}function dm(t){return yu(t),t.headers=rn.from(t.headers),t.data=gu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cw.getAdapter(t.adapter||Rh.adapter)(t).then(function(i){return yu(t),i.data=gu.call(t,t.transformResponse,i),i.headers=rn.from(i.headers),i},function(i){return vw(i)||(yu(t),i&&i.response&&(i.response.data=gu.call(t,t.transformResponse,i.response),i.response.headers=rn.from(i.response.headers))),Promise.reject(i)})}const hm=t=>t instanceof rn?{...t}:t;function ps(t,e){e=e||{};const n={};function i(u,d,c){return E.isPlainObject(u)&&E.isPlainObject(d)?E.merge.call({caseless:c},u,d):E.isPlainObject(d)?E.merge({},d):E.isArray(d)?d.slice():d}function s(u,d,c){if(E.isUndefined(d)){if(!E.isUndefined(u))return i(void 0,u,c)}else return i(u,d,c)}function r(u,d){if(!E.isUndefined(d))return i(void 0,d)}function o(u,d){if(E.isUndefined(d)){if(!E.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function l(u,d,c){if(c in e)return i(u,d);if(c in t)return i(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>s(hm(u),hm(d),!0)};return E.forEach(Object.keys(Object.assign({},t,e)),function(d){const c=a[d]||s,h=c(t[d],e[d],d);E.isUndefined(h)&&c!==l||(n[d]=h)}),n}const Ew="1.6.8",Ih={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ih[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const fm={};Ih.transitional=function(e,n,i){function s(r,o){return"[Axios v"+Ew+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,l)=>{if(e===!1)throw new $(s(o," has been removed"+(n?" in "+n:"")),$.ERR_DEPRECATED);return n&&!fm[o]&&(fm[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,l):!0}};function bO(t,e,n){if(typeof t!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const l=t[r],a=l===void 0||o(l,r,t);if(a!==!0)throw new $("option "+r+" must be "+a,$.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $("Unknown option "+r,$.ERR_BAD_OPTION)}}const Bc={assertOptions:bO,validators:Ih},yn=Bc.validators;class Tl{constructor(e){this.defaults=e,this.interceptors={request:new lm,response:new lm}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ps(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&Bc.assertOptions(i,{silentJSONParsing:yn.transitional(yn.boolean),forcedJSONParsing:yn.transitional(yn.boolean),clarifyTimeoutError:yn.transitional(yn.boolean)},!1),s!=null&&(E.isFunction(s)?n.paramsSerializer={serialize:s}:Bc.assertOptions(s,{encode:yn.function,serialize:yn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&E.merge(r.common,r[n.method]);r&&E.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=rn.concat(o,r);const l=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(a=a&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,c=0,h;if(!a){const g=[dm.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(n);c<h;)d=d.then(g[c++],g[c++]);return d}h=l.length;let f=n;for(c=0;c<h;){const g=l[c++],y=l[c++];try{f=g(f)}catch(C){y.call(this,C);break}}try{d=dm.call(this,f)}catch(g){return Promise.reject(g)}for(c=0,h=u.length;c<h;)d=d.then(u[c++],u[c++]);return d}getUri(e){e=ps(this.defaults,e);const n=ww(e.baseURL,e.url);return mw(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){Tl.prototype[e]=function(n,i){return this.request(ps(i||{},{method:e,url:n,data:(i||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,l){return this.request(ps(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Tl.prototype[e]=n(),Tl.prototype[e+"Form"]=n(!0)});const Mo=Tl;class Ph{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(l=>{i.subscribe(l),r=l}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,l){i.reason||(i.reason=new Gr(r,o,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ph(function(s){e=s}),cancel:e}}}const TO=Ph;function RO(t){return function(n){return t.apply(null,n)}}function IO(t){return E.isObject(t)&&t.isAxiosError===!0}const jc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jc).forEach(([t,e])=>{jc[e]=t});const PO=jc;function xw(t){const e=new Mo(t),n=iw(Mo.prototype.request,e);return E.extend(n,Mo.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return xw(ps(t,s))},n}const ie=xw(Rh);ie.Axios=Mo;ie.CanceledError=Gr;ie.CancelToken=TO;ie.isCancel=vw;ie.VERSION=Ew;ie.toFormData=la;ie.AxiosError=$;ie.Cancel=ie.CanceledError;ie.all=function(e){return Promise.all(e)};ie.spread=RO;ie.isAxiosError=IO;ie.mergeConfig=ps;ie.AxiosHeaders=rn;ie.formToJSON=t=>_w(E.isHTMLForm(t)?new FormData(t):t);ie.getAdapter=Cw.getAdapter;ie.HttpStatusCode=PO;ie.default=ie;const Qr="https://weather-station123.azurewebsites.net/api/animal",NO=async()=>{try{return(await ie.get(`${Qr}/GetAll`)).data}catch(t){throw console.error("Error fetching animals",t),t}},OO=async t=>{try{return(await ie.post(`${Qr}/Create`,t)).data}catch(e){throw console.error("Error creating animal",e),e}},DO=async t=>{try{await ie.delete(`${Qr}/DeleteById?id=${t}`)}catch(e){throw console.error("Error deleting animal",e),e}},AO=async t=>{try{const e=await ie.put(`${Qr}/EditById?id=${t.id}`,{name:t.name,maxTemperature:t.maxTemperature,minTemperature:t.minTemperature,maxHumidity:t.maxHumidity,minHumidity:t.minHumidity,cloudy:t.cloudy,sunny:t.sunny,rain:t.rain},{headers:{"Content-Type":"application/json"}});return console.log(t.name+" has been edited successfully"),e.data}catch(e){throw console.error("Error editing animal",e),e}},MO=async t=>{try{return(await ie.post(`${Qr}/SendNotification`,t)).data}catch(e){throw console.error("Error sending notification",e),e}},LO=({animals:t,isEditing:e,onAddAnimalClick:n,onDeleteClick:i,onEditButtonClick:s,downloadImageUrl:r,latestWeather:o})=>{const[l,a]=me.useState({});me.useEffect(()=>{(async()=>{const c={};for(const h of t){const f=await r(h.name);c[h.id]=f}a(c)})()},[t,r]);const u=d=>{if(!o)return!0;const c=o.temperature>=d.minTemperature&&o.temperature<=d.maxTemperature,h=o.humidity>=d.minHumidity&&o.humidity<=d.maxHumidity,f=d.rain===o.rain,g=o.luminosity?d.sunny:d.cloudy;return c&&h&&f&&g};return w.jsxs("div",{className:"cards-container",children:[t.map(d=>{const c=l[d.id],h=u(d);return w.jsxs("div",{className:"card",style:{backgroundImage:c?`url(${c})`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[!h&&w.jsx("div",{className:"does",children:"X"}),w.jsxs("div",{className:"card-overlay",children:[w.jsx("div",{className:"card-name",children:d.name}),w.jsxs("div",{className:"card-stats",children:[w.jsx("div",{className:"stat temperature",children:w.jsxs("div",{className:"value",children:[d.minTemperature," - ",d.maxTemperature," (°C)"]})}),w.jsx("div",{className:"stat humidity",children:w.jsxs("div",{className:"value",children:[d.minHumidity," - ",d.maxHumidity," (%)"]})}),w.jsx("div",{className:"stat condition",children:w.jsxs("div",{className:"value",children:["Rain: ",d.rain?"Yes":"No"]})}),w.jsx("div",{className:"stat condition",children:w.jsxs("div",{className:"value",children:["Sunny: ",d.sunny?"Yes":"No"]})}),w.jsx("div",{className:"stat condition",children:w.jsxs("div",{className:"value",children:["Cloudy: ",d.cloudy?"Yes":"No"]})})]}),e&&w.jsxs(w.Fragment,{children:[w.jsx("button",{className:"delete-button",onClick:()=>i(d),children:"✖"}),w.jsx("button",{className:"edit-animal-button",onClick:()=>s(d),children:"Edit"})]})]})]},d.id)}),e&&w.jsx("div",{className:"card add-card",onClick:n,children:w.jsx("div",{className:"add-symbol",children:"+"})})]})},FO=({onCreateAnimal:t,onClose:e,uploadImage:n})=>{const[i,s]=me.useState({name:"",minTemperature:"",maxTemperature:"",minHumidity:"",maxHumidity:"",rain:!1,sunny:!1,cloudy:!1,imageUrl:""}),[r,o]=me.useState(null),l=d=>{const{name:c,value:h,type:f,checked:g}=d.target;s({...i,[c]:f==="checkbox"?g:h})},a=d=>{o(d.target.files[0])},u=async d=>{if(d.preventDefault(),r){const c=await n(r,i.name);s(h=>({...h,imageUrl:c})),console.log("Image URL set in animal data:",c)}t(i),e()};return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-content",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:"Add New Animal"}),w.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),w.jsx("div",{className:"modal-body",children:w.jsxs("form",{onSubmit:u,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"image",children:"Image"}),w.jsx("input",{type:"file",id:"image",name:"image",onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"name",children:"Name"}),w.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:l,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"minTemperature",children:"Min Temperature (°C)"}),w.jsx("input",{type:"number",id:"minTemperature",name:"minTemperature",value:i.minTemperature,onChange:l,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"maxTemperature",children:"Max Temperature (°C)"}),w.jsx("input",{type:"number",id:"maxTemperature",name:"maxTemperature",value:i.maxTemperature,onChange:l,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"minHumidity",children:"Min Humidity (%)"}),w.jsx("input",{type:"number",id:"minHumidity",name:"minHumidity",value:i.minHumidity,onChange:l,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"maxHumidity",children:"Max Humidity (%)"}),w.jsx("input",{type:"number",id:"maxHumidity",name:"maxHumidity",value:i.maxHumidity,onChange:l,required:!0})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"rain",name:"rain",checked:i.rain,onChange:l}),w.jsx("label",{htmlFor:"rain",children:"Rain"})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"sunny",name:"sunny",checked:i.sunny,onChange:l}),w.jsx("label",{htmlFor:"sunny",children:"Sunny"})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"cloudy",name:"cloudy",checked:i.cloudy,onChange:l}),w.jsx("label",{htmlFor:"cloudy",children:"Cloudy"})]}),w.jsxs("div",{className:"form-buttons",children:[w.jsx("button",{type:"submit",className:"submit-button",children:"Add Animal"}),w.jsx("button",{type:"button",className:"cancel-button",onClick:e,children:"Cancel"})]})]})})]})})},zO=({show:t,onClose:e,onConfirm:n})=>t?w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-content",children:[w.jsx("div",{className:"modal-header",children:w.jsx("button",{className:"close-button",onClick:e,children:"×"})}),w.jsx("div",{className:"icon-box",children:w.jsx("div",{className:"icon",children:"✖"})}),w.jsxs("div",{className:"modal-body",children:[w.jsx("h2",{children:"Are you sure?"}),w.jsx("p",{children:"Do you really want to delete these records? This process cannot be undone."}),w.jsxs("div",{className:"modal-actions",children:[w.jsx("button",{className:"popup-cancel-button",onClick:e,children:"Cancel"}),w.jsx("button",{className:"erase-button",onClick:n,children:"Delete"})]})]})]})}):null,UO=({animal:t,onEditAnimal:e,onClose:n,uploadImage:i})=>{const[s,r]=me.useState({...t}),[o,l]=me.useState(null),a=c=>{const{name:h,value:f,type:g,checked:y}=c.target;r({...s,[h]:g==="checkbox"?y:f})},u=c=>{l(c.target.files[0])},d=async c=>{if(c.preventDefault(),o){const h=await i(o,s.name);r(f=>({...f,imageUrl:h})),console.log("Image URL set in animal data:",h)}e(s),n()};return w.jsx("div",{className:"modal-overlay",children:w.jsxs("div",{className:"modal-content",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:"Edit Animal"}),w.jsx("button",{className:"close-button",onClick:n,children:"×"})]}),w.jsx("div",{className:"modal-body",children:w.jsxs("form",{onSubmit:d,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"image",children:"Image"}),w.jsx("input",{type:"file",id:"image",name:"image",onChange:u})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"name",children:"Name"}),w.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"minTemperature",children:"Min Temperature (°C)"}),w.jsx("input",{type:"number",id:"minTemperature",name:"minTemperature",value:s.minTemperature,onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"maxTemperature",children:"Max Temperature (°C)"}),w.jsx("input",{type:"number",id:"maxTemperature",name:"maxTemperature",value:s.maxTemperature,onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"minHumidity",children:"Min Humidity (%)"}),w.jsx("input",{type:"number",id:"minHumidity",name:"minHumidity",value:s.minHumidity,onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"maxHumidity",children:"Max Humidity (%)"}),w.jsx("input",{type:"number",id:"maxHumidity",name:"maxHumidity",value:s.maxHumidity,onChange:a,required:!0})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"rain",name:"rain",checked:s.rain,onChange:a}),w.jsx("label",{htmlFor:"rain",children:"Rain"})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"sunny",name:"sunny",checked:s.sunny,onChange:a}),w.jsx("label",{htmlFor:"sunny",children:"Sunny"})]}),w.jsxs("div",{className:"form-group checkbox-group",children:[w.jsx("input",{type:"checkbox",id:"cloudy",name:"cloudy",checked:s.cloudy,onChange:a}),w.jsx("label",{htmlFor:"cloudy",children:"Cloudy"})]}),w.jsxs("div",{className:"form-buttons",children:[w.jsx("button",{type:"submit",className:"submit-button",children:"Save"}),w.jsx("button",{type:"button",className:"cancel-button",onClick:n,children:"Cancel"})]})]})})]})})};function BO(){const[t,e]=me.useState(null),[n,i]=me.useState([]),[s,r]=me.useState(!1),[o,l]=me.useState(!1),[a,u]=me.useState(!1),[d,c]=me.useState(null),[h,f]=me.useState(null),y=Vy({apiKey:"AIzaSyBme5hGShcyPNOfRCl0HgSNJU5MmOfbg8Q",authDomain:"weather-app-b3426.firebaseapp.com",databaseURL:"https://weather-app-b3426-default-rtdb.europe-west1.firebasedatabase.app",projectId:"weather-app-b3426",storageBucket:"weather-app-b3426.appspot.com",messagingSenderId:"1094701237609",appId:"1:1094701237609:web:64934d37312598df2b29f8"}),C=I1(y);me.useEffect(()=>{const D=_1(C,"Status");return w1(D,V=>{const De=V.val();if(De){const He=Object.values(De).pop();e(He)}}),()=>{C1(D)}},[C]),me.useEffect(()=>{(async()=>{try{const V=await NO();i(V)}catch(V){console.error("Failed to fetch animals",V)}})()},[]);const p=async(D,V)=>{const De=Xa(y),He=Ka(De,`animal_images/${V}`);await Bb(He,D);const mn=await Up(He);return console.log(`Image uploaded successfully: ${mn}`),mn},m=async D=>{const V=Xa(y),De=Ka(V,`animal_images/${D}`);try{const He=await Up(De);return console.log(`Image URL downloaded successfully: ${He}`),He}catch(He){return console.error(`Failed to download image URL for ${D}`,He),null}},_=async D=>{try{const V=await OO(D);i([...n,V])}catch(V){console.error("Failed to create animal",V)}},v=()=>{r(!s),l(!1)},k=()=>{l(!0)},T=D=>{c(D),u(!0)},b=async()=>{try{const D=d.name;await DO(d.id);const V=Xa(y),De=Ka(V,`animal_images/${D}`);await jb(De),i(n.filter(He=>He.id!==d.id)),u(!1),c(null),console.log('"'+D+'" has been deleted')}catch(D){console.error("Failed to delete animal",D)}},R=async D=>{try{const V=await AO(D);i(n.map(De=>De.id===V.id?V:De)),f(null)}catch(V){console.error("Failed to update animal",V)}},H=D=>{f(D)},A=()=>{f(null)},Re=D=>{if(!t)return!0;const V=t.temperature>=D.minTemperature&&t.temperature<=D.maxTemperature,De=t.humidity>=D.minHumidity&&t.humidity<=D.maxHumidity,He=D.rain===t.rain,mn=t.luminosity?D.sunny:D.cloudy;return V&&De&&He&&mn};return me.useEffect(()=>{n.forEach(async D=>{if(!Re(D))try{await MO({animalId:D.id,message:`${D.name} does not fit the current weather!`}),console.log(`Notification sent for ${D.name}`)}catch(V){console.error(`Failed to send notification for ${D.name}`,V)}})},[n,t]),w.jsxs(w.Fragment,{children:[w.jsx(uN,{}),w.jsx(pN,{luminosity:t&&t.luminosity,isRaining:t&&t.rain}),w.jsx("h1",{children:"Weather Data"}),w.jsxs("table",{className:"weather-table",children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Temperature (°C)"}),w.jsx("th",{children:"Humidity (%)"}),w.jsx("th",{children:"Date & Time"}),w.jsx("th",{children:"Luminosity"}),w.jsx("th",{children:"Rain"})]})}),w.jsx("tbody",{children:t&&w.jsxs("tr",{children:[w.jsx("td",{children:t.temperature}),w.jsx("td",{children:t.humidity}),w.jsx("td",{children:t.datetime}),w.jsx("td",{children:t.luminosity}),w.jsx("td",{children:t.rain?"Yes":"No"})]})})]}),w.jsx("h1",{children:"Animals"}),w.jsx("button",{className:`edit-button ${s?"cancel-button":""}`,onClick:v,children:s?"Cancel":"Edit"}),o&&w.jsx(FO,{onCreateAnimal:_,onClose:()=>l(!1),uploadImage:p}),h&&w.jsx(UO,{animal:h,onEditAnimal:R,onClose:A,uploadImage:p}),w.jsx(LO,{animals:n,isEditing:s,onAddAnimalClick:k,onDeleteClick:T,onEditButtonClick:H,downloadImageUrl:m,latestWeather:t}),w.jsx(zO,{show:a,onClose:()=>u(!1),onConfirm:b})]})}_u.createRoot(document.getElementById("root")).render(w.jsx(BO,{}));
