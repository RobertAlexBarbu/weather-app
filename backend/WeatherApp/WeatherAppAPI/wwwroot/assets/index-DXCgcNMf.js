(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function T_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zp={exports:{}},dl={},Fp={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vr=Symbol.for("react.element"),I_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),P_=Symbol.for("react.strict_mode"),N_=Symbol.for("react.profiler"),O_=Symbol.for("react.provider"),M_=Symbol.for("react.context"),D_=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),L_=Symbol.for("react.memo"),z_=Symbol.for("react.lazy"),oh=Symbol.iterator;function F_(t){return t===null||typeof t!="object"?null:(t=oh&&t[oh]||t["@@iterator"],typeof t=="function"?t:null)}var Bp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Up=Object.assign,jp={};function ns(t,e,n){this.props=t,this.context=e,this.refs=jp,this.updater=n||Bp}ns.prototype.isReactComponent={};ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hp(){}Hp.prototype=ns.prototype;function Cc(t,e,n){this.props=t,this.context=e,this.refs=jp,this.updater=n||Bp}var Ec=Cc.prototype=new Hp;Ec.constructor=Cc;Up(Ec,ns.prototype);Ec.isPureReactComponent=!0;var lh=Array.isArray,Wp=Object.prototype.hasOwnProperty,Sc={current:null},$p={key:!0,ref:!0,__self:!0,__source:!0};function Vp(t,e,n){var i,s={},r=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)Wp.call(e,i)&&!$p.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)s[i]===void 0&&(s[i]=l[i]);return{$$typeof:vr,type:t,key:r,ref:o,props:s,_owner:Sc.current}}function B_(t,e){return{$$typeof:vr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===vr}function U_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ah=/\/+/g;function Yl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?U_(""+t.key):e.toString(36)}function eo(t,e,n,i,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case vr:case I_:o=!0}}if(o)return o=t,s=s(o),t=i===""?"."+Yl(o,0):i,lh(s)?(n="",t!=null&&(n=t.replace(ah,"$&/")+"/"),eo(s,e,n,"",function(u){return u})):s!=null&&(xc(s)&&(s=B_(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ah,"$&/")+"/")+t)),e.push(s)),1;if(o=0,i=i===""?".":i+":",lh(t))for(var l=0;l<t.length;l++){r=t[l];var a=i+Yl(r,l);o+=eo(r,e,n,a,s)}else if(a=F_(t),typeof a=="function")for(t=a.call(t),l=0;!(r=t.next()).done;)r=r.value,a=i+Yl(r,l++),o+=eo(r,e,n,a,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ar(t,e,n){if(t==null)return t;var i=[],s=0;return eo(t,i,"","",function(r){return e.call(n,r,s++)}),i}function j_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},to={transition:null},H_={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:to,ReactCurrentOwner:Sc};U.Children={map:Ar,forEach:function(t,e,n){Ar(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ar(t,function(){e++}),e},toArray:function(t){return Ar(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ns;U.Fragment=R_;U.Profiler=N_;U.PureComponent=Cc;U.StrictMode=P_;U.Suspense=A_;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H_;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Up({},t.props),s=t.key,r=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=Sc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Wp.call(e,a)&&!$p.hasOwnProperty(a)&&(i[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:vr,type:t.type,key:s,ref:r,props:i,_owner:o}};U.createContext=function(t){return t={$$typeof:M_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:O_,_context:t},t.Consumer=t};U.createElement=Vp;U.createFactory=function(t){var e=Vp.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:D_,render:t}};U.isValidElement=xc;U.lazy=function(t){return{$$typeof:z_,_payload:{_status:-1,_result:t},_init:j_}};U.memo=function(t,e){return{$$typeof:L_,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=to.transition;to.transition={};try{t()}finally{to.transition=e}};U.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};U.useCallback=function(t,e){return Be.current.useCallback(t,e)};U.useContext=function(t){return Be.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};U.useEffect=function(t,e){return Be.current.useEffect(t,e)};U.useId=function(){return Be.current.useId()};U.useImperativeHandle=function(t,e,n){return Be.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return Be.current.useMemo(t,e)};U.useReducer=function(t,e,n){return Be.current.useReducer(t,e,n)};U.useRef=function(t){return Be.current.useRef(t)};U.useState=function(t){return Be.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return Be.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return Be.current.useTransition()};U.version="18.2.0";Fp.exports=U;var Xe=Fp.exports;const uh=T_(Xe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_=Xe,$_=Symbol.for("react.element"),V_=Symbol.for("react.fragment"),q_=Object.prototype.hasOwnProperty,G_=W_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q_={key:!0,ref:!0,__self:!0,__source:!0};function qp(t,e,n){var i,s={},r=null,o=null;n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)q_.call(e,i)&&!Q_.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:$_,type:t,key:r,ref:o,props:s,_owner:G_.current}}dl.Fragment=V_;dl.jsx=qp;dl.jsxs=qp;zp.exports=dl;var E=zp.exports,Ja={},Gp={exports:{}},rt={},Qp={exports:{}},Yp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var L=R.length;R.push(M);e:for(;0<L;){var ae=L-1>>>1,me=R[ae];if(0<s(me,M))R[ae]=M,R[L]=me,L=ae;else break e}}function n(R){return R.length===0?null:R[0]}function i(R){if(R.length===0)return null;var M=R[0],L=R.pop();if(L!==M){R[0]=L;e:for(var ae=0,me=R.length,Mr=me>>>1;ae<Mr;){var Ln=2*(ae+1)-1,Ql=R[Ln],zn=Ln+1,Dr=R[zn];if(0>s(Ql,L))zn<me&&0>s(Dr,Ql)?(R[ae]=Dr,R[zn]=L,ae=zn):(R[ae]=Ql,R[Ln]=L,ae=Ln);else if(zn<me&&0>s(Dr,L))R[ae]=Dr,R[zn]=L,ae=zn;else break e}}return M}function s(R,M){var L=R.sortIndex-M.sortIndex;return L!==0?L:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,c=null,h=3,f=!1,g=!1,y=!1,C=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var M=n(u);M!==null;){if(M.callback===null)i(u);else if(M.startTime<=R)i(u),M.sortIndex=M.expirationTime,e(a,M);else break;M=n(u)}}function _(R){if(y=!1,v(R),!g)if(n(a)!==null)g=!0,ql(x);else{var M=n(u);M!==null&&Gl(_,M.startTime-R)}}function x(R,M){g=!1,y&&(y=!1,p(P),P=-1),f=!0;var L=h;try{for(v(M),c=n(a);c!==null&&(!(c.expirationTime>M)||R&&!Ae());){var ae=c.callback;if(typeof ae=="function"){c.callback=null,h=c.priorityLevel;var me=ae(c.expirationTime<=M);M=t.unstable_now(),typeof me=="function"?c.callback=me:c===n(a)&&i(a),v(M)}else i(a);c=n(a)}if(c!==null)var Mr=!0;else{var Ln=n(u);Ln!==null&&Gl(_,Ln.startTime-M),Mr=!1}return Mr}finally{c=null,h=L,f=!1}}var T=!1,b=null,P=-1,H=5,A=-1;function Ae(){return!(t.unstable_now()-A<H)}function Dn(){if(b!==null){var R=t.unstable_now();A=R;var M=!0;try{M=b(!0,R)}finally{M?An():(T=!1,b=null)}}else T=!1}var An;if(typeof m=="function")An=function(){m(Dn)};else if(typeof MessageChannel<"u"){var rh=new MessageChannel,b_=rh.port2;rh.port1.onmessage=Dn,An=function(){b_.postMessage(null)}}else An=function(){C(Dn,0)};function ql(R){b=R,T||(T=!0,An())}function Gl(R,M){P=C(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,ql(x))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var L=h;h=M;try{return R()}finally{h=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var L=h;h=R;try{return M()}finally{h=L}},t.unstable_scheduleCallback=function(R,M,L){var ae=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?ae+L:ae):L=ae,R){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=L+me,R={id:d++,callback:M,priorityLevel:R,startTime:L,expirationTime:me,sortIndex:-1},L>ae?(R.sortIndex=L,e(u,R),n(a)===null&&R===n(u)&&(y?(p(P),P=-1):y=!0,Gl(_,L-ae))):(R.sortIndex=me,e(a,R),g||f||(g=!0,ql(x))),R},t.unstable_shouldYield=Ae,t.unstable_wrapCallback=function(R){var M=h;return function(){var L=h;h=M;try{return R.apply(this,arguments)}finally{h=L}}}})(Yp);Qp.exports=Yp;var Y_=Qp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=Xe,st=Y_;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xp=new Set,js={};function ai(t,e){Hi(t,e),Hi(t+"Capture",e)}function Hi(t,e){for(js[t]=e,t=0;t<e.length;t++)Xp.add(e[t])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Za=Object.prototype.hasOwnProperty,K_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ch={},dh={};function X_(t){return Za.call(dh,t)?!0:Za.call(ch,t)?!1:K_.test(t)?dh[t]=!0:(ch[t]=!0,!1)}function J_(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z_(t,e,n,i){if(e===null||typeof e>"u"||J_(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ue(t,e,n,i,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ke[t]=new Ue(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ke[e]=new Ue(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ke[t]=new Ue(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ke[t]=new Ue(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ke[t]=new Ue(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ke[t]=new Ue(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ke[t]=new Ue(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ke[t]=new Ue(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ke[t]=new Ue(t,5,!1,t.toLowerCase(),null,!1,!1)});var kc=/[\-:]([a-z])/g;function bc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kc,bc);ke[e]=new Ue(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kc,bc);ke[e]=new Ue(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kc,bc);ke[e]=new Ue(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ke[t]=new Ue(t,1,!1,t.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ke[t]=new Ue(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tc(t,e,n,i){var s=ke.hasOwnProperty(e)?ke[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z_(e,n,s,i)&&(n=null),i||s===null?X_(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var tn=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lr=Symbol.for("react.element"),mi=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),Jp=Symbol.for("react.provider"),Zp=Symbol.for("react.context"),Rc=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),Pc=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),em=Symbol.for("react.offscreen"),hh=Symbol.iterator;function us(t){return t===null||typeof t!="object"?null:(t=hh&&t[hh]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,Kl;function Es(t){if(Kl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kl=e&&e[1]||""}return`
`+Kl+t}var Xl=!1;function Jl(t,e){if(!t||Xl)return"";Xl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=i.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Xl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Es(t):""}function e0(t){switch(t.tag){case 5:return Es(t.type);case 16:return Es("Lazy");case 13:return Es("Suspense");case 19:return Es("SuspenseList");case 0:case 2:case 15:return t=Jl(t.type,!1),t;case 11:return t=Jl(t.type.render,!1),t;case 1:return t=Jl(t.type,!0),t;default:return""}}function iu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case mi:return"Portal";case eu:return"Profiler";case Ic:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zp:return(t.displayName||"Context")+".Consumer";case Jp:return(t._context.displayName||"Context")+".Provider";case Rc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pc:return e=t.displayName||null,e!==null?e:iu(t.type)||"Memo";case ln:e=t._payload,t=t._init;try{return iu(t(e))}catch{}}return null}function t0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(e);case 8:return e===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n0(t){var e=tm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){i=""+o,r.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zr(t){t._valueTracker||(t._valueTracker=n0(t))}function nm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=tm(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function su(t,e){var n=e.checked;return se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fh(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function im(t,e){e=e.checked,e!=null&&Tc(t,"checked",e,!1)}function ru(t,e){im(t,e);var n=bn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ou(t,e.type,n):e.hasOwnProperty("defaultValue")&&ou(t,e.type,bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ph(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ou(t,e,n){(e!=="number"||vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ss=Array.isArray;function Ni(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Ss(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:bn(n)}}function sm(t,e){var n=bn(e.value),i=bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function gh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fr,om=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fr=Fr||document.createElement("div"),Fr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i0=["Webkit","ms","Moz","O"];Object.keys(bs).forEach(function(t){i0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bs[e]=bs[t]})});function lm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bs.hasOwnProperty(t)&&bs[t]?(""+e).trim():e+"px"}function am(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=lm(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var s0=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(t,e){if(e){if(s0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function cu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=null;function Nc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hu=null,Oi=null,Mi=null;function yh(t){if(t=Cr(t)){if(typeof hu!="function")throw Error(S(280));var e=t.stateNode;e&&(e=gl(e),hu(t.stateNode,t.type,e))}}function um(t){Oi?Mi?Mi.push(t):Mi=[t]:Oi=t}function cm(){if(Oi){var t=Oi,e=Mi;if(Mi=Oi=null,yh(t),e)for(t=0;t<e.length;t++)yh(e[t])}}function dm(t,e){return t(e)}function hm(){}var Zl=!1;function fm(t,e,n){if(Zl)return t(e,n);Zl=!0;try{return dm(t,e,n)}finally{Zl=!1,(Oi!==null||Mi!==null)&&(hm(),cm())}}function Ws(t,e){var n=t.stateNode;if(n===null)return null;var i=gl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var fu=!1;if(Kt)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){fu=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{fu=!1}function r0(t,e,n,i,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ts=!1,_o=null,wo=!1,pu=null,o0={onError:function(t){Ts=!0,_o=t}};function l0(t,e,n,i,s,r,o,l,a){Ts=!1,_o=null,r0.apply(o0,arguments)}function a0(t,e,n,i,s,r,o,l,a){if(l0.apply(this,arguments),Ts){if(Ts){var u=_o;Ts=!1,_o=null}else throw Error(S(198));wo||(wo=!0,pu=u)}}function ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function pm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vh(t){if(ui(t)!==t)throw Error(S(188))}function u0(t){var e=t.alternate;if(!e){if(e=ui(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return vh(s),t;if(r===i)return vh(s),e;r=r.sibling}throw Error(S(188))}if(n.return!==i.return)n=s,i=r;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,i=r;break}if(l===i){o=!0,i=s,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=s;break}if(l===i){o=!0,i=r,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==i)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function mm(t){return t=u0(t),t!==null?gm(t):null}function gm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=gm(t);if(e!==null)return e;t=t.sibling}return null}var ym=st.unstable_scheduleCallback,_h=st.unstable_cancelCallback,c0=st.unstable_shouldYield,d0=st.unstable_requestPaint,ue=st.unstable_now,h0=st.unstable_getCurrentPriorityLevel,Oc=st.unstable_ImmediatePriority,vm=st.unstable_UserBlockingPriority,Co=st.unstable_NormalPriority,f0=st.unstable_LowPriority,_m=st.unstable_IdlePriority,hl=null,Lt=null;function p0(t){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(hl,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:y0,m0=Math.log,g0=Math.LN2;function y0(t){return t>>>=0,t===0?32:31-(m0(t)/g0|0)|0}var Br=64,Ur=4194304;function xs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,r=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?i=xs(l):(r&=o,r!==0&&(i=xs(r)))}else o=n&~s,o!==0?i=xs(o):r!==0&&(i=xs(r));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-St(e),s=1<<n,i|=t[n],e&=~s;return i}function v0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-St(r),l=1<<o,a=s[o];a===-1?(!(l&n)||l&i)&&(s[o]=v0(l,e)):a<=e&&(t.expiredLanes|=l),r&=~l}}function mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wm(){var t=Br;return Br<<=1,!(Br&4194240)&&(Br=64),t}function ea(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function _r(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function w0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-St(n),r=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~r}}function Mc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-St(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var V=0;function Cm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Em,Dc,Sm,xm,km,gu=!1,jr=[],pn=null,mn=null,gn=null,$s=new Map,Vs=new Map,un=[],C0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wh(t,e){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":$s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vs.delete(e.pointerId)}}function ds(t,e,n,i,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},e!==null&&(e=Cr(e),e!==null&&Dc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function E0(t,e,n,i,s){switch(e){case"focusin":return pn=ds(pn,t,e,n,i,s),!0;case"dragenter":return mn=ds(mn,t,e,n,i,s),!0;case"mouseover":return gn=ds(gn,t,e,n,i,s),!0;case"pointerover":var r=s.pointerId;return $s.set(r,ds($s.get(r)||null,t,e,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Vs.set(r,ds(Vs.get(r)||null,t,e,n,i,s)),!0}return!1}function bm(t){var e=Hn(t.target);if(e!==null){var n=ui(e);if(n!==null){if(e=n.tag,e===13){if(e=pm(n),e!==null){t.blockedOn=e,km(t.priority,function(){Sm(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);du=i,n.target.dispatchEvent(i),du=null}else return e=Cr(n),e!==null&&Dc(e),t.blockedOn=n,!1;e.shift()}return!0}function Ch(t,e,n){no(t)&&n.delete(e)}function S0(){gu=!1,pn!==null&&no(pn)&&(pn=null),mn!==null&&no(mn)&&(mn=null),gn!==null&&no(gn)&&(gn=null),$s.forEach(Ch),Vs.forEach(Ch)}function hs(t,e){t.blockedOn===e&&(t.blockedOn=null,gu||(gu=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,S0)))}function qs(t){function e(s){return hs(s,t)}if(0<jr.length){hs(jr[0],t);for(var n=1;n<jr.length;n++){var i=jr[n];i.blockedOn===t&&(i.blockedOn=null)}}for(pn!==null&&hs(pn,t),mn!==null&&hs(mn,t),gn!==null&&hs(gn,t),$s.forEach(e),Vs.forEach(e),n=0;n<un.length;n++)i=un[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)bm(n),n.blockedOn===null&&un.shift()}var Di=tn.ReactCurrentBatchConfig,So=!0;function x0(t,e,n,i){var s=V,r=Di.transition;Di.transition=null;try{V=1,Ac(t,e,n,i)}finally{V=s,Di.transition=r}}function k0(t,e,n,i){var s=V,r=Di.transition;Di.transition=null;try{V=4,Ac(t,e,n,i)}finally{V=s,Di.transition=r}}function Ac(t,e,n,i){if(So){var s=yu(t,e,n,i);if(s===null)ca(t,e,i,xo,n),wh(t,i);else if(E0(s,t,e,n,i))i.stopPropagation();else if(wh(t,i),e&4&&-1<C0.indexOf(t)){for(;s!==null;){var r=Cr(s);if(r!==null&&Em(r),r=yu(t,e,n,i),r===null&&ca(t,e,i,xo,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else ca(t,e,i,null,n)}}var xo=null;function yu(t,e,n,i){if(xo=null,t=Nc(i),t=Hn(t),t!==null)if(e=ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=pm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xo=t,null}function Tm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(h0()){case Oc:return 1;case vm:return 4;case Co:case f0:return 16;case _m:return 536870912;default:return 16}default:return 16}}var dn=null,Lc=null,io=null;function Im(){if(io)return io;var t,e=Lc,n=e.length,i,s="value"in dn?dn.value:dn.textContent,r=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===s[r-i];i++);return io=s.slice(t,1<i?1-i:void 0)}function so(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hr(){return!0}function Eh(){return!1}function ot(t){function e(n,i,s,r,o){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Hr:Eh,this.isPropagationStopped=Eh,this}return se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hr)},persist:function(){},isPersistent:Hr}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=ot(is),wr=se({},is,{view:0,detail:0}),b0=ot(wr),ta,na,fs,fl=se({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fs&&(fs&&t.type==="mousemove"?(ta=t.screenX-fs.screenX,na=t.screenY-fs.screenY):na=ta=0,fs=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Sh=ot(fl),T0=se({},fl,{dataTransfer:0}),I0=ot(T0),R0=se({},wr,{relatedTarget:0}),ia=ot(R0),P0=se({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),N0=ot(P0),O0=se({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M0=ot(O0),D0=se({},is,{data:0}),xh=ot(D0),A0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},L0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z0[t])?!!e[t]:!1}function Fc(){return F0}var B0=se({},wr,{key:function(t){if(t.key){var e=A0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=so(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?L0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fc,charCode:function(t){return t.type==="keypress"?so(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?so(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),U0=ot(B0),j0=se({},fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kh=ot(j0),H0=se({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fc}),W0=ot(H0),$0=se({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=ot($0),q0=se({},fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=ot(q0),Q0=[9,13,27,32],Bc=Kt&&"CompositionEvent"in window,Is=null;Kt&&"documentMode"in document&&(Is=document.documentMode);var Y0=Kt&&"TextEvent"in window&&!Is,Rm=Kt&&(!Bc||Is&&8<Is&&11>=Is),bh=" ",Th=!1;function Pm(t,e){switch(t){case"keyup":return Q0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yi=!1;function K0(t,e){switch(t){case"compositionend":return Nm(e);case"keypress":return e.which!==32?null:(Th=!0,bh);case"textInput":return t=e.data,t===bh&&Th?null:t;default:return null}}function X0(t,e){if(yi)return t==="compositionend"||!Bc&&Pm(t,e)?(t=Im(),io=Lc=dn=null,yi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rm&&e.locale!=="ko"?null:e.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!J0[t.type]:e==="textarea"}function Om(t,e,n,i){um(i),e=ko(e,"onChange"),0<e.length&&(n=new zc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Rs=null,Gs=null;function Z0(t){Wm(t,0)}function pl(t){var e=wi(t);if(nm(e))return t}function ew(t,e){if(t==="change")return e}var Mm=!1;if(Kt){var sa;if(Kt){var ra="oninput"in document;if(!ra){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),ra=typeof Rh.oninput=="function"}sa=ra}else sa=!1;Mm=sa&&(!document.documentMode||9<document.documentMode)}function Ph(){Rs&&(Rs.detachEvent("onpropertychange",Dm),Gs=Rs=null)}function Dm(t){if(t.propertyName==="value"&&pl(Gs)){var e=[];Om(e,Gs,t,Nc(t)),fm(Z0,e)}}function tw(t,e,n){t==="focusin"?(Ph(),Rs=e,Gs=n,Rs.attachEvent("onpropertychange",Dm)):t==="focusout"&&Ph()}function nw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pl(Gs)}function iw(t,e){if(t==="click")return pl(e)}function sw(t,e){if(t==="input"||t==="change")return pl(e)}function rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rt=typeof Object.is=="function"?Object.is:rw;function Qs(t,e){if(Rt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Za.call(e,s)||!Rt(t[s],e[s]))return!1}return!0}function Nh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Oh(t,e){var n=Nh(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nh(n)}}function Am(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Am(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lm(){for(var t=window,e=vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=vo(t.document)}return e}function Uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ow(t){var e=Lm(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Am(n.ownerDocument.documentElement,n)){if(i!==null&&Uc(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,r=Math.min(i.start,s);i=i.end===void 0?r:Math.min(i.end,s),!t.extend&&r>i&&(s=i,i=r,r=s),s=Oh(n,r);var o=Oh(n,i);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lw=Kt&&"documentMode"in document&&11>=document.documentMode,vi=null,vu=null,Ps=null,_u=!1;function Mh(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_u||vi==null||vi!==vo(i)||(i=vi,"selectionStart"in i&&Uc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ps&&Qs(Ps,i)||(Ps=i,i=ko(vu,"onSelect"),0<i.length&&(e=new zc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=vi)))}function Wr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _i={animationend:Wr("Animation","AnimationEnd"),animationiteration:Wr("Animation","AnimationIteration"),animationstart:Wr("Animation","AnimationStart"),transitionend:Wr("Transition","TransitionEnd")},oa={},zm={};Kt&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function ml(t){if(oa[t])return oa[t];if(!_i[t])return t;var e=_i[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zm)return oa[t]=e[n];return t}var Fm=ml("animationend"),Bm=ml("animationiteration"),Um=ml("animationstart"),jm=ml("transitionend"),Hm=new Map,Dh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pn(t,e){Hm.set(t,e),ai(e,[t])}for(var la=0;la<Dh.length;la++){var aa=Dh[la],aw=aa.toLowerCase(),uw=aa[0].toUpperCase()+aa.slice(1);Pn(aw,"on"+uw)}Pn(Fm,"onAnimationEnd");Pn(Bm,"onAnimationIteration");Pn(Um,"onAnimationStart");Pn("dblclick","onDoubleClick");Pn("focusin","onFocus");Pn("focusout","onBlur");Pn(jm,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ks));function Ah(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,a0(i,e,void 0,t),t.currentTarget=null}function Wm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var r=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break e;Ah(s,l,u),r=a}else for(o=0;o<i.length;o++){if(l=i[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break e;Ah(s,l,u),r=a}}}if(wo)throw t=pu,wo=!1,pu=null,t}function K(t,e){var n=e[xu];n===void 0&&(n=e[xu]=new Set);var i=t+"__bubble";n.has(i)||($m(e,t,2,!1),n.add(i))}function ua(t,e,n){var i=0;e&&(i|=4),$m(n,t,i,e)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ys(t){if(!t[$r]){t[$r]=!0,Xp.forEach(function(n){n!=="selectionchange"&&(cw.has(n)||ua(n,!1,t),ua(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$r]||(e[$r]=!0,ua("selectionchange",!1,e))}}function $m(t,e,n,i){switch(Tm(e)){case 1:var s=x0;break;case 4:s=k0;break;default:s=Ac}n=s.bind(null,e,n,t),s=void 0,!fu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ca(t,e,n,i,s){var r=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=i.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Hn(l),o===null)return;if(a=o.tag,a===5||a===6){i=r=o;continue e}l=l.parentNode}}i=i.return}fm(function(){var u=r,d=Nc(n),c=[];e:{var h=Hm.get(t);if(h!==void 0){var f=zc,g=t;switch(t){case"keypress":if(so(n)===0)break e;case"keydown":case"keyup":f=U0;break;case"focusin":g="focus",f=ia;break;case"focusout":g="blur",f=ia;break;case"beforeblur":case"afterblur":f=ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=I0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=W0;break;case Fm:case Bm:case Um:f=N0;break;case jm:f=V0;break;case"scroll":f=b0;break;case"wheel":f=G0;break;case"copy":case"cut":case"paste":f=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=kh}var y=(e&4)!==0,C=!y&&t==="scroll",p=y?h!==null?h+"Capture":null:h;y=[];for(var m=u,v;m!==null;){v=m;var _=v.stateNode;if(v.tag===5&&_!==null&&(v=_,p!==null&&(_=Ws(m,p),_!=null&&y.push(Ks(m,_,v)))),C)break;m=m.return}0<y.length&&(h=new f(h,g,null,n,d),c.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==du&&(g=n.relatedTarget||n.fromElement)&&(Hn(g)||g[Xt]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Hn(g):null,g!==null&&(C=ui(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(y=Sh,_="onMouseLeave",p="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=kh,_="onPointerLeave",p="onPointerEnter",m="pointer"),C=f==null?h:wi(f),v=g==null?h:wi(g),h=new y(_,m+"leave",f,n,d),h.target=C,h.relatedTarget=v,_=null,Hn(d)===u&&(y=new y(p,m+"enter",g,n,d),y.target=v,y.relatedTarget=C,_=y),C=_,f&&g)t:{for(y=f,p=g,m=0,v=y;v;v=hi(v))m++;for(v=0,_=p;_;_=hi(_))v++;for(;0<m-v;)y=hi(y),m--;for(;0<v-m;)p=hi(p),v--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=hi(y),p=hi(p)}y=null}else y=null;f!==null&&Lh(c,h,f,y,!1),g!==null&&C!==null&&Lh(c,C,g,y,!0)}}e:{if(h=u?wi(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=ew;else if(Ih(h))if(Mm)x=sw;else{x=nw;var T=tw}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=iw);if(x&&(x=x(t,u))){Om(c,x,n,d);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&ou(h,"number",h.value)}switch(T=u?wi(u):window,t){case"focusin":(Ih(T)||T.contentEditable==="true")&&(vi=T,vu=u,Ps=null);break;case"focusout":Ps=vu=vi=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,Mh(c,n,d);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":Mh(c,n,d)}var b;if(Bc)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else yi?Pm(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(Rm&&n.locale!=="ko"&&(yi||P!=="onCompositionStart"?P==="onCompositionEnd"&&yi&&(b=Im()):(dn=d,Lc="value"in dn?dn.value:dn.textContent,yi=!0)),T=ko(u,P),0<T.length&&(P=new xh(P,t,null,n,d),c.push({event:P,listeners:T}),b?P.data=b:(b=Nm(n),b!==null&&(P.data=b)))),(b=Y0?K0(t,n):X0(t,n))&&(u=ko(u,"onBeforeInput"),0<u.length&&(d=new xh("onBeforeInput","beforeinput",null,n,d),c.push({event:d,listeners:u}),d.data=b))}Wm(c,e)})}function Ks(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ko(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Ws(t,n),r!=null&&i.unshift(Ks(t,r,s)),r=Ws(t,e),r!=null&&i.push(Ks(t,r,s))),t=t.return}return i}function hi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Lh(t,e,n,i,s){for(var r=e._reactName,o=[];n!==null&&n!==i;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===i)break;l.tag===5&&u!==null&&(l=u,s?(a=Ws(n,r),a!=null&&o.unshift(Ks(n,a,l))):s||(a=Ws(n,r),a!=null&&o.push(Ks(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function zh(t){return(typeof t=="string"?t:""+t).replace(dw,`
`).replace(hw,"")}function Vr(t,e,n){if(e=zh(e),zh(t)!==e&&n)throw Error(S(425))}function bo(){}var wu=null,Cu=null;function Eu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Su=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,Fh=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof Fh<"u"?function(t){return Fh.resolve(null).then(t).catch(mw)}:Su;function mw(t){setTimeout(function(){throw t})}function da(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),qs(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);qs(e)}function yn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ss,Xs="__reactProps$"+ss,Xt="__reactContainer$"+ss,xu="__reactEvents$"+ss,gw="__reactListeners$"+ss,yw="__reactHandles$"+ss;function Hn(t){var e=t[Dt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xt]||n[Dt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bh(t);t!==null;){if(n=t[Dt])return n;t=Bh(t)}return e}t=n,n=t.parentNode}return null}function Cr(t){return t=t[Dt]||t[Xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function gl(t){return t[Xs]||null}var ku=[],Ci=-1;function Nn(t){return{current:t}}function J(t){0>Ci||(t.current=ku[Ci],ku[Ci]=null,Ci--)}function Y(t,e){Ci++,ku[Ci]=t.current,t.current=e}var Tn={},De=Nn(Tn),qe=Nn(!1),Yn=Tn;function Wi(t,e){var n=t.type.contextTypes;if(!n)return Tn;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in n)s[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(t){return t=t.childContextTypes,t!=null}function To(){J(qe),J(De)}function Uh(t,e,n){if(De.current!==Tn)throw Error(S(168));Y(De,e),Y(qe,n)}function Vm(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(S(108,t0(t)||"Unknown",s));return se({},n,i)}function Io(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tn,Yn=De.current,Y(De,t),Y(qe,qe.current),!0}function jh(t,e,n){var i=t.stateNode;if(!i)throw Error(S(169));n?(t=Vm(t,e,Yn),i.__reactInternalMemoizedMergedChildContext=t,J(qe),J(De),Y(De,t)):J(qe),Y(qe,n)}var jt=null,yl=!1,ha=!1;function qm(t){jt===null?jt=[t]:jt.push(t)}function vw(t){yl=!0,qm(t)}function On(){if(!ha&&jt!==null){ha=!0;var t=0,e=V;try{var n=jt;for(V=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}jt=null,yl=!1}catch(s){throw jt!==null&&(jt=jt.slice(t+1)),ym(Oc,On),s}finally{V=e,ha=!1}}return null}var Ei=[],Si=0,Ro=null,Po=0,at=[],ut=0,Kn=null,Ht=1,Wt="";function Fn(t,e){Ei[Si++]=Po,Ei[Si++]=Ro,Ro=t,Po=e}function Gm(t,e,n){at[ut++]=Ht,at[ut++]=Wt,at[ut++]=Kn,Kn=t;var i=Ht;t=Wt;var s=32-St(i)-1;i&=~(1<<s),n+=1;var r=32-St(e)+s;if(30<r){var o=s-s%5;r=(i&(1<<o)-1).toString(32),i>>=o,s-=o,Ht=1<<32-St(e)+s|n<<s|i,Wt=r+t}else Ht=1<<r|n<<s|i,Wt=t}function jc(t){t.return!==null&&(Fn(t,1),Gm(t,1,0))}function Hc(t){for(;t===Ro;)Ro=Ei[--Si],Ei[Si]=null,Po=Ei[--Si],Ei[Si]=null;for(;t===Kn;)Kn=at[--ut],at[ut]=null,Wt=at[--ut],at[ut]=null,Ht=at[--ut],at[ut]=null}var et=null,Ze=null,ee=!1,_t=null;function Qm(t,e){var n=ct(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,et=t,Ze=yn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,et=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kn!==null?{id:Ht,overflow:Wt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ct(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,et=t,Ze=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tu(t){if(ee){var e=Ze;if(e){var n=e;if(!Hh(t,e)){if(bu(t))throw Error(S(418));e=yn(n.nextSibling);var i=et;e&&Hh(t,e)?Qm(i,n):(t.flags=t.flags&-4097|2,ee=!1,et=t)}}else{if(bu(t))throw Error(S(418));t.flags=t.flags&-4097|2,ee=!1,et=t}}}function Wh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;et=t}function qr(t){if(t!==et)return!1;if(!ee)return Wh(t),ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eu(t.type,t.memoizedProps)),e&&(e=Ze)){if(bu(t))throw Ym(),Error(S(418));for(;e;)Qm(t,e),e=yn(e.nextSibling)}if(Wh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ze=yn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=et?yn(t.stateNode.nextSibling):null;return!0}function Ym(){for(var t=Ze;t;)t=yn(t.nextSibling)}function $i(){Ze=et=null,ee=!1}function Wc(t){_t===null?_t=[t]:_t.push(t)}var _w=tn.ReactCurrentBatchConfig;function yt(t,e){if(t&&t.defaultProps){e=se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var No=Nn(null),Oo=null,xi=null,$c=null;function Vc(){$c=xi=Oo=null}function qc(t){var e=No.current;J(No),t._currentValue=e}function Iu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Ai(t,e){Oo=t,$c=xi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(He=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if($c!==t)if(t={context:t,memoizedValue:e,next:null},xi===null){if(Oo===null)throw Error(S(308));xi=t,Oo.dependencies={lanes:0,firstContext:t}}else xi=xi.next=t;return e}var Wn=null;function Gc(t){Wn===null?Wn=[t]:Wn.push(t)}function Km(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Gc(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jt(t,i)}function Jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var an=!1;function Qc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,W&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,Jt(t,n)}return s=i.interleaved,s===null?(e.next=e,Gc(i)):(e.next=s.next,s.next=e),i.interleaved=e,Jt(t,n)}function ro(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mc(t,n)}}function $h(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?s=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?s=r=e:r=r.next=e}else s=r=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mo(t,e,n,i){var s=t.updateQueue;an=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;o=0,d=u=a=null,l=r;do{var h=l.lane,f=l.eventTime;if((i&h)===h){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,y=l;switch(h=e,f=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){c=g.call(f,c,h);break e}c=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(f,c,h):g,h==null)break e;c=se({},c,h);break e;case 2:an=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else f={eventTime:f,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,a=c):d=d.next=f,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Jn|=o,t.lanes=o,t.memoizedState=c}}function Vh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(S(191,s));s.call(i)}}}var Jm=new Kp.Component().refs;function Ru(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vl={isMounted:function(t){return(t=t._reactInternals)?ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ze(),s=wn(t),r=Vt(i,s);r.payload=e,n!=null&&(r.callback=n),e=vn(t,r,s),e!==null&&(xt(e,t,s,i),ro(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ze(),s=wn(t),r=Vt(i,s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=vn(t,r,s),e!==null&&(xt(e,t,s,i),ro(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),i=wn(t),s=Vt(n,i);s.tag=2,e!=null&&(s.callback=e),e=vn(t,s,i),e!==null&&(xt(e,t,i,n),ro(e,t,i))}};function qh(t,e,n,i,s,r,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,r,o):e.prototype&&e.prototype.isPureReactComponent?!Qs(n,i)||!Qs(s,r):!0}function Zm(t,e,n){var i=!1,s=Tn,r=e.contextType;return typeof r=="object"&&r!==null?r=ft(r):(s=Ge(e)?Yn:De.current,i=e.contextTypes,r=(i=i!=null)?Wi(t,s):Tn),e=new e(n,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function Gh(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&vl.enqueueReplaceState(e,e.state,null)}function Pu(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Jm,Qc(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=ft(r):(r=Ge(e)?Yn:De.current,s.context=Wi(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Ru(t,e,r,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vl.enqueueReplaceState(s,s.state,null),Mo(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ps(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var i=n.stateNode}if(!i)throw Error(S(147,t));var s=i,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var l=s.refs;l===Jm&&(l=s.refs={}),o===null?delete l[r]:l[r]=o},e._stringRef=r,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function Gr(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qh(t){var e=t._init;return e(t._payload)}function eg(t){function e(p,m){if(t){var v=p.deletions;v===null?(p.deletions=[m],p.flags|=16):v.push(m)}}function n(p,m){if(!t)return null;for(;m!==null;)e(p,m),m=m.sibling;return null}function i(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Cn(p,m),p.index=0,p.sibling=null,p}function r(p,m,v){return p.index=v,t?(v=p.alternate,v!==null?(v=v.index,v<m?(p.flags|=2,m):v):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,m,v,_){return m===null||m.tag!==6?(m=_a(v,p.mode,_),m.return=p,m):(m=s(m,v),m.return=p,m)}function a(p,m,v,_){var x=v.type;return x===gi?d(p,m,v.props.children,_,v.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ln&&Qh(x)===m.type)?(_=s(m,v.props),_.ref=ps(p,m,v),_.return=p,_):(_=ho(v.type,v.key,v.props,null,p.mode,_),_.ref=ps(p,m,v),_.return=p,_)}function u(p,m,v,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=wa(v,p.mode,_),m.return=p,m):(m=s(m,v.children||[]),m.return=p,m)}function d(p,m,v,_,x){return m===null||m.tag!==7?(m=Gn(v,p.mode,_,x),m.return=p,m):(m=s(m,v),m.return=p,m)}function c(p,m,v){if(typeof m=="string"&&m!==""||typeof m=="number")return m=_a(""+m,p.mode,v),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Lr:return v=ho(m.type,m.key,m.props,null,p.mode,v),v.ref=ps(p,null,m),v.return=p,v;case mi:return m=wa(m,p.mode,v),m.return=p,m;case ln:var _=m._init;return c(p,_(m._payload),v)}if(Ss(m)||us(m))return m=Gn(m,p.mode,v,null),m.return=p,m;Gr(p,m)}return null}function h(p,m,v,_){var x=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:l(p,m,""+v,_);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lr:return v.key===x?a(p,m,v,_):null;case mi:return v.key===x?u(p,m,v,_):null;case ln:return x=v._init,h(p,m,x(v._payload),_)}if(Ss(v)||us(v))return x!==null?null:d(p,m,v,_,null);Gr(p,v)}return null}function f(p,m,v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(v)||null,l(m,p,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lr:return p=p.get(_.key===null?v:_.key)||null,a(m,p,_,x);case mi:return p=p.get(_.key===null?v:_.key)||null,u(m,p,_,x);case ln:var T=_._init;return f(p,m,v,T(_._payload),x)}if(Ss(_)||us(_))return p=p.get(v)||null,d(m,p,_,x,null);Gr(m,_)}return null}function g(p,m,v,_){for(var x=null,T=null,b=m,P=m=0,H=null;b!==null&&P<v.length;P++){b.index>P?(H=b,b=null):H=b.sibling;var A=h(p,b,v[P],_);if(A===null){b===null&&(b=H);break}t&&b&&A.alternate===null&&e(p,b),m=r(A,m,P),T===null?x=A:T.sibling=A,T=A,b=H}if(P===v.length)return n(p,b),ee&&Fn(p,P),x;if(b===null){for(;P<v.length;P++)b=c(p,v[P],_),b!==null&&(m=r(b,m,P),T===null?x=b:T.sibling=b,T=b);return ee&&Fn(p,P),x}for(b=i(p,b);P<v.length;P++)H=f(b,p,P,v[P],_),H!==null&&(t&&H.alternate!==null&&b.delete(H.key===null?P:H.key),m=r(H,m,P),T===null?x=H:T.sibling=H,T=H);return t&&b.forEach(function(Ae){return e(p,Ae)}),ee&&Fn(p,P),x}function y(p,m,v,_){var x=us(v);if(typeof x!="function")throw Error(S(150));if(v=x.call(v),v==null)throw Error(S(151));for(var T=x=null,b=m,P=m=0,H=null,A=v.next();b!==null&&!A.done;P++,A=v.next()){b.index>P?(H=b,b=null):H=b.sibling;var Ae=h(p,b,A.value,_);if(Ae===null){b===null&&(b=H);break}t&&b&&Ae.alternate===null&&e(p,b),m=r(Ae,m,P),T===null?x=Ae:T.sibling=Ae,T=Ae,b=H}if(A.done)return n(p,b),ee&&Fn(p,P),x;if(b===null){for(;!A.done;P++,A=v.next())A=c(p,A.value,_),A!==null&&(m=r(A,m,P),T===null?x=A:T.sibling=A,T=A);return ee&&Fn(p,P),x}for(b=i(p,b);!A.done;P++,A=v.next())A=f(b,p,P,A.value,_),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?P:A.key),m=r(A,m,P),T===null?x=A:T.sibling=A,T=A);return t&&b.forEach(function(Dn){return e(p,Dn)}),ee&&Fn(p,P),x}function C(p,m,v,_){if(typeof v=="object"&&v!==null&&v.type===gi&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Lr:e:{for(var x=v.key,T=m;T!==null;){if(T.key===x){if(x=v.type,x===gi){if(T.tag===7){n(p,T.sibling),m=s(T,v.props.children),m.return=p,p=m;break e}}else if(T.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===ln&&Qh(x)===T.type){n(p,T.sibling),m=s(T,v.props),m.ref=ps(p,T,v),m.return=p,p=m;break e}n(p,T);break}else e(p,T);T=T.sibling}v.type===gi?(m=Gn(v.props.children,p.mode,_,v.key),m.return=p,p=m):(_=ho(v.type,v.key,v.props,null,p.mode,_),_.ref=ps(p,m,v),_.return=p,p=_)}return o(p);case mi:e:{for(T=v.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){n(p,m.sibling),m=s(m,v.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else e(p,m);m=m.sibling}m=wa(v,p.mode,_),m.return=p,p=m}return o(p);case ln:return T=v._init,C(p,m,T(v._payload),_)}if(Ss(v))return g(p,m,v,_);if(us(v))return y(p,m,v,_);Gr(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,m!==null&&m.tag===6?(n(p,m.sibling),m=s(m,v),m.return=p,p=m):(n(p,m),m=_a(v,p.mode,_),m.return=p,p=m),o(p)):n(p,m)}return C}var Vi=eg(!0),tg=eg(!1),Er={},zt=Nn(Er),Js=Nn(Er),Zs=Nn(Er);function $n(t){if(t===Er)throw Error(S(174));return t}function Yc(t,e){switch(Y(Zs,e),Y(Js,t),Y(zt,Er),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:au(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=au(e,t)}J(zt),Y(zt,e)}function qi(){J(zt),J(Js),J(Zs)}function ng(t){$n(Zs.current);var e=$n(zt.current),n=au(e,t.type);e!==n&&(Y(Js,t),Y(zt,n))}function Kc(t){Js.current===t&&(J(zt),J(Js))}var ne=Nn(0);function Do(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fa=[];function Xc(){for(var t=0;t<fa.length;t++)fa[t]._workInProgressVersionPrimary=null;fa.length=0}var oo=tn.ReactCurrentDispatcher,pa=tn.ReactCurrentBatchConfig,Xn=0,ie=null,he=null,ye=null,Ao=!1,Ns=!1,er=0,ww=0;function Te(){throw Error(S(321))}function Jc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rt(t[n],e[n]))return!1;return!0}function Zc(t,e,n,i,s,r){if(Xn=r,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oo.current=t===null||t.memoizedState===null?xw:kw,t=n(i,s),Ns){r=0;do{if(Ns=!1,er=0,25<=r)throw Error(S(301));r+=1,ye=he=null,e.updateQueue=null,oo.current=bw,t=n(i,s)}while(Ns)}if(oo.current=Lo,e=he!==null&&he.next!==null,Xn=0,ye=he=ie=null,Ao=!1,e)throw Error(S(300));return t}function ed(){var t=er!==0;return er=0,t}function Mt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ye===null?ie.memoizedState=ye=t:ye=ye.next=t,ye}function pt(){if(he===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=he.next;var e=ye===null?ie.memoizedState:ye.next;if(e!==null)ye=e,he=t;else{if(t===null)throw Error(S(310));he=t,t={memoizedState:he.memoizedState,baseState:he.baseState,baseQueue:he.baseQueue,queue:he.queue,next:null},ye===null?ie.memoizedState=ye=t:ye=ye.next=t}return ye}function tr(t,e){return typeof e=="function"?e(t):e}function ma(t){var e=pt(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var i=he,s=i.baseQueue,r=n.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}i.baseQueue=s=r,n.pending=null}if(s!==null){r=s.next,i=i.baseState;var l=o=null,a=null,u=r;do{var d=u.lane;if((Xn&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var c={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=i):a=a.next=c,ie.lanes|=d,Jn|=d}u=u.next}while(u!==null&&u!==r);a===null?o=i:a.next=l,Rt(i,e.memoizedState)||(He=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=a,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do r=s.lane,ie.lanes|=r,Jn|=r,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ga(t){var e=pt(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,r=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do r=t(r,o.action),o=o.next;while(o!==s);Rt(r,e.memoizedState)||(He=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,i]}function ig(){}function sg(t,e){var n=ie,i=pt(),s=e(),r=!Rt(i.memoizedState,s);if(r&&(i.memoizedState=s,He=!0),i=i.queue,td(lg.bind(null,n,i,t),[t]),i.getSnapshot!==e||r||ye!==null&&ye.memoizedState.tag&1){if(n.flags|=2048,nr(9,og.bind(null,n,i,s,e),void 0,null),we===null)throw Error(S(349));Xn&30||rg(n,e,s)}return s}function rg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function og(t,e,n,i){e.value=n,e.getSnapshot=i,ag(e)&&ug(t)}function lg(t,e,n){return n(function(){ag(e)&&ug(t)})}function ag(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rt(t,n)}catch{return!0}}function ug(t){var e=Jt(t,1);e!==null&&xt(e,t,1,-1)}function Yh(t){var e=Mt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},e.queue=t,t=t.dispatch=Sw.bind(null,ie,t),[e.memoizedState,t]}function nr(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function cg(){return pt().memoizedState}function lo(t,e,n,i){var s=Mt();ie.flags|=t,s.memoizedState=nr(1|e,n,void 0,i===void 0?null:i)}function _l(t,e,n,i){var s=pt();i=i===void 0?null:i;var r=void 0;if(he!==null){var o=he.memoizedState;if(r=o.destroy,i!==null&&Jc(i,o.deps)){s.memoizedState=nr(e,n,r,i);return}}ie.flags|=t,s.memoizedState=nr(1|e,n,r,i)}function Kh(t,e){return lo(8390656,8,t,e)}function td(t,e){return _l(2048,8,t,e)}function dg(t,e){return _l(4,2,t,e)}function hg(t,e){return _l(4,4,t,e)}function fg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pg(t,e,n){return n=n!=null?n.concat([t]):null,_l(4,4,fg.bind(null,e,t),n)}function nd(){}function mg(t,e){var n=pt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Jc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function gg(t,e){var n=pt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Jc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function yg(t,e,n){return Xn&21?(Rt(n,e)||(n=wm(),ie.lanes|=n,Jn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,He=!0),t.memoizedState=n)}function Cw(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var i=pa.transition;pa.transition={};try{t(!1),e()}finally{V=n,pa.transition=i}}function vg(){return pt().memoizedState}function Ew(t,e,n){var i=wn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},_g(t))wg(e,n);else if(n=Km(t,e,n,i),n!==null){var s=ze();xt(n,t,i,s),Cg(n,e,i)}}function Sw(t,e,n){var i=wn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(_g(t))wg(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,l=r(o,n);if(s.hasEagerState=!0,s.eagerState=l,Rt(l,o)){var a=e.interleaved;a===null?(s.next=s,Gc(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Km(t,e,s,i),n!==null&&(s=ze(),xt(n,t,i,s),Cg(n,e,i))}}function _g(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function wg(t,e){Ns=Ao=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Cg(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Mc(t,n)}}var Lo={readContext:ft,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useInsertionEffect:Te,useLayoutEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useMutableSource:Te,useSyncExternalStore:Te,useId:Te,unstable_isNewReconciler:!1},xw={readContext:ft,useCallback:function(t,e){return Mt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:Kh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,lo(4194308,4,fg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return lo(4194308,4,t,e)},useInsertionEffect:function(t,e){return lo(4,2,t,e)},useMemo:function(t,e){var n=Mt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Mt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Ew.bind(null,ie,t),[i.memoizedState,t]},useRef:function(t){var e=Mt();return t={current:t},e.memoizedState=t},useState:Yh,useDebugValue:nd,useDeferredValue:function(t){return Mt().memoizedState=t},useTransition:function(){var t=Yh(!1),e=t[0];return t=Cw.bind(null,t[1]),Mt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=ie,s=Mt();if(ee){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),we===null)throw Error(S(349));Xn&30||rg(i,e,n)}s.memoizedState=n;var r={value:n,getSnapshot:e};return s.queue=r,Kh(lg.bind(null,i,r,t),[t]),i.flags|=2048,nr(9,og.bind(null,i,r,n,e),void 0,null),n},useId:function(){var t=Mt(),e=we.identifierPrefix;if(ee){var n=Wt,i=Ht;n=(i&~(1<<32-St(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=er++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ww++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kw={readContext:ft,useCallback:mg,useContext:ft,useEffect:td,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:ma,useRef:cg,useState:function(){return ma(tr)},useDebugValue:nd,useDeferredValue:function(t){var e=pt();return yg(e,he.memoizedState,t)},useTransition:function(){var t=ma(tr)[0],e=pt().memoizedState;return[t,e]},useMutableSource:ig,useSyncExternalStore:sg,useId:vg,unstable_isNewReconciler:!1},bw={readContext:ft,useCallback:mg,useContext:ft,useEffect:td,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:hg,useMemo:gg,useReducer:ga,useRef:cg,useState:function(){return ga(tr)},useDebugValue:nd,useDeferredValue:function(t){var e=pt();return he===null?e.memoizedState=t:yg(e,he.memoizedState,t)},useTransition:function(){var t=ga(tr)[0],e=pt().memoizedState;return[t,e]},useMutableSource:ig,useSyncExternalStore:sg,useId:vg,unstable_isNewReconciler:!1};function Gi(t,e){try{var n="",i=e;do n+=e0(i),i=i.return;while(i);var s=n}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function ya(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Tw=typeof WeakMap=="function"?WeakMap:Map;function Eg(t,e,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Fo||(Fo=!0,ju=i),Nu(t,e)},n}function Sg(t,e,n){n=Vt(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Nu(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){Nu(t,e),typeof i!="function"&&(_n===null?_n=new Set([this]):_n.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Xh(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Tw;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=jw.bind(null,t,e,n),e.then(t,t))}function Jh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Zh(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vt(-1,1),e.tag=2,vn(n,e,1))),n.lanes|=1),t)}var Iw=tn.ReactCurrentOwner,He=!1;function Le(t,e,n,i){e.child=t===null?tg(e,null,n,i):Vi(e,t.child,n,i)}function ef(t,e,n,i,s){n=n.render;var r=e.ref;return Ai(e,s),i=Zc(t,e,n,i,r,s),n=ed(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(ee&&n&&jc(e),e.flags|=1,Le(t,e,i,s),e.child)}function tf(t,e,n,i,s){if(t===null){var r=n.type;return typeof r=="function"&&!cd(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=r,xg(t,e,r,i,s)):(t=ho(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(o,i)&&t.ref===e.ref)return Zt(t,e,s)}return e.flags|=1,t=Cn(r,i),t.ref=e.ref,t.return=e,e.child=t}function xg(t,e,n,i,s){if(t!==null){var r=t.memoizedProps;if(Qs(r,i)&&t.ref===e.ref)if(He=!1,e.pendingProps=i=r,(t.lanes&s)!==0)t.flags&131072&&(He=!0);else return e.lanes=t.lanes,Zt(t,e,s)}return Ou(t,e,n,i,s)}function kg(t,e,n){var i=e.pendingProps,s=i.children,r=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(bi,Je),Je|=n;else{if(!(n&1073741824))return t=r!==null?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(bi,Je),Je|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=r!==null?r.baseLanes:n,Y(bi,Je),Je|=i}else r!==null?(i=r.baseLanes|n,e.memoizedState=null):i=n,Y(bi,Je),Je|=i;return Le(t,e,s,n),e.child}function bg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ou(t,e,n,i,s){var r=Ge(n)?Yn:De.current;return r=Wi(e,r),Ai(e,s),n=Zc(t,e,n,i,r,s),i=ed(),t!==null&&!He?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zt(t,e,s)):(ee&&i&&jc(e),e.flags|=1,Le(t,e,n,s),e.child)}function nf(t,e,n,i,s){if(Ge(n)){var r=!0;Io(e)}else r=!1;if(Ai(e,s),e.stateNode===null)ao(t,e),Zm(e,n,i),Pu(e,n,i,s),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ft(u):(u=Ge(n)?Yn:De.current,u=Wi(e,u));var d=n.getDerivedStateFromProps,c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||a!==u)&&Gh(e,o,i,u),an=!1;var h=e.memoizedState;o.state=h,Mo(e,i,o,s),a=e.memoizedState,l!==i||h!==a||qe.current||an?(typeof d=="function"&&(Ru(e,n,d,i),a=e.memoizedState),(l=an||qh(e,n,l,i,h,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=a),o.props=i,o.state=a,o.context=u,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Xm(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:yt(e.type,l),o.props=u,c=e.pendingProps,h=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=ft(a):(a=Ge(n)?Yn:De.current,a=Wi(e,a));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||h!==a)&&Gh(e,o,i,a),an=!1,h=e.memoizedState,o.state=h,Mo(e,i,o,s);var g=e.memoizedState;l!==c||h!==g||qe.current||an?(typeof f=="function"&&(Ru(e,n,f,i),g=e.memoizedState),(u=an||qh(e,n,u,i,h,g,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=a,i=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return Mu(t,e,n,i,r,s)}function Mu(t,e,n,i,s,r){bg(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return s&&jh(e,n,!1),Zt(t,e,r);i=e.stateNode,Iw.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Vi(e,t.child,null,r),e.child=Vi(e,null,l,r)):Le(t,e,l,r),e.memoizedState=i.state,s&&jh(e,n,!0),e.child}function Tg(t){var e=t.stateNode;e.pendingContext?Uh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uh(t,e.context,!1),Yc(t,e.containerInfo)}function sf(t,e,n,i,s){return $i(),Wc(s),e.flags|=256,Le(t,e,n,i),e.child}var Du={dehydrated:null,treeContext:null,retryLane:0};function Au(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ig(t,e,n){var i=e.pendingProps,s=ne.current,r=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(ne,s&1),t===null)return Tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,r?(i=e.mode,r=e.child,o={mode:"hidden",children:o},!(i&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=El(o,i,0,null),t=Gn(t,i,n,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=Au(n),e.memoizedState=Du,t):id(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Rw(t,e,o,i,l,s,n);if(r){r=i.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:i.children};return!(o&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=a,e.deletions=null):(i=Cn(s,a),i.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=Cn(l,r):(r=Gn(r,o,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=t.child.memoizedState,o=o===null?Au(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=t.childLanes&~n,e.memoizedState=Du,i}return r=t.child,t=r.sibling,i=Cn(r,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function id(t,e){return e=El({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qr(t,e,n,i){return i!==null&&Wc(i),Vi(e,t.child,null,n),t=id(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rw(t,e,n,i,s,r,o){if(n)return e.flags&256?(e.flags&=-257,i=ya(Error(S(422))),Qr(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=i.fallback,s=e.mode,i=El({mode:"visible",children:i.children},s,0,null),r=Gn(r,s,o,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,e.mode&1&&Vi(e,t.child,null,o),e.child.memoizedState=Au(o),e.memoizedState=Du,r);if(!(e.mode&1))return Qr(t,e,o,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var l=i.dgst;return i=l,r=Error(S(419)),i=ya(r,i,void 0),Qr(t,e,o,i)}if(l=(o&t.childLanes)!==0,He||l){if(i=we,i!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Jt(t,s),xt(i,t,s,-1))}return ud(),i=ya(Error(S(421))),Qr(t,e,o,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Hw.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Ze=yn(s.nextSibling),et=e,ee=!0,_t=null,t!==null&&(at[ut++]=Ht,at[ut++]=Wt,at[ut++]=Kn,Ht=t.id,Wt=t.overflow,Kn=e),e=id(e,i.children),e.flags|=4096,e)}function rf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Iu(t.return,e,n)}function va(t,e,n,i,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=s)}function Rg(t,e,n){var i=e.pendingProps,s=i.revealOrder,r=i.tail;if(Le(t,e,i.children,n),i=ne.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rf(t,n,e);else if(t.tag===19)rf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Y(ne,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Do(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),va(e,!1,s,n,r);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Do(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}va(e,!0,n,null,r);break;case"together":va(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ao(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Cn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Pw(t,e,n){switch(e.tag){case 3:Tg(e),$i();break;case 5:ng(e);break;case 1:Ge(e.type)&&Io(e);break;case 4:Yc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Y(No,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Y(ne,ne.current&1),e.flags|=128,null):n&e.child.childLanes?Ig(t,e,n):(Y(ne,ne.current&1),t=Zt(t,e,n),t!==null?t.sibling:null);Y(ne,ne.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Rg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ne,ne.current),i)break;return null;case 22:case 23:return e.lanes=0,kg(t,e,n)}return Zt(t,e,n)}var Pg,Lu,Ng,Og;Pg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Lu=function(){};Ng=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,$n(zt.current);var r=null;switch(n){case"input":s=su(t,s),i=su(t,i),r=[];break;case"select":s=se({},s,{value:void 0}),i=se({},i,{value:void 0}),r=[];break;case"textarea":s=lu(t,s),i=lu(t,i),r=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=bo)}uu(n,i);var o;n=null;for(u in s)if(!i.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(js.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in i){var a=i[u];if(l=s!=null?s[u]:void 0,i.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(r||(r=[]),r.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(js.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&K("scroll",t),r||l===a||(r=[])):(r=r||[]).push(u,a))}n&&(r=r||[]).push("style",n);var u=r;(e.updateQueue=u)&&(e.flags|=4)}};Og=function(t,e,n,i){n!==i&&(e.flags|=4)};function ms(t,e){if(!ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ie(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Nw(t,e,n){var i=e.pendingProps;switch(Hc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(e),null;case 1:return Ge(e.type)&&To(),Ie(e),null;case 3:return i=e.stateNode,qi(),J(qe),J(De),Xc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(qr(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_t!==null&&($u(_t),_t=null))),Lu(t,e),Ie(e),null;case 5:Kc(e);var s=$n(Zs.current);if(n=e.type,t!==null&&e.stateNode!=null)Ng(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(S(166));return Ie(e),null}if(t=$n(zt.current),qr(e)){i=e.stateNode,n=e.type;var r=e.memoizedProps;switch(i[Dt]=e,i[Xs]=r,t=(e.mode&1)!==0,n){case"dialog":K("cancel",i),K("close",i);break;case"iframe":case"object":case"embed":K("load",i);break;case"video":case"audio":for(s=0;s<ks.length;s++)K(ks[s],i);break;case"source":K("error",i);break;case"img":case"image":case"link":K("error",i),K("load",i);break;case"details":K("toggle",i);break;case"input":fh(i,r),K("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},K("invalid",i);break;case"textarea":mh(i,r),K("invalid",i)}uu(n,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?i.textContent!==l&&(r.suppressHydrationWarning!==!0&&Vr(i.textContent,l,t),s=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Vr(i.textContent,l,t),s=["children",""+l]):js.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&K("scroll",i)}switch(n){case"input":zr(i),ph(i,r,!0);break;case"textarea":zr(i),gh(i);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(i.onclick=bo)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Dt]=e,t[Xs]=i,Pg(t,e,!1,!1),e.stateNode=t;e:{switch(o=cu(n,i),n){case"dialog":K("cancel",t),K("close",t),s=i;break;case"iframe":case"object":case"embed":K("load",t),s=i;break;case"video":case"audio":for(s=0;s<ks.length;s++)K(ks[s],t);s=i;break;case"source":K("error",t),s=i;break;case"img":case"image":case"link":K("error",t),K("load",t),s=i;break;case"details":K("toggle",t),s=i;break;case"input":fh(t,i),s=su(t,i),K("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=se({},i,{value:void 0}),K("invalid",t);break;case"textarea":mh(t,i),s=lu(t,i),K("invalid",t);break;default:s=i}uu(n,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?am(t,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&om(t,a)):r==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Hs(t,a):typeof a=="number"&&Hs(t,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(js.hasOwnProperty(r)?a!=null&&r==="onScroll"&&K("scroll",t):a!=null&&Tc(t,r,a,o))}switch(n){case"input":zr(t),ph(t,i,!1);break;case"textarea":zr(t),gh(t);break;case"option":i.value!=null&&t.setAttribute("value",""+bn(i.value));break;case"select":t.multiple=!!i.multiple,r=i.value,r!=null?Ni(t,!!i.multiple,r,!1):i.defaultValue!=null&&Ni(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=bo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ie(e),null;case 6:if(t&&e.stateNode!=null)Og(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(S(166));if(n=$n(Zs.current),$n(zt.current),qr(e)){if(i=e.stateNode,n=e.memoizedProps,i[Dt]=e,(r=i.nodeValue!==n)&&(t=et,t!==null))switch(t.tag){case 3:Vr(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vr(i.nodeValue,n,(t.mode&1)!==0)}r&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Dt]=e,e.stateNode=i}return Ie(e),null;case 13:if(J(ne),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ee&&Ze!==null&&e.mode&1&&!(e.flags&128))Ym(),$i(),e.flags|=98560,r=!1;else if(r=qr(e),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(S(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(S(317));r[Dt]=e}else $i(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ie(e),r=!1}else _t!==null&&($u(_t),_t=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?pe===0&&(pe=3):ud())),e.updateQueue!==null&&(e.flags|=4),Ie(e),null);case 4:return qi(),Lu(t,e),t===null&&Ys(e.stateNode.containerInfo),Ie(e),null;case 10:return qc(e.type._context),Ie(e),null;case 17:return Ge(e.type)&&To(),Ie(e),null;case 19:if(J(ne),r=e.memoizedState,r===null)return Ie(e),null;if(i=(e.flags&128)!==0,o=r.rendering,o===null)if(i)ms(r,!1);else{if(pe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Do(t),o!==null){for(e.flags|=128,ms(r,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)r=n,t=i,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,t=o.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Y(ne,ne.current&1|2),e.child}t=t.sibling}r.tail!==null&&ue()>Qi&&(e.flags|=128,i=!0,ms(r,!1),e.lanes=4194304)}else{if(!i)if(t=Do(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ms(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ee)return Ie(e),null}else 2*ue()-r.renderingStartTime>Qi&&n!==1073741824&&(e.flags|=128,i=!0,ms(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ue(),e.sibling=null,n=ne.current,Y(ne,i?n&1|2:n&1),e):(Ie(e),null);case 22:case 23:return ad(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Je&1073741824&&(Ie(e),e.subtreeFlags&6&&(e.flags|=8192)):Ie(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Ow(t,e){switch(Hc(e),e.tag){case 1:return Ge(e.type)&&To(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qi(),J(qe),J(De),Xc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kc(e),null;case 13:if(J(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));$i()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return J(ne),null;case 4:return qi(),null;case 10:return qc(e.type._context),null;case 22:case 23:return ad(),null;case 24:return null;default:return null}}var Yr=!1,Re=!1,Mw=typeof WeakSet=="function"?WeakSet:Set,I=null;function ki(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){re(t,e,i)}else n.current=null}function zu(t,e,n){try{n()}catch(i){re(t,e,i)}}var of=!1;function Dw(t,e){if(wu=So,t=Lm(),Uc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,d=0,c=t,h=null;t:for(;;){for(var f;c!==n||s!==0&&c.nodeType!==3||(l=o+s),c!==r||i!==0&&c.nodeType!==3||(a=o+i),c.nodeType===3&&(o+=c.nodeValue.length),(f=c.firstChild)!==null;)h=c,c=f;for(;;){if(c===t)break t;if(h===n&&++u===s&&(l=o),h===r&&++d===i&&(a=o),(f=c.nextSibling)!==null)break;c=h,h=c.parentNode}c=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cu={focusedElem:t,selectionRange:n},So=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,C=g.memoizedState,p=e.stateNode,m=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:yt(e.type,y),C);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return g=of,of=!1,g}function Os(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&zu(e,n,r)}s=s.next}while(s!==i)}}function wl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Fu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Mg(t){var e=t.alternate;e!==null&&(t.alternate=null,Mg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dt],delete e[Xs],delete e[xu],delete e[gw],delete e[yw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dg(t){return t.tag===5||t.tag===3||t.tag===4}function lf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bo));else if(i!==4&&(t=t.child,t!==null))for(Bu(t,e,n),t=t.sibling;t!==null;)Bu(t,e,n),t=t.sibling}function Uu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Uu(t,e,n),t=t.sibling;t!==null;)Uu(t,e,n),t=t.sibling}var Se=null,vt=!1;function rn(t,e,n){for(n=n.child;n!==null;)Ag(t,e,n),n=n.sibling}function Ag(t,e,n){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(hl,n)}catch{}switch(n.tag){case 5:Re||ki(n,e);case 6:var i=Se,s=vt;Se=null,rn(t,e,n),Se=i,vt=s,Se!==null&&(vt?(t=Se,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Se.removeChild(n.stateNode));break;case 18:Se!==null&&(vt?(t=Se,n=n.stateNode,t.nodeType===8?da(t.parentNode,n):t.nodeType===1&&da(t,n),qs(t)):da(Se,n.stateNode));break;case 4:i=Se,s=vt,Se=n.stateNode.containerInfo,vt=!0,rn(t,e,n),Se=i,vt=s;break;case 0:case 11:case 14:case 15:if(!Re&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&zu(n,e,o),s=s.next}while(s!==i)}rn(t,e,n);break;case 1:if(!Re&&(ki(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(l){re(n,e,l)}rn(t,e,n);break;case 21:rn(t,e,n);break;case 22:n.mode&1?(Re=(i=Re)||n.memoizedState!==null,rn(t,e,n),Re=i):rn(t,e,n);break;default:rn(t,e,n)}}function af(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mw),e.forEach(function(i){var s=Ww.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function gt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var r=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Se=l.stateNode,vt=!1;break e;case 3:Se=l.stateNode.containerInfo,vt=!0;break e;case 4:Se=l.stateNode.containerInfo,vt=!0;break e}l=l.return}if(Se===null)throw Error(S(160));Ag(r,o,s),Se=null,vt=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){re(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Lg(e,t),e=e.sibling}function Lg(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gt(e,t),Ot(t),i&4){try{Os(3,t,t.return),wl(3,t)}catch(y){re(t,t.return,y)}try{Os(5,t,t.return)}catch(y){re(t,t.return,y)}}break;case 1:gt(e,t),Ot(t),i&512&&n!==null&&ki(n,n.return);break;case 5:if(gt(e,t),Ot(t),i&512&&n!==null&&ki(n,n.return),t.flags&32){var s=t.stateNode;try{Hs(s,"")}catch(y){re(t,t.return,y)}}if(i&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,o=n!==null?n.memoizedProps:r,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&im(s,r),cu(l,o);var u=cu(l,r);for(o=0;o<a.length;o+=2){var d=a[o],c=a[o+1];d==="style"?am(s,c):d==="dangerouslySetInnerHTML"?om(s,c):d==="children"?Hs(s,c):Tc(s,d,c,u)}switch(l){case"input":ru(s,r);break;case"textarea":sm(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Ni(s,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?Ni(s,!!r.multiple,r.defaultValue,!0):Ni(s,!!r.multiple,r.multiple?[]:"",!1))}s[Xs]=r}catch(y){re(t,t.return,y)}}break;case 6:if(gt(e,t),Ot(t),i&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(y){re(t,t.return,y)}}break;case 3:if(gt(e,t),Ot(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{qs(e.containerInfo)}catch(y){re(t,t.return,y)}break;case 4:gt(e,t),Ot(t);break;case 13:gt(e,t),Ot(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(od=ue())),i&4&&af(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Re=(u=Re)||d,gt(e,t),Re=u):gt(e,t),Ot(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(c=I=d;I!==null;){switch(h=I,f=h.child,h.tag){case 0:case 11:case 14:case 15:Os(4,h,h.return);break;case 1:ki(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){re(i,n,y)}}break;case 5:ki(h,h.return);break;case 22:if(h.memoizedState!==null){cf(c);continue}}f!==null?(f.return=h,I=f):cf(c)}d=d.sibling}e:for(d=null,c=t;;){if(c.tag===5){if(d===null){d=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=lm("display",o))}catch(y){re(t,t.return,y)}}}else if(c.tag===6){if(d===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(y){re(t,t.return,y)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===t)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:gt(e,t),Ot(t),i&4&&af(t);break;case 21:break;default:gt(e,t),Ot(t)}}function Ot(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Dg(n)){var i=n;break e}n=n.return}throw Error(S(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(Hs(s,""),i.flags&=-33);var r=lf(t);Uu(t,r,s);break;case 3:case 4:var o=i.stateNode.containerInfo,l=lf(t);Bu(t,l,o);break;default:throw Error(S(161))}}catch(a){re(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Aw(t,e,n){I=t,zg(t)}function zg(t,e,n){for(var i=(t.mode&1)!==0;I!==null;){var s=I,r=s.child;if(s.tag===22&&i){var o=s.memoizedState!==null||Yr;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Re;l=Yr;var u=Re;if(Yr=o,(Re=a)&&!u)for(I=s;I!==null;)o=I,a=o.child,o.tag===22&&o.memoizedState!==null?df(s):a!==null?(a.return=o,I=a):df(s);for(;r!==null;)I=r,zg(r),r=r.sibling;I=s,Yr=l,Re=u}uf(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,I=r):uf(t)}}function uf(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||wl(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Re)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Vh(e,r,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vh(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var c=d.dehydrated;c!==null&&qs(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Re||e.flags&512&&Fu(e)}catch(h){re(e,e.return,h)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function cf(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function df(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wl(4,e)}catch(a){re(e,n,a)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(a){re(e,s,a)}}var r=e.return;try{Fu(e)}catch(a){re(e,r,a)}break;case 5:var o=e.return;try{Fu(e)}catch(a){re(e,o,a)}}}catch(a){re(e,e.return,a)}if(e===t){I=null;break}var l=e.sibling;if(l!==null){l.return=e.return,I=l;break}I=e.return}}var Lw=Math.ceil,zo=tn.ReactCurrentDispatcher,sd=tn.ReactCurrentOwner,dt=tn.ReactCurrentBatchConfig,W=0,we=null,de=null,xe=0,Je=0,bi=Nn(0),pe=0,ir=null,Jn=0,Cl=0,rd=0,Ms=null,je=null,od=0,Qi=1/0,Ut=null,Fo=!1,ju=null,_n=null,Kr=!1,hn=null,Bo=0,Ds=0,Hu=null,uo=-1,co=0;function ze(){return W&6?ue():uo!==-1?uo:uo=ue()}function wn(t){return t.mode&1?W&2&&xe!==0?xe&-xe:_w.transition!==null?(co===0&&(co=wm()),co):(t=V,t!==0||(t=window.event,t=t===void 0?16:Tm(t.type)),t):1}function xt(t,e,n,i){if(50<Ds)throw Ds=0,Hu=null,Error(S(185));_r(t,n,i),(!(W&2)||t!==we)&&(t===we&&(!(W&2)&&(Cl|=n),pe===4&&cn(t,xe)),Qe(t,i),n===1&&W===0&&!(e.mode&1)&&(Qi=ue()+500,yl&&On()))}function Qe(t,e){var n=t.callbackNode;_0(t,e);var i=Eo(t,t===we?xe:0);if(i===0)n!==null&&_h(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&_h(n),e===1)t.tag===0?vw(hf.bind(null,t)):qm(hf.bind(null,t)),pw(function(){!(W&6)&&On()}),n=null;else{switch(Cm(i)){case 1:n=Oc;break;case 4:n=vm;break;case 16:n=Co;break;case 536870912:n=_m;break;default:n=Co}n=Vg(n,Fg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Fg(t,e){if(uo=-1,co=0,W&6)throw Error(S(327));var n=t.callbackNode;if(Li()&&t.callbackNode!==n)return null;var i=Eo(t,t===we?xe:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Uo(t,i);else{e=i;var s=W;W|=2;var r=Ug();(we!==t||xe!==e)&&(Ut=null,Qi=ue()+500,qn(t,e));do try{Bw();break}catch(l){Bg(t,l)}while(!0);Vc(),zo.current=r,W=s,de!==null?e=0:(we=null,xe=0,e=pe)}if(e!==0){if(e===2&&(s=mu(t),s!==0&&(i=s,e=Wu(t,s))),e===1)throw n=ir,qn(t,0),cn(t,i),Qe(t,ue()),n;if(e===6)cn(t,i);else{if(s=t.current.alternate,!(i&30)&&!zw(s)&&(e=Uo(t,i),e===2&&(r=mu(t),r!==0&&(i=r,e=Wu(t,r))),e===1))throw n=ir,qn(t,0),cn(t,i),Qe(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(S(345));case 2:Bn(t,je,Ut);break;case 3:if(cn(t,i),(i&130023424)===i&&(e=od+500-ue(),10<e)){if(Eo(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){ze(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Su(Bn.bind(null,t,je,Ut),e);break}Bn(t,je,Ut);break;case 4:if(cn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var o=31-St(i);r=1<<o,o=e[o],o>s&&(s=o),i&=~r}if(i=s,i=ue()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Lw(i/1960))-i,10<i){t.timeoutHandle=Su(Bn.bind(null,t,je,Ut),i);break}Bn(t,je,Ut);break;case 5:Bn(t,je,Ut);break;default:throw Error(S(329))}}}return Qe(t,ue()),t.callbackNode===n?Fg.bind(null,t):null}function Wu(t,e){var n=Ms;return t.current.memoizedState.isDehydrated&&(qn(t,e).flags|=256),t=Uo(t,e),t!==2&&(e=je,je=n,e!==null&&$u(e)),t}function $u(t){je===null?je=t:je.push.apply(je,t)}function zw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Rt(r(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cn(t,e){for(e&=~rd,e&=~Cl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),i=1<<n;t[n]=-1,e&=~i}}function hf(t){if(W&6)throw Error(S(327));Li();var e=Eo(t,0);if(!(e&1))return Qe(t,ue()),null;var n=Uo(t,e);if(t.tag!==0&&n===2){var i=mu(t);i!==0&&(e=i,n=Wu(t,i))}if(n===1)throw n=ir,qn(t,0),cn(t,e),Qe(t,ue()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bn(t,je,Ut),Qe(t,ue()),null}function ld(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Qi=ue()+500,yl&&On())}}function Zn(t){hn!==null&&hn.tag===0&&!(W&6)&&Li();var e=W;W|=1;var n=dt.transition,i=V;try{if(dt.transition=null,V=1,t)return t()}finally{V=i,dt.transition=n,W=e,!(W&6)&&On()}}function ad(){Je=bi.current,J(bi)}function qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fw(n)),de!==null)for(n=de.return;n!==null;){var i=n;switch(Hc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&To();break;case 3:qi(),J(qe),J(De),Xc();break;case 5:Kc(i);break;case 4:qi();break;case 13:J(ne);break;case 19:J(ne);break;case 10:qc(i.type._context);break;case 22:case 23:ad()}n=n.return}if(we=t,de=t=Cn(t.current,null),xe=Je=e,pe=0,ir=null,rd=Cl=Jn=0,je=Ms=null,Wn!==null){for(e=0;e<Wn.length;e++)if(n=Wn[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,r=n.pending;if(r!==null){var o=r.next;r.next=s,i.next=o}n.pending=i}Wn=null}return t}function Bg(t,e){do{var n=de;try{if(Vc(),oo.current=Lo,Ao){for(var i=ie.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ao=!1}if(Xn=0,ye=he=ie=null,Ns=!1,er=0,sd.current=null,n===null||n.return===null){pe=1,ir=e,de=null;break}e:{var r=t,o=n.return,l=n,a=e;if(e=xe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,c=d.tag;if(!(d.mode&1)&&(c===0||c===11||c===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Jh(o);if(f!==null){f.flags&=-257,Zh(f,o,l,r,e),f.mode&1&&Xh(r,u,e),e=f,a=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(a),e.updateQueue=y}else g.add(a);break e}else{if(!(e&1)){Xh(r,u,e),ud();break e}a=Error(S(426))}}else if(ee&&l.mode&1){var C=Jh(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Zh(C,o,l,r,e),Wc(Gi(a,l));break e}}r=a=Gi(a,l),pe!==4&&(pe=2),Ms===null?Ms=[r]:Ms.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var p=Eg(r,a,e);$h(r,p);break e;case 1:l=a;var m=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(_n===null||!_n.has(v)))){r.flags|=65536,e&=-e,r.lanes|=e;var _=Sg(r,l,e);$h(r,_);break e}}r=r.return}while(r!==null)}Hg(n)}catch(x){e=x,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Ug(){var t=zo.current;return zo.current=Lo,t===null?Lo:t}function ud(){(pe===0||pe===3||pe===2)&&(pe=4),we===null||!(Jn&268435455)&&!(Cl&268435455)||cn(we,xe)}function Uo(t,e){var n=W;W|=2;var i=Ug();(we!==t||xe!==e)&&(Ut=null,qn(t,e));do try{Fw();break}catch(s){Bg(t,s)}while(!0);if(Vc(),W=n,zo.current=i,de!==null)throw Error(S(261));return we=null,xe=0,pe}function Fw(){for(;de!==null;)jg(de)}function Bw(){for(;de!==null&&!c0();)jg(de)}function jg(t){var e=$g(t.alternate,t,Je);t.memoizedProps=t.pendingProps,e===null?Hg(t):de=e,sd.current=null}function Hg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ow(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pe=6,de=null;return}}else if(n=Nw(n,e,Je),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);pe===0&&(pe=5)}function Bn(t,e,n){var i=V,s=dt.transition;try{dt.transition=null,V=1,Uw(t,e,n,i)}finally{dt.transition=s,V=i}return null}function Uw(t,e,n,i){do Li();while(hn!==null);if(W&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var r=n.lanes|n.childLanes;if(w0(t,r),t===we&&(de=we=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kr||(Kr=!0,Vg(Co,function(){return Li(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=dt.transition,dt.transition=null;var o=V;V=1;var l=W;W|=4,sd.current=null,Dw(t,n),Lg(n,t),ow(Cu),So=!!wu,Cu=wu=null,t.current=n,Aw(n),d0(),W=l,V=o,dt.transition=r}else t.current=n;if(Kr&&(Kr=!1,hn=t,Bo=s),r=t.pendingLanes,r===0&&(_n=null),p0(n.stateNode),Qe(t,ue()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(Fo)throw Fo=!1,t=ju,ju=null,t;return Bo&1&&t.tag!==0&&Li(),r=t.pendingLanes,r&1?t===Hu?Ds++:(Ds=0,Hu=t):Ds=0,On(),null}function Li(){if(hn!==null){var t=Cm(Bo),e=dt.transition,n=V;try{if(dt.transition=null,V=16>t?16:t,hn===null)var i=!1;else{if(t=hn,hn=null,Bo=0,W&6)throw Error(S(331));var s=W;for(W|=4,I=t.current;I!==null;){var r=I,o=r.child;if(I.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Os(8,d,r)}var c=d.child;if(c!==null)c.return=d,I=c;else for(;I!==null;){d=I;var h=d.sibling,f=d.return;if(Mg(d),d===u){I=null;break}if(h!==null){h.return=f,I=h;break}I=f}}}var g=r.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var C=y.sibling;y.sibling=null,y=C}while(y!==null)}}I=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,I=o;else e:for(;I!==null;){if(r=I,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Os(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,I=p;break e}I=r.return}}var m=t.current;for(I=m;I!==null;){o=I;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,I=v;else e:for(o=m;I!==null;){if(l=I,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wl(9,l)}}catch(x){re(l,l.return,x)}if(l===o){I=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,I=_;break e}I=l.return}}if(W=s,On(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(hl,t)}catch{}i=!0}return i}finally{V=n,dt.transition=e}}return!1}function ff(t,e,n){e=Gi(n,e),e=Eg(t,e,1),t=vn(t,e,1),e=ze(),t!==null&&(_r(t,1,e),Qe(t,e))}function re(t,e,n){if(t.tag===3)ff(t,t,n);else for(;e!==null;){if(e.tag===3){ff(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(_n===null||!_n.has(i))){t=Gi(n,t),t=Sg(e,t,1),e=vn(e,t,1),t=ze(),e!==null&&(_r(e,1,t),Qe(e,t));break}}e=e.return}}function jw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,we===t&&(xe&n)===n&&(pe===4||pe===3&&(xe&130023424)===xe&&500>ue()-od?qn(t,0):rd|=n),Qe(t,e)}function Wg(t,e){e===0&&(t.mode&1?(e=Ur,Ur<<=1,!(Ur&130023424)&&(Ur=4194304)):e=1);var n=ze();t=Jt(t,e),t!==null&&(_r(t,e,n),Qe(t,n))}function Hw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Wg(t,n)}function Ww(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(S(314))}i!==null&&i.delete(e),Wg(t,n)}var $g;$g=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qe.current)He=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return He=!1,Pw(t,e,n);He=!!(t.flags&131072)}else He=!1,ee&&e.flags&1048576&&Gm(e,Po,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ao(t,e),t=e.pendingProps;var s=Wi(e,De.current);Ai(e,n),s=Zc(null,e,i,t,s,n);var r=ed();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(i)?(r=!0,Io(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qc(e),s.updater=vl,e.stateNode=s,s._reactInternals=e,Pu(e,i,t,n),e=Mu(null,e,i,!0,r,n)):(e.tag=0,ee&&r&&jc(e),Le(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(ao(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Vw(i),t=yt(i,t),s){case 0:e=Ou(null,e,i,t,n);break e;case 1:e=nf(null,e,i,t,n);break e;case 11:e=ef(null,e,i,t,n);break e;case 14:e=tf(null,e,i,yt(i.type,t),n);break e}throw Error(S(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:yt(i,s),Ou(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:yt(i,s),nf(t,e,i,s,n);case 3:e:{if(Tg(e),t===null)throw Error(S(387));i=e.pendingProps,r=e.memoizedState,s=r.element,Xm(t,e),Mo(e,i,null,n);var o=e.memoizedState;if(i=o.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Gi(Error(S(423)),e),e=sf(t,e,i,n,s);break e}else if(i!==s){s=Gi(Error(S(424)),e),e=sf(t,e,i,n,s);break e}else for(Ze=yn(e.stateNode.containerInfo.firstChild),et=e,ee=!0,_t=null,n=tg(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($i(),i===s){e=Zt(t,e,n);break e}Le(t,e,i,n)}e=e.child}return e;case 5:return ng(e),t===null&&Tu(e),i=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,o=s.children,Eu(i,s)?o=null:r!==null&&Eu(i,r)&&(e.flags|=32),bg(t,e),Le(t,e,o,n),e.child;case 6:return t===null&&Tu(e),null;case 13:return Ig(t,e,n);case 4:return Yc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Vi(e,null,i,n):Le(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:yt(i,s),ef(t,e,i,s,n);case 7:return Le(t,e,e.pendingProps,n),e.child;case 8:return Le(t,e,e.pendingProps.children,n),e.child;case 12:return Le(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Y(No,i._currentValue),i._currentValue=o,r!==null)if(Rt(r.value,o)){if(r.children===s.children&&!qe.current){e=Zt(t,e,n);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===i){if(r.tag===1){a=Vt(-1,n&-n),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Iu(r.return,n,e),l.lanes|=n;break}a=a.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Iu(o,n,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Le(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Ai(e,n),s=ft(s),i=i(s),e.flags|=1,Le(t,e,i,n),e.child;case 14:return i=e.type,s=yt(i,e.pendingProps),s=yt(i.type,s),tf(t,e,i,s,n);case 15:return xg(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:yt(i,s),ao(t,e),e.tag=1,Ge(i)?(t=!0,Io(e)):t=!1,Ai(e,n),Zm(e,i,s),Pu(e,i,s,n),Mu(null,e,i,!0,t,n);case 19:return Rg(t,e,n);case 22:return kg(t,e,n)}throw Error(S(156,e.tag))};function Vg(t,e){return ym(t,e)}function $w(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ct(t,e,n,i){return new $w(t,e,n,i)}function cd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vw(t){if(typeof t=="function")return cd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rc)return 11;if(t===Pc)return 14}return 2}function Cn(t,e){var n=t.alternate;return n===null?(n=ct(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ho(t,e,n,i,s,r){var o=2;if(i=t,typeof t=="function")cd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case gi:return Gn(n.children,s,r,e);case Ic:o=8,s|=8;break;case eu:return t=ct(12,n,e,s|2),t.elementType=eu,t.lanes=r,t;case tu:return t=ct(13,n,e,s),t.elementType=tu,t.lanes=r,t;case nu:return t=ct(19,n,e,s),t.elementType=nu,t.lanes=r,t;case em:return El(n,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jp:o=10;break e;case Zp:o=9;break e;case Rc:o=11;break e;case Pc:o=14;break e;case ln:o=16,i=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=ct(o,n,e,s),e.elementType=t,e.type=i,e.lanes=r,e}function Gn(t,e,n,i){return t=ct(7,t,i,e),t.lanes=n,t}function El(t,e,n,i){return t=ct(22,t,i,e),t.elementType=em,t.lanes=n,t.stateNode={isHidden:!1},t}function _a(t,e,n){return t=ct(6,t,null,e),t.lanes=n,t}function wa(t,e,n){return e=ct(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qw(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ea(0),this.expirationTimes=ea(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function dd(t,e,n,i,s,r,o,l,a){return t=new qw(t,e,n,l,a),e===1?(e=1,r===!0&&(e|=8)):e=0,r=ct(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(r),t}function Gw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mi,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function qg(t){if(!t)return Tn;t=t._reactInternals;e:{if(ui(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ge(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(Ge(n))return Vm(t,n,e)}return e}function Gg(t,e,n,i,s,r,o,l,a){return t=dd(n,i,!0,t,s,r,o,l,a),t.context=qg(null),n=t.current,i=ze(),s=wn(n),r=Vt(i,s),r.callback=e??null,vn(n,r,s),t.current.lanes=s,_r(t,s,i),Qe(t,i),t}function Sl(t,e,n,i){var s=e.current,r=ze(),o=wn(s);return n=qg(n),e.context===null?e.context=n:e.pendingContext=n,e=Vt(r,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=vn(s,e,o),t!==null&&(xt(t,s,o,r),ro(t,s,o)),o}function jo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hd(t,e){pf(t,e),(t=t.alternate)&&pf(t,e)}function Qw(){return null}var Qg=typeof reportError=="function"?reportError:function(t){console.error(t)};function fd(t){this._internalRoot=t}xl.prototype.render=fd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Sl(t,e,null,null)};xl.prototype.unmount=fd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zn(function(){Sl(null,t,null,null)}),e[Xt]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var e=xm();t={blockedOn:null,target:t,priority:e};for(var n=0;n<un.length&&e!==0&&e<un[n].priority;n++);un.splice(n,0,t),n===0&&bm(t)}};function pd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Yw(t,e,n,i,s){if(s){if(typeof i=="function"){var r=i;i=function(){var u=jo(o);r.call(u)}}var o=Gg(e,i,t,0,null,!1,!1,"",mf);return t._reactRootContainer=o,t[Xt]=o.current,Ys(t.nodeType===8?t.parentNode:t),Zn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var l=i;i=function(){var u=jo(a);l.call(u)}}var a=dd(t,0,!1,null,null,!1,!1,"",mf);return t._reactRootContainer=a,t[Xt]=a.current,Ys(t.nodeType===8?t.parentNode:t),Zn(function(){Sl(e,a,n,i)}),a}function bl(t,e,n,i,s){var r=n._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=jo(o);l.call(a)}}Sl(e,o,t,s)}else o=Yw(n,e,t,s,i);return jo(o)}Em=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xs(e.pendingLanes);n!==0&&(Mc(e,n|1),Qe(e,ue()),!(W&6)&&(Qi=ue()+500,On()))}break;case 13:Zn(function(){var i=Jt(t,1);if(i!==null){var s=ze();xt(i,t,1,s)}}),hd(t,1)}};Dc=function(t){if(t.tag===13){var e=Jt(t,134217728);if(e!==null){var n=ze();xt(e,t,134217728,n)}hd(t,134217728)}};Sm=function(t){if(t.tag===13){var e=wn(t),n=Jt(t,e);if(n!==null){var i=ze();xt(n,t,e,i)}hd(t,e)}};xm=function(){return V};km=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};hu=function(t,e,n){switch(e){case"input":if(ru(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=gl(i);if(!s)throw Error(S(90));nm(i),ru(i,s)}}}break;case"textarea":sm(t,n);break;case"select":e=n.value,e!=null&&Ni(t,!!n.multiple,e,!1)}};dm=ld;hm=Zn;var Kw={usingClientEntryPoint:!1,Events:[Cr,wi,gl,um,cm,ld]},gs={findFiberByHostInstance:Hn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Xw={bundleType:gs.bundleType,version:gs.version,rendererPackageName:gs.rendererPackageName,rendererConfig:gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mm(t),t===null?null:t.stateNode},findFiberByHostInstance:gs.findFiberByHostInstance||Qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xr.isDisabled&&Xr.supportsFiber)try{hl=Xr.inject(Xw),Lt=Xr}catch{}}rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kw;rt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pd(e))throw Error(S(200));return Gw(t,e,null,n)};rt.createRoot=function(t,e){if(!pd(t))throw Error(S(299));var n=!1,i="",s=Qg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dd(t,1,!1,null,null,n,!1,i,s),t[Xt]=e.current,Ys(t.nodeType===8?t.parentNode:t),new fd(e)};rt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=mm(e),t=t===null?null:t.stateNode,t};rt.flushSync=function(t){return Zn(t)};rt.hydrate=function(t,e,n){if(!kl(e))throw Error(S(200));return bl(null,t,e,!0,n)};rt.hydrateRoot=function(t,e,n){if(!pd(t))throw Error(S(405));var i=n!=null&&n.hydratedSources||null,s=!1,r="",o=Qg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Gg(e,null,t,1,n??null,s,!1,r,o),t[Xt]=e.current,Ys(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new xl(e)};rt.render=function(t,e,n){if(!kl(e))throw Error(S(200));return bl(null,t,e,!1,n)};rt.unmountComponentAtNode=function(t){if(!kl(t))throw Error(S(40));return t._reactRootContainer?(Zn(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[Xt]=null})}),!0):!1};rt.unstable_batchedUpdates=ld;rt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!kl(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return bl(t,e,n,!1,i)};rt.version="18.2.0-next-9e3b772b8-20220608";function Yg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yg)}catch(t){console.error(t)}}Yg(),Gp.exports=rt;var Jw=Gp.exports,gf=Jw;Ja.createRoot=gf.createRoot,Ja.hydrateRoot=gf.hydrateRoot;var yf={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw rs(e)},rs=function(t){return new Error("Firebase Database ("+Kg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Zw=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=t[n++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=t[n++],o=t[n++],l=t[n++],a=((s&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},md={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const r=t[s],o=s+1<t.length,l=o?t[s+1]:0,a=s+2<t.length,u=a?t[s+2]:0,d=r>>2,c=(r&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;a||(f=64,o||(h=64)),i.push(n[d],n[c],n[h],n[f])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Zw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const r=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const c=s<t.length?n[t.charAt(s)]:64;if(++s,r==null||l==null||u==null||c==null)throw new eC;const h=r<<2|l>>4;if(i.push(h),u!==64){const f=l<<4&240|u>>2;if(i.push(f),c!==64){const g=u<<6&192|c;i.push(g)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jg=function(t){const e=Xg(t);return md.encodeByteArray(e,!0)},Ho=function(t){return Jg(t).replace(/\./g,"")},Vu=function(t){try{return md.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return Zg(void 0,t)}function Zg(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!nC(n)||(t[n]=Zg(t[n],e[n]));return t}function nC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=()=>iC().__FIREBASE_DEFAULTS__,rC=()=>{if(typeof process>"u"||typeof yf>"u")return;const t=yf.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vu(t[1]);return e&&JSON.parse(e)},ey=()=>{try{return sC()||rC()||oC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>{var e,n;return(n=(e=ey())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aC=t=>{const e=lC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},ty=()=>{var t;return(t=ey())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ho(JSON.stringify(n)),Ho(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ny(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cC())}function dC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iy(){return Kg.NODE_ADMIN===!0}function hC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="FirebaseError";class Sr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=pC,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sy.prototype.create)}}class sy{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?mC(r,i):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Sr(s,l,i)}}function mC(t,e){return t.replace(gC,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const gC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ry=function(t){let e={},n={},i={},s="";try{const r=t.split(".");e=sr(Vu(r[0])||""),n=sr(Vu(r[1])||""),s=r[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},yC=function(t){const e=ry(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},vC=function(t){const e=ry(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function qu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const r=t[s],o=e[s];if(_f(r)&&_f(o)){if(!qu(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function _f(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let c=0;c<16;c++)i[c]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let c=0;c<16;c++)i[c]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let c=16;c<80;c++){const h=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=(h<<1|h>>>31)&4294967295}let s=this.chain_[0],r=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,d;for(let c=0;c<80;c++){c<40?c<20?(u=l^r&(o^l),d=1518500249):(u=r^o^l,d=1859775393):c<60?(u=r&o|l&(r|o),d=2400959708):(u=r^o^l,d=3395469782);const h=(s<<5|s>>>27)+u+a+d+i[c]&4294967295;a=l,l=o,o=(r<<30|r>>>2)&4294967295,r=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const r=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(r[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}else for(;s<n;)if(r[o]=e[s],++o,++s,o===this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let r=24;r>=0;r-=8)e[i]=this.chain_[s]>>r&255,++i;return e}}function oy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const r=s-55296;i++,k(i<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(i)-56320;s=65536+(r<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Tl=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){return t&&t._delegate?t._delegate:t}class rr{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new gd;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:Un})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Un){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Un){return this.instances.has(e)}getOptions(e=Un){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&o.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SC(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Un){return this.component?this.component.multipleInstances?e:Un:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SC(t){return t===Un?void 0:t}function xC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(G||(G={}));const bC={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},TC=G.INFO,IC={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},RC=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=IC[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ly{constructor(e){this.name=e,this._logLevel=TC,this._logHandler=RC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...e),this._logHandler(this,G.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...e),this._logHandler(this,G.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,G.INFO,...e),this._logHandler(this,G.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,G.WARN,...e),this._logHandler(this,G.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...e),this._logHandler(this,G.ERROR,...e)}}const PC=(t,e)=>e.some(n=>t instanceof n);let wf,Cf;function NC(){return wf||(wf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OC(){return Cf||(Cf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ay=new WeakMap,Gu=new WeakMap,uy=new WeakMap,Ca=new WeakMap,yd=new WeakMap;function MC(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(En(t.result)),s()},o=()=>{i(t.error),s()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&ay.set(n,t)}).catch(()=>{}),yd.set(e,t),e}function DC(t){if(Gu.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});Gu.set(t,e)}let Qu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return En(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AC(t){Qu=t(Qu)}function LC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Ea(this),e,...n);return uy.set(i,e.sort?e.sort():[e]),En(i)}:OC().includes(t)?function(...e){return t.apply(Ea(this),e),En(ay.get(this))}:function(...e){return En(t.apply(Ea(this),e))}}function zC(t){return typeof t=="function"?LC(t):(t instanceof IDBTransaction&&DC(t),PC(t,NC())?new Proxy(t,Qu):t)}function En(t){if(t instanceof IDBRequest)return MC(t);if(Ca.has(t))return Ca.get(t);const e=zC(t);return e!==t&&(Ca.set(t,e),yd.set(e,t)),e}const Ea=t=>yd.get(t);function FC(t,e,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(t,e),l=En(o);return i&&o.addEventListener("upgradeneeded",a=>{i(En(o.result),a.oldVersion,a.newVersion,En(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),s&&a.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const BC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],Sa=new Map;function Ef(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sa.get(e))return Sa.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=UC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BC.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,s?"readwrite":"readonly");let u=a.store;return i&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&a.done]))[0]};return Sa.set(e,r),r}AC(t=>({...t,get:(e,n,i)=>Ef(e,n)||t.get(e,n,i),has:(e,n)=>!!Ef(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function HC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yu="@firebase/app",Sf="0.10.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new ly("@firebase/app"),WC="@firebase/app-compat",$C="@firebase/analytics-compat",VC="@firebase/analytics",qC="@firebase/app-check-compat",GC="@firebase/app-check",QC="@firebase/auth",YC="@firebase/auth-compat",KC="@firebase/database",XC="@firebase/database-compat",JC="@firebase/functions",ZC="@firebase/functions-compat",eE="@firebase/installations",tE="@firebase/installations-compat",nE="@firebase/messaging",iE="@firebase/messaging-compat",sE="@firebase/performance",rE="@firebase/performance-compat",oE="@firebase/remote-config",lE="@firebase/remote-config-compat",aE="@firebase/storage",uE="@firebase/storage-compat",cE="@firebase/firestore",dE="@firebase/firestore-compat",hE="firebase",fE="10.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku="[DEFAULT]",pE={[Yu]:"fire-core",[WC]:"fire-core-compat",[VC]:"fire-analytics",[$C]:"fire-analytics-compat",[GC]:"fire-app-check",[qC]:"fire-app-check-compat",[QC]:"fire-auth",[YC]:"fire-auth-compat",[KC]:"fire-rtdb",[XC]:"fire-rtdb-compat",[JC]:"fire-fn",[ZC]:"fire-fn-compat",[eE]:"fire-iid",[tE]:"fire-iid-compat",[nE]:"fire-fcm",[iE]:"fire-fcm-compat",[sE]:"fire-perf",[rE]:"fire-perf-compat",[oE]:"fire-rc",[lE]:"fire-rc-compat",[aE]:"fire-gcs",[uE]:"fire-gcs-compat",[cE]:"fire-fst",[dE]:"fire-fst-compat","fire-js":"fire-js",[hE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=new Map,mE=new Map,Xu=new Map;function xf(t,e){try{t.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Xu.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;Xu.set(e,t);for(const n of $o.values())xf(n,t);for(const n of mE.values())xf(n,t);return!0}function gE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new sy("app","Firebase",yE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=fE;function cy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ku,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Sn.create("bad-app-name",{appName:String(s)});if(n||(n=ty()),!n)throw Sn.create("no-options");const r=$o.get(s);if(r){if(qu(n,r.options)&&qu(i,r.config))return r;throw Sn.create("duplicate-app",{appName:s})}const o=new kC(s);for(const a of Xu.values())o.addComponent(a);const l=new vE(n,i,o);return $o.set(s,l),l}function wE(t=Ku){const e=$o.get(t);if(!e&&t===Ku&&ty())return cy();if(!e)throw Sn.create("no-app",{appName:t});return e}function zi(t,e,n){var i;let s=(i=pE[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${s}" with version "${e}":`];r&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(l.join(" "));return}Vo(new rr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="firebase-heartbeat-database",EE=1,or="firebase-heartbeat-store";let xa=null;function dy(){return xa||(xa=FC(CE,EE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(or)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),xa}async function SE(t){try{const n=(await dy()).transaction(or),i=await n.objectStore(or).get(hy(t));return await n.done,i}catch(e){if(e instanceof Sr)ei.warn(e.message);else{const n=Sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ei.warn(n.message)}}}async function kf(t,e){try{const i=(await dy()).transaction(or,"readwrite");await i.objectStore(or).put(e,hy(t)),await i.done}catch(n){if(n instanceof Sr)ei.warn(n.message);else{const i=Sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ei.warn(i.message)}}}function hy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=1024,kE=30*24*60*60*1e3;class bE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IE(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=bf();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=kE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bf(),{heartbeatsToSend:i,unsentEntries:s}=TE(this._heartbeatsCache.heartbeats),r=Ho(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function bf(){return new Date().toISOString().substring(0,10)}function TE(t,e=xE){const n=[];let i=t.slice();for(const s of t){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Tf(n)>e){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Tf(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Tf(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t){Vo(new rr("platform-logger",e=>new jC(e),"PRIVATE")),Vo(new rr("heartbeat",e=>new bE(e),"PRIVATE")),zi(Yu,Sf,t),zi(Yu,Sf,"esm2017"),zi("fire-js","")}RE("");var PE="firebase",NE="10.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zi(PE,NE,"app");var If={};const Rf="@firebase/database",Pf="1.0.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fy="";function OE(t){fy=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return nn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ME(e)}}catch{}return new DE},Vn=py("localStorage"),Ju=py("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new ly("@firebase/database"),AE=function(){let t=1;return function(){return t++}}(),my=function(t){const e=CC(t),n=new wC;n.update(e);const i=n.digest();return md.encodeByteArray(i)},xr=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=xr.apply(null,i):typeof i=="object"?e+=_e(i):e+=i,e+=" "}return e};let Qn=null,Nf=!0;const LE=function(t,e){k(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Fi.logLevel=G.VERBOSE,Qn=Fi.log.bind(Fi),e&&Ju.set("logging_enabled",!0)):typeof t=="function"?Qn=t:(Qn=null,Ju.remove("logging_enabled"))},Pe=function(...t){if(Nf===!0&&(Nf=!1,Qn===null&&Ju.get("logging_enabled")===!0&&LE(!0)),Qn){const e=xr.apply(null,t);Qn(e)}},kr=function(t){return function(...e){Pe(t,...e)}},Zu=function(...t){const e="FIREBASE INTERNAL ERROR: "+xr(...t);Fi.error(e)},en=function(...t){const e=`FIREBASE FATAL ERROR: ${xr(...t)}`;throw Fi.error(e),new Error(e)},tt=function(...t){const e="FIREBASE WARNING: "+xr(...t);Fi.warn(e)},zE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},gy=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},FE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ki="[MIN_NAME]",ti="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===Ki||e===ti)return-1;if(e===Ki||t===ti)return 1;{const n=Of(t),i=Of(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},BE=function(t,e){return t===e?0:t<e?-1:1},ys=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},vd=function(t){if(typeof t!="object"||t===null)return _e(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=_e(e[i]),n+=":",n+=vd(t[e[i]]);return n+="}",n},yy=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Ye(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const vy=function(t){k(!gy(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,r,o,l,a;t===0?(r=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),i),r=l+i,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(r=0,o=Math.round(t/Math.pow(2,1-i-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);u.push(s?1:0),u.reverse();const d=u.join("");let c="";for(a=0;a<64;a+=8){let h=parseInt(d.substr(a,8),2).toString(16);h.length===1&&(h="0"+h),c=c+h}return c.toLowerCase()},UE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},jE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function HE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const WE=new RegExp("^-?(0*)\\d{1,10}$"),$E=-2147483648,VE=2147483647,Of=function(t){if(WE.test(t)){const e=Number(t);if(e>=$E&&e<=VE)return e}return null},br=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw tt("Exception was thrown by user callback.",n),e},Math.floor(0))}},qE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},As=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){tt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tt(e)}}class Bi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Bi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="5",_y="v",wy="s",Cy="r",Ey="f",Sy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xy="ls",ky="p",ec="ac",by="websocket",Ty="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e,n,i,s,r=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=r,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function YE(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ry(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let i;if(e===by)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Ty)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);YE(t)&&(n.ns=t.namespace);const s=[];return Ye(n,(r,o)=>{s.push(r+"="+o)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.counters_={}}incrementCounter(e,n=1){nn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return tC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={},ba={};function wd(t){const e=t.toString();return ka[e]||(ka[e]=new KE),ka[e]}function XE(t,e){const n=t.toString();return ba[n]||(ba[n]=e()),ba[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&br(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="start",ZE="close",eS="pLPCommand",tS="pRTLPCB",Py="id",Ny="pw",Oy="ser",nS="cb",iS="seg",sS="ts",rS="d",oS="dframe",My=1870,Dy=30,lS=My-Dy,aS=25e3,uS=3e4;class Ti{constructor(e,n,i,s,r,o,l){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=kr(e),this.stats_=wd(n),this.urlFn=a=>(this.appCheckToken&&(a[ec]=this.appCheckToken),Ry(n,Ty,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new JE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(uS)),FE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Cd((...r)=>{const[o,l,a,u,d]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Mf)this.id=l,this.password=a;else if(o===ZE)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...r)=>{const[o,l]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const i={};i[Mf]="t",i[Oy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[nS]=this.scriptTagHolder.uniqueCallbackIdentifier),i[_y]=_d,this.transportSessionId&&(i[wy]=this.transportSessionId),this.lastSessionId&&(i[xy]=this.lastSessionId),this.applicationId&&(i[ky]=this.applicationId),this.appCheckToken&&(i[ec]=this.appCheckToken),typeof location<"u"&&location.hostname&&Sy.test(location.hostname)&&(i[Cy]=Ey);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ti.forceAllow_=!0}static forceDisallow(){Ti.forceDisallow_=!0}static isAvailable(){return Ti.forceAllow_?!0:!Ti.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!UE()&&!jE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Jg(n),s=yy(i,lS);for(let r=0;r<s.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[r]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[oS]="t",i[Py]=e,i[Ny]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Cd{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=AE(),window[eS+this.uniqueCallbackIdentifier]=e,window[tS+this.uniqueCallbackIdentifier]=n,this.myIFrame=Cd.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Pe("frame writing exception"),l.stack&&Pe(l.stack),Pe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pe("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Py]=this.myID,e[Ny]=this.myPW,e[Oy]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Dy+i.length<=My;){const o=this.pendingSegs.shift();i=i+"&"+iS+s+"="+o.seg+"&"+sS+s+"="+o.ts+"&"+rS+s+"="+o.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(aS)),r=()=>{clearTimeout(s),i()};this.addTag(e,r)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=16384,dS=45e3;let qo=null;typeof MozWebSocket<"u"?qo=MozWebSocket:typeof WebSocket<"u"&&(qo=WebSocket);class wt{constructor(e,n,i,s,r,o,l){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=kr(this.connId),this.stats_=wd(n),this.connURL=wt.connectionURL_(n,o,l,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,r){const o={};return o[_y]=_d,typeof location<"u"&&location.hostname&&Sy.test(location.hostname)&&(o[Cy]=Ey),n&&(o[wy]=n),i&&(o[xy]=i),s&&(o[ec]=s),r&&(o[ky]=r),Ry(e,by,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vn.set("previous_websocket_failure",!0);try{let i;iy(),this.mySock=new qo(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){wt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&qo!==null&&!wt.forceDisallow_}static previouslyFailed(){return Vn.isInMemoryStorage||Vn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=sr(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=yy(n,cS);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dS))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}wt.responsesRequiredToBeHealthy=2;wt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ti,wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=wt&&wt.isAvailable();let i=n&&!wt.previouslyFailed();if(e.webSocketOnly&&(n||tt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wt];else{const s=this.transports_=[];for(const r of lr.ALL_TRANSPORTS)r&&r.isAvailable()&&s.push(r);lr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS=6e4,fS=5e3,pS=10*1024,mS=100*1024,Ta="t",Df="d",gS="s",Af="r",yS="e",Lf="o",zf="a",Ff="n",Bf="p",vS="h";class _S{constructor(e,n,i,s,r,o,l,a,u,d){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=r,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=kr("c:"+this.id+":"),this.transportManager_=new lr(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=As(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>pS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ta in e){const n=e[Ta];n===zf?this.upgradeIfSecondaryHealthy_():n===Af?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Lf&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ys("t",e),i=ys("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ff,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ys("t",e),i=ys("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ys(Ta,e);if(Df in e){const i=e[Df];if(n===vS){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Ff){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===gS?this.onConnectionShutdown_(i):n===Af?this.onReset_(i):n===yS?Zu("Server Error: "+i):n===Lf?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),_d!==i&&tt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),As(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hS))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):As(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(fS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let r=0;r<s.length;r++)if(s[r].callback===n&&(!i||i===s[r].context)){s.splice(r,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go extends Ly{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ny()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Go}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=32,jf=768;class q{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $(){return new q("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function In(t){return t.pieces_.length-t.pieceNum_}function Q(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new q(t.pieces_,e)}function zy(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function wS(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Fy(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function By(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new q(e,0)}function fe(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof q)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new q(n,0)}function B(t){return t.pieceNum_>=t.pieces_.length}function We(t,e){const n=F(t),i=F(e);if(n===null)return e;if(n===i)return We(Q(t),Q(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ed(t,e){if(In(t)!==In(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(In(t)>In(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class CS{constructor(e,n){this.errorPrefix_=n,this.parts_=Fy(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Tl(this.parts_[i]);Uy(this)}}function ES(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tl(e),Uy(t)}function SS(t){const e=t.parts_.pop();t.byteLength_-=Tl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Uy(t){if(t.byteLength_>jf)throw new Error(t.errorPrefix_+"has a key path longer than "+jf+" bytes ("+t.byteLength_+").");if(t.parts_.length>Uf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uf+") or object contains a cycle "+jn(t))}function jn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Ly{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Sd}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=1e3,xS=60*5*1e3,Hf=30*1e3,kS=1.3,bS=3e4,TS="server_kill",Wf=3;class qt extends Ay{constructor(e,n,i,s,r,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=qt.nextPersistentConnectionId_++,this.log_=kr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=vs,this.maxReconnectDelay_=xS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!iy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Sd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Go.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,r={r:s,a:e,b:n};this.log_(_e(r)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new gd,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),n.promise}listen(e,n,i,s){this.initConnection_();const r=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+r),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(r),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(o).set(r,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const r={p:i},o="q";e.tag&&(r.q=n._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest(o,r,l=>{const a=l.d,u=l.s;qt.warnOnListenWarnings_(a,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&nn(e,"w")){const i=Yi(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',r=n._path.toString();tt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||vC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=yC(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const r=s.s,o=s.d||"error";this.authToken_===e&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const r={p:e},o="n";s&&(r.q=i,r.t=s),this.sendRequest(o,r)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const r={p:n,d:i};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,r){this.initConnection_();const o={p:n,d:i};r!==void 0&&(o.h=r),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,r=>{this.log_(n+" response",r),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(r.s,r.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const r=i.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+_e(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Zu("Unrecognized action received from server: "+_e(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>bS&&(this.reconnectDelay_=vs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qt.nextConnectionId_++,r=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,i())},u=function(c){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(c)};this.realtime_={close:a,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[c,h]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?Pe("getToken() completed but was canceled"):(Pe("getToken() completed. Creating connection."),this.authToken_=c&&c.accessToken,this.appCheckToken_=h&&h.token,l=new _S(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,f=>{tt(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(TS)},r))}catch(c){this.log_("Failed to get token: "+c),o||(this.repoInfo_.nodeAdmin&&tt(c),a())}}}interrupt(e){Pe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],vf(this.interruptReasons_)&&(this.reconnectDelay_=vs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(r=>vd(r)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new q(e).toString();let s;if(this.listens.has(i)){const r=this.listens.get(i);s=r.get(n),r.delete(n),r.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){Pe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wf&&(this.reconnectDelay_=Hf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wf&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+fy.replace(/\./g,"-")]=1,ny()?e["framework.cordova"]=1:dC()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Go.getInstance().currentlyOnline();return vf(this.interruptReasons_)&&e}}qt.nextPersistentConnectionId_=0;qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new z(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new z(Ki,e),s=new z(Ki,n);return this.compare(i,s)!==0}minPost(){return z.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jr;class jy extends Rl{static get __EMPTY_NODE(){return Jr}static set __EMPTY_NODE(e){Jr=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw rs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return z.MIN}maxPost(){return new z(ti,Jr)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new z(e,Jr)}toString(){return".key"}}const Ui=new jy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,i,s,r=null){this.isReverse_=s,this.resultGenerator_=r,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ve{constructor(e,n,i,s,r){this.key=e,this.value=n,this.color=i??ve.RED,this.left=s??$e.EMPTY_NODE,this.right=r??$e.EMPTY_NODE}copy(e,n,i,s,r){return new ve(e??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const r=i(e,s.key);return r<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):r===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return $e.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return $e.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ve.RED=!0;ve.BLACK=!1;class IS{copy(e,n,i,s,r){return this}insert(e,n,i){return new ve(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class $e{constructor(e,n=$e.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new $e(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ve.BLACK,null,null))}remove(e){return new $e(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ve.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zr(this.root_,null,this.comparator_,!0,e)}}$e.EMPTY_NODE=new IS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){return os(t.name,e.name)}function xd(t,e){return os(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function PS(t){tc=t}const Hy=function(t){return typeof t=="number"?"number:"+vy(t):"string:"+t},Wy=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&nn(e,".sv"),"Priority must be a string or number.")}else k(t===tc||t.isEmpty(),"priority of unexpected type.");k(t===tc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;class ge{constructor(e,n=ge.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Wy(this.priorityNode_)}static set __childrenNodeConstructor(e){$f=e}static get __childrenNodeConstructor(){return $f}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new ge(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:ge.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return B(e)?this:F(e)===".priority"?this.priorityNode_:ge.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:ge.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=F(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(k(i!==".priority"||In(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,ge.__childrenNodeConstructor.EMPTY_NODE.updateChild(Q(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hy(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=vy(this.value_):e+=this.value_,this.lazyHash_=my(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===ge.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof ge.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=ge.VALUE_TYPE_ORDER.indexOf(n),r=ge.VALUE_TYPE_ORDER.indexOf(i);return k(s>=0,"Unknown leaf type: "+n),k(r>=0,"Unknown leaf type: "+i),s===r?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}ge.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $y,Vy;function NS(t){$y=t}function OS(t){Vy=t}class MS extends Rl{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),r=i.compareTo(s);return r===0?os(e.name,n.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return z.MIN}maxPost(){return new z(ti,new ge("[PRIORITY-POST]",Vy))}makePost(e,n){const i=$y(e);return new z(n,new ge("[PRIORITY-POST]",i))}toString(){return".priority"}}const oe=new MS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=Math.log(2);class AS{constructor(e){const n=r=>parseInt(Math.log(r)/DS,10),i=r=>parseInt(Array(r+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qo=function(t,e,n,i){t.sort(e);const s=function(a,u){const d=u-a;let c,h;if(d===0)return null;if(d===1)return c=t[a],h=n?n(c):c,new ve(h,c.node,ve.BLACK,null,null);{const f=parseInt(d/2,10)+a,g=s(a,f),y=s(f+1,u);return c=t[f],h=n?n(c):c,new ve(h,c.node,ve.BLACK,g,y)}},r=function(a){let u=null,d=null,c=t.length;const h=function(g,y){const C=c-g,p=c;c-=g;const m=s(C+1,p),v=t[C],_=n?n(v):v;f(new ve(_,v.node,y,null,m))},f=function(g){u?(u.left=g,u=g):(d=g,u=g)};for(let g=0;g<a.count;++g){const y=a.nextBitIsOne(),C=Math.pow(2,a.count-(g+1));y?h(C,ve.BLACK):(h(C,ve.BLACK),h(C,ve.RED))}return d},o=new AS(t.length),l=r(o);return new $e(i||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ia;const fi={};class $t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return k(fi&&oe,"ChildrenNode.ts has not been loaded"),Ia=Ia||new $t({".priority":fi},{".priority":oe}),Ia}get(e){const n=Yi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof $e?n:null}hasIndex(e){return nn(this.indexSet_,e.toString())}addIndex(e,n){k(e!==Ui,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const r=n.getIterator(z.Wrap);let o=r.getNext();for(;o;)s=s||e.isDefinedOn(o.node),i.push(o),o=r.getNext();let l;s?l=Qo(i,e.getCompare()):l=fi;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const d=Object.assign({},this.indexes_);return d[a]=l,new $t(d,u)}addToIndexes(e,n){const i=Wo(this.indexes_,(s,r)=>{const o=Yi(this.indexSet_,r);if(k(o,"Missing index implementation for "+r),s===fi)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(z.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),Qo(l,o.getCompare())}else return fi;else{const l=n.get(e.name);let a=s;return l&&(a=a.remove(new z(e.name,l))),a.insert(e,e.node)}});return new $t(i,this.indexSet_)}removeFromIndexes(e,n){const i=Wo(this.indexes_,s=>{if(s===fi)return s;{const r=n.get(e.name);return r?s.remove(new z(e.name,r)):s}});return new $t(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s;class O{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Wy(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return _s||(_s=new O(new $e(xd),null,$t.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||_s}updatePriority(e){return this.children_.isEmpty()?this:new O(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?_s:n}}getChild(e){const n=F(e);return n===null?this:this.getImmediateChild(n).getChild(Q(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new z(e,n);let s,r;n.isEmpty()?(s=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),r=this.indexMap_.addToIndexes(i,this.children_));const o=s.isEmpty()?_s:this.priorityNode_;return new O(s,o,r)}}updateChild(e,n){const i=F(e);if(i===null)return n;{k(F(e)!==".priority"||In(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(Q(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,r=!0;if(this.forEachChild(oe,(o,l)=>{n[o]=l.val(e),i++,r&&O.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):r=!1}),!e&&r&&s<2*i){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hy(this.getPriority().val())+":"),this.forEachChild(oe,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":my(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const r=s.getPredecessorKey(new z(e,n));return r?r.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new z(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new z(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)<0;)s.getNext(),r=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,z.Wrap);let r=s.peek();for(;r!=null&&n.compare(r,e)>0;)s.getNext(),r=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tr?-1:0}withIndex(e){if(e===Ui||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new O(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ui||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(oe),s=n.getIterator(oe);let r=i.getNext(),o=s.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=i.getNext(),o=s.getNext()}return r===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ui?null:this.indexMap_.get(e.toString())}}O.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class LS extends O{constructor(){super(new $e(xd),O.EMPTY_NODE,$t.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return O.EMPTY_NODE}isEmpty(){return!1}}const Tr=new LS;Object.defineProperties(z,{MIN:{value:new z(Ki,O.EMPTY_NODE)},MAX:{value:new z(ti,Tr)}});jy.__EMPTY_NODE=O.EMPTY_NODE;ge.__childrenNodeConstructor=O;PS(Tr);OS(Tr);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS=!0;function Ne(t,e=null){if(t===null)return O.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new ge(n,Ne(e))}if(!(t instanceof Array)&&zS){const n=[];let i=!1;if(Ye(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=Ne(l);a.isEmpty()||(i=i||!a.getPriority().isEmpty(),n.push(new z(o,a)))}}),n.length===0)return O.EMPTY_NODE;const r=Qo(n,RS,o=>o.name,xd);if(i){const o=Qo(n,oe.getCompare());return new O(r,Ne(e),new $t({".priority":o},{".priority":oe}))}else return new O(r,Ne(e),$t.Default)}else{let n=O.EMPTY_NODE;return Ye(t,(i,s)=>{if(nn(t,i)&&i.substring(0,1)!=="."){const r=Ne(s);(r.isLeafNode()||!r.isEmpty())&&(n=n.updateImmediateChild(i,r))}}),n.updatePriority(Ne(e))}}NS(Ne);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS extends Rl{constructor(e){super(),this.indexPath_=e,k(!B(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),r=i.compareTo(s);return r===0?os(e.name,n.name):r}makePost(e,n){const i=Ne(e),s=O.EMPTY_NODE.updateChild(this.indexPath_,i);return new z(n,s)}maxPost(){const e=O.EMPTY_NODE.updateChild(this.indexPath_,Tr);return new z(ti,e)}toString(){return Fy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Rl{compare(e,n){const i=e.node.compareTo(n.node);return i===0?os(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return z.MIN}maxPost(){return z.MAX}makePost(e,n){const i=Ne(e);return new z(n,i)}toString(){return".value"}}const US=new BS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){return{type:"value",snapshotNode:t}}function Xi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ar(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ur(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function jS(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.index_=e}updateChild(e,n,i,s,r,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(i.getChild(s))&&l.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(ar(n,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Xi(n,i)):o.trackChildChange(ur(n,i,l))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(oe,(s,r)=>{n.hasChild(s)||i.trackChildChange(ar(s,r))}),n.isLeafNode()||n.forEachChild(oe,(s,r)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(r)||i.trackChildChange(ur(s,r,o))}else i.trackChildChange(Xi(s,r))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?O.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.indexedFilter_=new kd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=cr.getStartPost_(e),this.endPost_=cr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,r,o){return this.matches(new z(n,i))||(i=O.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,r,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=O.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(O.EMPTY_NODE);const r=this;return n.forEachChild(oe,(o,l)=>{r.matches(new z(o,l))||(s=s.updateImmediateChild(o,O.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new cr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,r,o){return this.rangedFilter_.matches(new z(n,i))||(i=O.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,r,o):this.fullLimitUpdateChild_(e,n,i,r,o)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=O.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=O.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;r.hasNext()&&o<this.limit_;){const l=r.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(O.EMPTY_NODE);let r;this.reverse_?r=s.getReverseIterator(this.index_):r=s.getIterator(this.index_);let o=0;for(;r.hasNext();){const l=r.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,O.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,r){let o;if(this.reverse_){const c=this.index_.getCompare();o=(h,f)=>c(f,h)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const a=new z(n,i),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),d=this.rangedFilter_.matches(a);if(l.hasChild(n)){const c=l.getImmediateChild(n);let h=s.getChildAfterChild(this.index_,u,this.reverse_);for(;h!=null&&(h.name===n||l.hasChild(h.name));)h=s.getChildAfterChild(this.index_,h,this.reverse_);const f=h==null?1:o(h,a);if(d&&!i.isEmpty()&&f>=0)return r!=null&&r.trackChildChange(ur(n,i,c)),l.updateImmediateChild(n,i);{r!=null&&r.trackChildChange(ar(n,c));const y=l.updateImmediateChild(n,O.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(r!=null&&r.trackChildChange(Xi(h.name,h.node)),y.updateImmediateChild(h.name,h.node)):y}}else return i.isEmpty()?e:d&&o(u,a)>=0?(r!=null&&(r.trackChildChange(ar(u.name,u.node)),r.trackChildChange(Xi(n,i))),l.updateImmediateChild(n,i).updateImmediateChild(u.name,O.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ki}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ti}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oe}copy(){const e=new bd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WS(t){return t.loadsAllData()?new kd(t.getIndex()):t.hasLimit()?new HS(t):new cr(t)}function Vf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===oe?n="$priority":t.index_===US?n="$value":t.index_===Ui?n="$key":(k(t.index_ instanceof FS,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=_e(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+_e(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=_e(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==oe&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Ay{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=kr("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const o=Yo.getListenId_(e,i),l={};this.listens_[o]=l;const a=Vf(e._queryParams);this.restRequest_(r+".json",a,(u,d)=>{let c=d;if(u===404&&(c=null,u=null),u===null&&this.onDataUpdate_(r,c,!1,i),Yi(this.listens_,o)===l){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",s(h,null)}})}unlisten(e,n){const i=Yo.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Vf(e._queryParams),i=e._path.toString(),s=new gd;return this.restRequest_(i+".json",n,(r,o)=>{let l=o;r===404&&(l=null,r=null),r===null?(this.onDataUpdate_(i,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,r])=>{s&&s.accessToken&&(n.auth=s.accessToken),r&&r.token&&(n.ac=r.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_C(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(i&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=sr(l.responseText)}catch{tt("Failed to parse JSON response for "+o+": "+l.responseText)}i(null,a)}else l.status!==401&&l.status!==404&&tt("Got unsuccessful REST response for "+o+" Status: "+l.status),i(l.status);i=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.rootNode_=O.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(){return{value:null,children:new Map}}function Gy(t,e,n){if(B(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=F(e);t.children.has(i)||t.children.set(i,Ko());const s=t.children.get(i);e=Q(e),Gy(s,e,n)}}function nc(t,e,n){t.value!==null?n(e,t.value):VS(t,(i,s)=>{const r=new q(e.toString()+"/"+i);nc(s,r,n)})}function VS(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ye(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=10*1e3,GS=30*1e3,QS=5*60*1e3;class YS{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new qS(e);const i=Gf+(GS-Gf)*Math.random();As(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ye(e,(s,r)=>{r>0&&nn(this.statsToReport_,s)&&(n[s]=r,i=!0)}),i&&this.server_.reportStats(n),As(this.reportStats_.bind(this),Math.floor(Math.random()*2*QS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Et||(Et={}));function Qy(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Td(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Id(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Et.ACK_USER_WRITE,this.source=Qy()}operationForChild(e){if(B(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new q(e));return new Xo($(),n,this.revert)}}else return k(F(this.path)===e,"operationForChild called for unrelated child."),new Xo(Q(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){this.source=e,this.path=n,this.type=Et.LISTEN_COMPLETE}operationForChild(e){return B(this.path)?new dr(this.source,$()):new dr(this.source,Q(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Et.OVERWRITE}operationForChild(e){return B(this.path)?new ni(this.source,$(),this.snap.getImmediateChild(e)):new ni(this.source,Q(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Et.MERGE}operationForChild(e){if(B(this.path)){const n=this.children.subtree(new q(e));return n.isEmpty()?null:n.value?new ni(this.source,$(),n.value):new hr(this.source,$(),n)}else return k(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hr(this.source,Q(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(B(e))return this.isFullyInitialized()&&!this.filtered_;const n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function XS(t,e,n,i){const s=[],r=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&r.push(jS(o.childName,o.snapshotNode))}),ws(t,s,"child_removed",e,i,n),ws(t,s,"child_added",e,i,n),ws(t,s,"child_moved",r,i,n),ws(t,s,"child_changed",e,i,n),ws(t,s,"value",e,i,n),s}function ws(t,e,n,i,s,r){const o=i.filter(l=>l.type===n);o.sort((l,a)=>ZS(t,l,a)),o.forEach(l=>{const a=JS(t,l,r);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function JS(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function ZS(t,e,n){if(e.childName==null||n.childName==null)throw rs("Should only compare child_ events.");const i=new z(e.childName,e.snapshotNode),s=new z(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t,e){return{eventCache:t,serverCache:e}}function Ls(t,e,n,i){return Pl(new ii(e,n,i),t.serverCache)}function Yy(t,e,n,i){return Pl(t.eventCache,new ii(e,n,i))}function ic(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function si(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;const ex=()=>(Ra||(Ra=new $e(BE)),Ra);class X{constructor(e,n=ex()){this.value=e,this.children=n}static fromObject(e){let n=new X(null);return Ye(e,(i,s)=>{n=n.set(new q(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$(),value:this.value};if(B(e))return null;{const i=F(e),s=this.children.get(i);if(s!==null){const r=s.findRootMostMatchingPathAndValue(Q(e),n);return r!=null?{path:fe(new q(i),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(B(e))return this;{const n=F(e),i=this.children.get(n);return i!==null?i.subtree(Q(e)):new X(null)}}set(e,n){if(B(e))return new X(n,this.children);{const i=F(e),r=(this.children.get(i)||new X(null)).set(Q(e),n),o=this.children.insert(i,r);return new X(this.value,o)}}remove(e){if(B(e))return this.children.isEmpty()?new X(null):new X(null,this.children);{const n=F(e),i=this.children.get(n);if(i){const s=i.remove(Q(e));let r;return s.isEmpty()?r=this.children.remove(n):r=this.children.insert(n,s),this.value===null&&r.isEmpty()?new X(null):new X(this.value,r)}else return this}}get(e){if(B(e))return this.value;{const n=F(e),i=this.children.get(n);return i?i.get(Q(e)):null}}setTree(e,n){if(B(e))return n;{const i=F(e),r=(this.children.get(i)||new X(null)).setTree(Q(e),n);let o;return r.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,r),new X(this.value,o)}}fold(e){return this.fold_($(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,r)=>{i[s]=r.fold_(fe(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,$(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(B(e))return null;{const r=F(e),o=this.children.get(r);return o?o.findOnPath_(Q(e),fe(n,r),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$(),n)}foreachOnPath_(e,n,i){if(B(e))return this;{this.value&&i(n,this.value);const s=F(e),r=this.children.get(s);return r?r.foreachOnPath_(Q(e),fe(n,s),i):new X(null)}}foreach(e){this.foreach_($(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(fe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.writeTree_=e}static empty(){return new kt(new X(null))}}function zs(t,e,n){if(B(e))return new kt(new X(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let r=i.value;const o=We(s,e);return r=r.updateChild(o,n),new kt(t.writeTree_.set(s,r))}else{const s=new X(n),r=t.writeTree_.setTree(e,s);return new kt(r)}}}function Qf(t,e,n){let i=t;return Ye(n,(s,r)=>{i=zs(i,fe(e,s),r)}),i}function Yf(t,e){if(B(e))return kt.empty();{const n=t.writeTree_.setTree(e,new X(null));return new kt(n)}}function sc(t,e){return ci(t,e)!=null}function ci(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(We(n.path,e)):null}function Kf(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(oe,(i,s)=>{e.push(new z(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new z(i,s.value))}),e}function xn(t,e){if(B(e))return t;{const n=ci(t,e);return n!=null?new kt(new X(n)):new kt(t.writeTree_.subtree(e))}}function rc(t){return t.writeTree_.isEmpty()}function Ji(t,e){return Ky($(),t.writeTree_,e)}function Ky(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,r)=>{s===".priority"?(k(r.value!==null,"Priority writes must always be leaf nodes"),i=r.value):n=Ky(fe(t,s),r,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(fe(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e){return ev(e,t)}function tx(t,e,n,i,s){k(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=zs(t.visibleWrites,e,n)),t.lastWriteId=i}function nx(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function ix(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,r=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&sx(l,i.path)?s=!1:Ct(i.path,l.path)&&(r=!0)),o--}if(s){if(r)return rx(t),!0;if(i.snap)t.visibleWrites=Yf(t.visibleWrites,i.path);else{const l=i.children;Ye(l,a=>{t.visibleWrites=Yf(t.visibleWrites,fe(i.path,a))})}return!0}else return!1}function sx(t,e){if(t.snap)return Ct(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Ct(fe(t.path,n),e))return!0;return!1}function rx(t){t.visibleWrites=Xy(t.allWrites,ox,$()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ox(t){return t.visible}function Xy(t,e,n){let i=kt.empty();for(let s=0;s<t.length;++s){const r=t[s];if(e(r)){const o=r.path;let l;if(r.snap)Ct(n,o)?(l=We(n,o),i=zs(i,l,r.snap)):Ct(o,n)&&(l=We(o,n),i=zs(i,$(),r.snap.getChild(l)));else if(r.children){if(Ct(n,o))l=We(n,o),i=Qf(i,l,r.children);else if(Ct(o,n))if(l=We(o,n),B(l))i=Qf(i,$(),r.children);else{const a=Yi(r.children,F(l));if(a){const u=a.getChild(Q(l));i=zs(i,$(),u)}}}else throw rs("WriteRecord should have .snap or .children")}}return i}function Jy(t,e,n,i,s){if(!i&&!s){const r=ci(t.visibleWrites,e);if(r!=null)return r;{const o=xn(t.visibleWrites,e);if(rc(o))return n;if(n==null&&!sc(o,$()))return null;{const l=n||O.EMPTY_NODE;return Ji(o,l)}}}else{const r=xn(t.visibleWrites,e);if(!s&&rc(r))return n;if(!s&&n==null&&!sc(r,$()))return null;{const o=function(u){return(u.visible||s)&&(!i||!~i.indexOf(u.writeId))&&(Ct(u.path,e)||Ct(e,u.path))},l=Xy(t.allWrites,o,e),a=n||O.EMPTY_NODE;return Ji(l,a)}}}function lx(t,e,n){let i=O.EMPTY_NODE;const s=ci(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(oe,(r,o)=>{i=i.updateImmediateChild(r,o)}),i;if(n){const r=xn(t.visibleWrites,e);return n.forEachChild(oe,(o,l)=>{const a=Ji(xn(r,new q(o)),l);i=i.updateImmediateChild(o,a)}),Kf(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{const r=xn(t.visibleWrites,e);return Kf(r).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function ax(t,e,n,i,s){k(i||s,"Either existingEventSnap or existingServerSnap must exist");const r=fe(e,n);if(sc(t.visibleWrites,r))return null;{const o=xn(t.visibleWrites,r);return rc(o)?s.getChild(n):Ji(o,s.getChild(n))}}function ux(t,e,n,i){const s=fe(e,n),r=ci(t.visibleWrites,s);if(r!=null)return r;if(i.isCompleteForChild(n)){const o=xn(t.visibleWrites,s);return Ji(o,i.getNode().getImmediateChild(n))}else return null}function cx(t,e){return ci(t.visibleWrites,e)}function dx(t,e,n,i,s,r,o){let l;const a=xn(t.visibleWrites,e),u=ci(a,$());if(u!=null)l=u;else if(n!=null)l=Ji(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const d=[],c=o.getCompare(),h=r?l.getReverseIteratorFrom(i,o):l.getIteratorFrom(i,o);let f=h.getNext();for(;f&&d.length<s;)c(f,i)!==0&&d.push(f),f=h.getNext();return d}else return[]}function hx(){return{visibleWrites:kt.empty(),allWrites:[],lastWriteId:-1}}function Jo(t,e,n,i){return Jy(t.writeTree,t.treePath,e,n,i)}function Pd(t,e){return lx(t.writeTree,t.treePath,e)}function Xf(t,e,n,i){return ax(t.writeTree,t.treePath,e,n,i)}function Zo(t,e){return cx(t.writeTree,fe(t.treePath,e))}function fx(t,e,n,i,s,r){return dx(t.writeTree,t.treePath,e,n,i,s,r)}function Nd(t,e,n){return ux(t.writeTree,t.treePath,e,n)}function Zy(t,e){return ev(fe(t.treePath,e),t.writeTree)}function ev(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const r=s.type;if(n==="child_added"&&r==="child_removed")this.changeMap.set(i,ur(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&r==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&r==="child_changed")this.changeMap.set(i,ar(i,s.oldSnap));else if(n==="child_changed"&&r==="child_added")this.changeMap.set(i,Xi(i,e.snapshotNode));else if(n==="child_changed"&&r==="child_changed")this.changeMap.set(i,ur(i,e.snapshotNode,s.oldSnap));else throw rs("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const tv=new mx;class Od{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nd(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:si(this.viewCache_),r=fx(this.writes_,s,n,1,i,e);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){return{filter:t}}function yx(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function vx(t,e,n,i,s){const r=new px;let o,l;if(n.type===Et.OVERWRITE){const u=n;u.source.fromUser?o=oc(t,e,u.path,u.snap,i,s,r):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!B(u.path),o=el(t,e,u.path,u.snap,i,s,l,r))}else if(n.type===Et.MERGE){const u=n;u.source.fromUser?o=wx(t,e,u.path,u.children,i,s,r):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=lc(t,e,u.path,u.children,i,s,l,r))}else if(n.type===Et.ACK_USER_WRITE){const u=n;u.revert?o=Sx(t,e,u.path,i,s,r):o=Cx(t,e,u.path,u.affectedTree,i,s,r)}else if(n.type===Et.LISTEN_COMPLETE)o=Ex(t,e,n.path,i,r);else throw rs("Unknown operation type: "+n.type);const a=r.getChanges();return _x(e,o,a),{viewCache:o,changes:a}}function _x(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),r=ic(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(r)||!i.getNode().getPriority().equals(r.getPriority()))&&n.push(qy(ic(e)))}}function nv(t,e,n,i,s,r){const o=e.eventCache;if(Zo(i,n)!=null)return e;{let l,a;if(B(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=si(e),d=u instanceof O?u:O.EMPTY_NODE,c=Pd(i,d);l=t.filter.updateFullNode(e.eventCache.getNode(),c,r)}else{const u=Jo(i,si(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,r)}else{const u=F(n);if(u===".priority"){k(In(n)===1,"Can't have a priority with additional path components");const d=o.getNode();a=e.serverCache.getNode();const c=Xf(i,n,d,a);c!=null?l=t.filter.updatePriority(d,c):l=o.getNode()}else{const d=Q(n);let c;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const h=Xf(i,n,o.getNode(),a);h!=null?c=o.getNode().getImmediateChild(u).updateChild(d,h):c=o.getNode().getImmediateChild(u)}else c=Nd(i,u,e.serverCache);c!=null?l=t.filter.updateChild(o.getNode(),u,c,d,s,r):l=o.getNode()}}return Ls(e,l,o.isFullyInitialized()||B(n),t.filter.filtersNodes())}}function el(t,e,n,i,s,r,o,l){const a=e.serverCache;let u;const d=o?t.filter:t.filter.getIndexedFilter();if(B(n))u=d.updateFullNode(a.getNode(),i,null);else if(d.filtersNodes()&&!a.isFiltered()){const f=a.getNode().updateChild(n,i);u=d.updateFullNode(a.getNode(),f,null)}else{const f=F(n);if(!a.isCompleteForPath(n)&&In(n)>1)return e;const g=Q(n),C=a.getNode().getImmediateChild(f).updateChild(g,i);f===".priority"?u=d.updatePriority(a.getNode(),C):u=d.updateChild(a.getNode(),f,C,g,tv,null)}const c=Yy(e,u,a.isFullyInitialized()||B(n),d.filtersNodes()),h=new Od(s,c,r);return nv(t,c,n,s,h,l)}function oc(t,e,n,i,s,r,o){const l=e.eventCache;let a,u;const d=new Od(s,e,r);if(B(n))u=t.filter.updateFullNode(e.eventCache.getNode(),i,o),a=Ls(e,u,!0,t.filter.filtersNodes());else{const c=F(n);if(c===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),i),a=Ls(e,u,l.isFullyInitialized(),l.isFiltered());else{const h=Q(n),f=l.getNode().getImmediateChild(c);let g;if(B(h))g=i;else{const y=d.getCompleteChild(c);y!=null?zy(h)===".priority"&&y.getChild(By(h)).isEmpty()?g=y:g=y.updateChild(h,i):g=O.EMPTY_NODE}if(f.equals(g))a=e;else{const y=t.filter.updateChild(l.getNode(),c,g,h,d,o);a=Ls(e,y,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function Jf(t,e){return t.eventCache.isCompleteForChild(e)}function wx(t,e,n,i,s,r,o){let l=e;return i.foreach((a,u)=>{const d=fe(n,a);Jf(e,F(d))&&(l=oc(t,l,d,u,s,r,o))}),i.foreach((a,u)=>{const d=fe(n,a);Jf(e,F(d))||(l=oc(t,l,d,u,s,r,o))}),l}function Zf(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function lc(t,e,n,i,s,r,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;B(n)?u=i:u=new X(null).setTree(n,i);const d=e.serverCache.getNode();return u.children.inorderTraversal((c,h)=>{if(d.hasChild(c)){const f=e.serverCache.getNode().getImmediateChild(c),g=Zf(t,f,h);a=el(t,a,new q(c),g,s,r,o,l)}}),u.children.inorderTraversal((c,h)=>{const f=!e.serverCache.isCompleteForChild(c)&&h.value===null;if(!d.hasChild(c)&&!f){const g=e.serverCache.getNode().getImmediateChild(c),y=Zf(t,g,h);a=el(t,a,new q(c),y,s,r,o,l)}}),a}function Cx(t,e,n,i,s,r,o){if(Zo(s,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(i.value!=null){if(B(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return el(t,e,n,a.getNode().getChild(n),s,r,l,o);if(B(n)){let u=new X(null);return a.getNode().forEachChild(Ui,(d,c)=>{u=u.set(new q(d),c)}),lc(t,e,n,u,s,r,l,o)}else return e}else{let u=new X(null);return i.foreach((d,c)=>{const h=fe(n,d);a.isCompleteForPath(h)&&(u=u.set(d,a.getNode().getChild(h)))}),lc(t,e,n,u,s,r,l,o)}}function Ex(t,e,n,i,s){const r=e.serverCache,o=Yy(e,r.getNode(),r.isFullyInitialized()||B(n),r.isFiltered());return nv(t,o,n,i,tv,s)}function Sx(t,e,n,i,s,r){let o;if(Zo(i,n)!=null)return e;{const l=new Od(i,e,s),a=e.eventCache.getNode();let u;if(B(n)||F(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Jo(i,si(e));else{const c=e.serverCache.getNode();k(c instanceof O,"serverChildren would be complete if leaf node"),d=Pd(i,c)}d=d,u=t.filter.updateFullNode(a,d,r)}else{const d=F(n);let c=Nd(i,d,e.serverCache);c==null&&e.serverCache.isCompleteForChild(d)&&(c=a.getImmediateChild(d)),c!=null?u=t.filter.updateChild(a,d,c,Q(n),l,r):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(a,d,O.EMPTY_NODE,Q(n),l,r):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Jo(i,si(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,r)))}return o=e.serverCache.isFullyInitialized()||Zo(i,$())!=null,Ls(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new kd(i.getIndex()),r=WS(i);this.processor_=gx(r);const o=n.serverCache,l=n.eventCache,a=s.updateFullNode(O.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(O.EMPTY_NODE,l.getNode(),null),d=new ii(a,o.isFullyInitialized(),s.filtersNodes()),c=new ii(u,l.isFullyInitialized(),r.filtersNodes());this.viewCache_=Pl(c,d),this.eventGenerator_=new KS(this.query_)}get query(){return this.query_}}function kx(t){return t.viewCache_.serverCache.getNode()}function bx(t,e){const n=si(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!B(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function ep(t){return t.eventRegistrations_.length===0}function Tx(t,e){t.eventRegistrations_.push(e)}function tp(t,e,n){const i=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(r=>{const o=r.createCancelEvent(n,s);o&&i.push(o)})}if(e){let s=[];for(let r=0;r<t.eventRegistrations_.length;++r){const o=t.eventRegistrations_[r];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(r+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function np(t,e,n,i){e.type===Et.MERGE&&e.source.queryId!==null&&(k(si(t.viewCache_),"We should always have a full cache before handling merges"),k(ic(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,r=vx(t.processor_,s,e,n,i);return yx(t.processor_,r.viewCache),k(r.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=r.viewCache,iv(t,r.changes,r.viewCache.eventCache.getNode(),null)}function Ix(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(oe,(r,o)=>{i.push(Xi(r,o))}),n.isFullyInitialized()&&i.push(qy(n.getNode())),iv(t,i,n.getNode(),e)}function iv(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return XS(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl;class Rx{constructor(){this.views=new Map}}function Px(t){k(!tl,"__referenceConstructor has already been defined"),tl=t}function Nx(){return k(tl,"Reference.ts has not been loaded"),tl}function Ox(t){return t.views.size===0}function Md(t,e,n,i){const s=e.source.queryId;if(s!==null){const r=t.views.get(s);return k(r!=null,"SyncTree gave us an op for an invalid query."),np(r,e,n,i)}else{let r=[];for(const o of t.views.values())r=r.concat(np(o,e,n,i));return r}}function Mx(t,e,n,i,s){const r=e._queryIdentifier,o=t.views.get(r);if(!o){let l=Jo(n,s?i:null),a=!1;l?a=!0:i instanceof O?(l=Pd(n,i),a=!1):(l=O.EMPTY_NODE,a=!1);const u=Pl(new ii(l,a,!1),new ii(i,s,!1));return new xx(e,u)}return o}function Dx(t,e,n,i,s,r){const o=Mx(t,e,i,s,r);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Tx(o,n),Ix(o,n)}function Ax(t,e,n,i){const s=e._queryIdentifier,r=[];let o=[];const l=Rn(t);if(s==="default")for(const[a,u]of t.views.entries())o=o.concat(tp(u,n,i)),ep(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||r.push(u.query));else{const a=t.views.get(s);a&&(o=o.concat(tp(a,n,i)),ep(a)&&(t.views.delete(s),a.query._queryParams.loadsAllData()||r.push(a.query)))}return l&&!Rn(t)&&r.push(new(Nx())(e._repo,e._path)),{removed:r,events:o}}function sv(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ji(t,e){let n=null;for(const i of t.views.values())n=n||bx(i,e);return n}function rv(t,e){if(e._queryParams.loadsAllData())return Nl(t);{const i=e._queryIdentifier;return t.views.get(i)}}function ov(t,e){return rv(t,e)!=null}function Rn(t){return Nl(t)!=null}function Nl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;function Lx(t){k(!nl,"__referenceConstructor has already been defined"),nl=t}function zx(){return k(nl,"Reference.ts has not been loaded"),nl}let Fx=1;class ip{constructor(e){this.listenProvider_=e,this.syncPointTree_=new X(null),this.pendingWriteTree_=hx(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Bx(t,e,n,i,s){return tx(t.pendingWriteTree_,e,n,i,s),s?Ir(t,new ni(Qy(),e,n)):[]}function Ii(t,e,n=!1){const i=nx(t.pendingWriteTree_,e);if(ix(t.pendingWriteTree_,e)){let r=new X(null);return i.snap!=null?r=r.set($(),!0):Ye(i.children,o=>{r=r.set(new q(o),!0)}),Ir(t,new Xo(i.path,r,n))}else return[]}function Ol(t,e,n){return Ir(t,new ni(Td(),e,n))}function Ux(t,e,n){const i=X.fromObject(n);return Ir(t,new hr(Td(),e,i))}function jx(t,e){return Ir(t,new dr(Td(),e))}function Hx(t,e,n){const i=Dd(t,n);if(i){const s=Ad(i),r=s.path,o=s.queryId,l=We(r,e),a=new dr(Id(o),l);return Ld(t,r,a)}else return[]}function ac(t,e,n,i,s=!1){const r=e._path,o=t.syncPointTree_.get(r);let l=[];if(o&&(e._queryIdentifier==="default"||ov(o,e))){const a=Ax(o,e,n,i);Ox(o)&&(t.syncPointTree_=t.syncPointTree_.remove(r));const u=a.removed;if(l=a.events,!s){const d=u.findIndex(h=>h._queryParams.loadsAllData())!==-1,c=t.syncPointTree_.findOnPath(r,(h,f)=>Rn(f));if(d&&!c){const h=t.syncPointTree_.subtree(r);if(!h.isEmpty()){const f=Vx(h);for(let g=0;g<f.length;++g){const y=f[g],C=y.query,p=cv(t,y);t.listenProvider_.startListening(Fs(C),il(t,C),p.hashFn,p.onComplete)}}}!c&&u.length>0&&!i&&(d?t.listenProvider_.stopListening(Fs(e),null):u.forEach(h=>{const f=t.queryToTagMap.get(Ml(h));t.listenProvider_.stopListening(Fs(h),f)}))}qx(t,u)}return l}function Wx(t,e,n,i){const s=Dd(t,i);if(s!=null){const r=Ad(s),o=r.path,l=r.queryId,a=We(o,e),u=new ni(Id(l),a,n);return Ld(t,o,u)}else return[]}function $x(t,e,n,i){const s=Dd(t,i);if(s){const r=Ad(s),o=r.path,l=r.queryId,a=We(o,e),u=X.fromObject(n),d=new hr(Id(l),a,u);return Ld(t,o,d)}else return[]}function sp(t,e,n,i=!1){const s=e._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(s,(h,f)=>{const g=We(h,s);r=r||ji(f,g),o=o||Rn(f)});let l=t.syncPointTree_.get(s);l?(o=o||Rn(l),r=r||ji(l,$())):(l=new Rx,t.syncPointTree_=t.syncPointTree_.set(s,l));let a;r!=null?a=!0:(a=!1,r=O.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((f,g)=>{const y=ji(g,$());y&&(r=r.updateImmediateChild(f,y))}));const u=ov(l,e);if(!u&&!e._queryParams.loadsAllData()){const h=Ml(e);k(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=Gx();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}const d=Rd(t.pendingWriteTree_,s);let c=Dx(l,e,n,d,r,a);if(!u&&!o&&!i){const h=rv(l,e);c=c.concat(Qx(t,e,h))}return c}function lv(t,e,n){const s=t.pendingWriteTree_,r=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=We(o,e),u=ji(l,a);if(u)return u});return Jy(s,e,r,n,!0)}function Ir(t,e){return av(e,t.syncPointTree_,null,Rd(t.pendingWriteTree_,$()))}function av(t,e,n,i){if(B(t.path))return uv(t,e,n,i);{const s=e.get($());n==null&&s!=null&&(n=ji(s,$()));let r=[];const o=F(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,d=Zy(i,o);r=r.concat(av(l,a,u,d))}return s&&(r=r.concat(Md(s,t,i,n))),r}}function uv(t,e,n,i){const s=e.get($());n==null&&s!=null&&(n=ji(s,$()));let r=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=Zy(i,o),d=t.operationForChild(o);d&&(r=r.concat(uv(d,l,a,u)))}),s&&(r=r.concat(Md(s,t,i,n))),r}function cv(t,e){const n=e.query,i=il(t,n);return{hashFn:()=>(kx(e)||O.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?Hx(t,n._path,i):jx(t,n._path);{const r=HE(s,n);return ac(t,n,null,r)}}}}function il(t,e){const n=Ml(e);return t.queryToTagMap.get(n)}function Ml(t){return t._path.toString()+"$"+t._queryIdentifier}function Dd(t,e){return t.tagToQueryMap.get(e)}function Ad(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new q(t.substr(0,e))}}function Ld(t,e,n){const i=t.syncPointTree_.get(e);k(i,"Missing sync point for query tag that we're tracking");const s=Rd(t.pendingWriteTree_,e);return Md(i,n,s,null)}function Vx(t){return t.fold((e,n,i)=>{if(n&&Rn(n))return[Nl(n)];{let s=[];return n&&(s=sv(n)),Ye(i,(r,o)=>{s=s.concat(o)}),s}})}function Fs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(zx())(t._repo,t._path):t}function qx(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=Ml(i),r=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(r)}}}function Gx(){return Fx++}function Qx(t,e,n){const i=e._path,s=il(t,e),r=cv(t,n),o=t.listenProvider_.startListening(Fs(e),s,r.hashFn,r.onComplete),l=t.syncPointTree_.subtree(i);if(s)k(!Rn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,d,c)=>{if(!B(u)&&d&&Rn(d))return[Nl(d).query];{let h=[];return d&&(h=h.concat(sv(d).map(f=>f.query))),Ye(c,(f,g)=>{h=h.concat(g)}),h}});for(let u=0;u<a.length;++u){const d=a[u];t.listenProvider_.stopListening(Fs(d),il(t,d))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new zd(n)}node(){return this.node_}}class Fd{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fe(this.path_,e);return new Fd(this.syncTree_,n)}node(){return lv(this.syncTree_,this.path_)}}const Yx=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rp=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Kx(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xx(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Kx=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},Xx=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&k(!1,"Unexpected increment value: "+i);const s=e.node();if(k(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const o=s.getValue();return typeof o!="number"?i:o+i},Jx=function(t,e,n,i){return Bd(e,new Fd(n,t),i)},Zx=function(t,e,n){return Bd(t,new zd(e),n)};function Bd(t,e,n){const i=t.getPriority().val(),s=rp(i,e.getImmediateChild(".priority"),n);let r;if(t.isLeafNode()){const o=t,l=rp(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new ge(l,Ne(s)):t}else{const o=t;return r=o,s!==o.getPriority().val()&&(r=r.updatePriority(new ge(s))),o.forEachChild(oe,(l,a)=>{const u=Bd(a,e.getImmediateChild(l),n);u!==a&&(r=r.updateImmediateChild(l,u))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function jd(t,e){let n=e instanceof q?e:new q(e),i=t,s=F(n);for(;s!==null;){const r=Yi(i.node.children,s)||{children:{},childCount:0};i=new Ud(s,i,r),n=Q(n),s=F(n)}return i}function ls(t){return t.node.value}function dv(t,e){t.node.value=e,uc(t)}function hv(t){return t.node.childCount>0}function e1(t){return ls(t)===void 0&&!hv(t)}function Dl(t,e){Ye(t.node.children,(n,i)=>{e(new Ud(n,t,i))})}function fv(t,e,n,i){n&&!i&&e(t),Dl(t,s=>{fv(s,e,!0,i)}),n&&i&&e(t)}function t1(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Rr(t){return new q(t.parent===null?t.name:Rr(t.parent)+"/"+t.name)}function uc(t){t.parent!==null&&n1(t.parent,t.name,t)}function n1(t,e,n){const i=e1(n),s=nn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,uc(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,uc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=/[\[\].#$\/\u0000-\u001F\u007F]/,s1=/[\[\].#$\u0000-\u001F\u007F]/,Pa=10*1024*1024,pv=function(t){return typeof t=="string"&&t.length!==0&&!i1.test(t)},mv=function(t){return typeof t=="string"&&t.length!==0&&!s1.test(t)},r1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mv(t)},gv=function(t,e,n){const i=n instanceof q?new CS(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+jn(i));if(typeof e=="function")throw new Error(t+"contains a function "+jn(i)+" with contents = "+e.toString());if(gy(e))throw new Error(t+"contains "+e.toString()+" "+jn(i));if(typeof e=="string"&&e.length>Pa/3&&Tl(e)>Pa)throw new Error(t+"contains a string greater than "+Pa+" utf8 bytes "+jn(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,r=!1;if(Ye(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(r=!0,!pv(o)))throw new Error(t+" contains an invalid key ("+o+") "+jn(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ES(i,o),gv(t,l,i),SS(i)}),s&&r)throw new Error(t+' contains ".value" child '+jn(i)+" in addition to actual children.")}},yv=function(t,e,n,i){if(!(i&&n===void 0)&&!mv(n))throw new Error(oy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},o1=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),yv(t,e,n,i)},l1=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!pv(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!r1(n))throw new Error(oy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function vv(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],r=s.getPath();n!==null&&!Ed(r,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:r}),n.events.push(s)}n&&t.eventLists_.push(n)}function _v(t,e,n){vv(t,n),wv(t,i=>Ed(i,e))}function di(t,e,n){vv(t,n),wv(t,i=>Ct(i,e)||Ct(e,i))}function wv(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const r=s.path;e(r)?(u1(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function u1(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Qn&&Pe("event: "+n.toString()),br(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="repo_interrupt",d1=25;class h1{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new a1,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ko(),this.transactionQueueTree_=new Ud,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function f1(t,e,n){if(t.stats_=wd(t.repoInfo_),t.forceRestClient_||qE())t.server_=new Yo(t.repoInfo_,(i,s,r,o)=>{op(t,i,s,r,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new qt(t.repoInfo_,e,(i,s,r,o)=>{op(t,i,s,r,o)},i=>{lp(t,i)},i=>{m1(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=XE(t.repoInfo_,()=>new YS(t.stats_,t.server_)),t.infoData_=new $S,t.infoSyncTree_=new ip({startListening:(i,s,r,o)=>{let l=[];const a=t.infoData_.getNode(i._path);return a.isEmpty()||(l=Ol(t.infoSyncTree_,i._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Hd(t,"connected",!1),t.serverSyncTree_=new ip({startListening:(i,s,r,o)=>(t.server_.listen(i,r,s,(l,a)=>{const u=o(l,a);di(t.eventQueue_,i._path,u)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function p1(t){const n=t.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Cv(t){return Yx({timestamp:p1(t)})}function op(t,e,n,i,s){t.dataUpdateCount++;const r=new q(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(i){const a=Wo(n,u=>Ne(u));o=$x(t.serverSyncTree_,r,a,s)}else{const a=Ne(n);o=Wx(t.serverSyncTree_,r,a,s)}else if(i){const a=Wo(n,u=>Ne(u));o=Ux(t.serverSyncTree_,r,a)}else{const a=Ne(n);o=Ol(t.serverSyncTree_,r,a)}let l=r;o.length>0&&(l=$d(t,r)),di(t.eventQueue_,l,o)}function lp(t,e){Hd(t,"connected",e),e===!1&&y1(t)}function m1(t,e){Ye(e,(n,i)=>{Hd(t,n,i)})}function Hd(t,e,n){const i=new q("/.info/"+e),s=Ne(n);t.infoData_.updateSnapshot(i,s);const r=Ol(t.infoSyncTree_,i,s);di(t.eventQueue_,i,r)}function g1(t){return t.nextWriteId_++}function y1(t){Ev(t,"onDisconnectEvents");const e=Cv(t),n=Ko();nc(t.onDisconnect_,$(),(s,r)=>{const o=Jx(s,r,t.serverSyncTree_,e);Gy(n,s,o)});let i=[];nc(n,$(),(s,r)=>{i=i.concat(Ol(t.serverSyncTree_,s,r));const o=E1(t,s);$d(t,o)}),t.onDisconnect_=Ko(),di(t.eventQueue_,$(),i)}function v1(t,e,n){let i;F(e._path)===".info"?i=sp(t.infoSyncTree_,e,n):i=sp(t.serverSyncTree_,e,n),_v(t.eventQueue_,e._path,i)}function cc(t,e,n){let i;F(e._path)===".info"?i=ac(t.infoSyncTree_,e,n):i=ac(t.serverSyncTree_,e,n),_v(t.eventQueue_,e._path,i)}function _1(t){t.persistentConnection_&&t.persistentConnection_.interrupt(c1)}function Ev(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pe(n,...e)}function Sv(t,e,n){return lv(t.serverSyncTree_,e,n)||O.EMPTY_NODE}function Wd(t,e=t.transactionQueueTree_){if(e||Al(t,e),ls(e)){const n=kv(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&w1(t,Rr(e),n)}else hv(e)&&Dl(e,n=>{Wd(t,n)})}function w1(t,e,n){const i=n.map(u=>u.currentWriteId),s=Sv(t,e,i);let r=s;const o=s.hash();for(let u=0;u<n.length;u++){const d=n[u];k(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const c=We(e,d.path);r=r.updateChild(c,d.currentOutputSnapshotRaw)}const l=r.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Ev(t,"transaction put response",{path:a.toString(),status:u});let d=[];if(u==="ok"){const c=[];for(let h=0;h<n.length;h++)n[h].status=2,d=d.concat(Ii(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&c.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Al(t,jd(t.transactionQueueTree_,e)),Wd(t,t.transactionQueueTree_),di(t.eventQueue_,e,d);for(let h=0;h<c.length;h++)br(c[h])}else{if(u==="datastale")for(let c=0;c<n.length;c++)n[c].status===3?n[c].status=4:n[c].status=0;else{tt("transaction at "+a.toString()+" failed: "+u);for(let c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=u}$d(t,e)}},o)}function $d(t,e){const n=xv(t,e),i=Rr(n),s=kv(t,n);return C1(t,s,i),i}function C1(t,e,n){if(e.length===0)return;const i=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=We(n,a.path);let d=!1,c;if(k(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)d=!0,c=a.abortReason,s=s.concat(Ii(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=d1)d=!0,c="maxretry",s=s.concat(Ii(t.serverSyncTree_,a.currentWriteId,!0));else{const h=Sv(t,a.path,o);a.currentInputSnapshot=h;const f=e[l].update(h.val());if(f!==void 0){gv("transaction failed: Data returned ",f,a.path);let g=Ne(f);typeof f=="object"&&f!=null&&nn(f,".priority")||(g=g.updatePriority(h.getPriority()));const C=a.currentWriteId,p=Cv(t),m=Zx(g,h,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=g1(t),o.splice(o.indexOf(C),1),s=s.concat(Bx(t.serverSyncTree_,a.path,m,a.currentWriteId,a.applyLocally)),s=s.concat(Ii(t.serverSyncTree_,C,!0))}else d=!0,c="nodata",s=s.concat(Ii(t.serverSyncTree_,a.currentWriteId,!0))}di(t.eventQueue_,n,s),s=[],d&&(e[l].status=2,function(h){setTimeout(h,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(c==="nodata"?i.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):i.push(()=>e[l].onComplete(new Error(c),!1,null))))}Al(t,t.transactionQueueTree_);for(let l=0;l<i.length;l++)br(i[l]);Wd(t,t.transactionQueueTree_)}function xv(t,e){let n,i=t.transactionQueueTree_;for(n=F(e);n!==null&&ls(i)===void 0;)i=jd(i,n),e=Q(e),n=F(e);return i}function kv(t,e){const n=[];return bv(t,e,n),n.sort((i,s)=>i.order-s.order),n}function bv(t,e,n){const i=ls(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);Dl(e,s=>{bv(t,s,n)})}function Al(t,e){const n=ls(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,dv(e,n.length>0?n:void 0)}Dl(e,i=>{Al(t,i)})}function E1(t,e){const n=Rr(xv(t,e)),i=jd(t.transactionQueueTree_,e);return t1(i,s=>{Na(t,s)}),Na(t,i),fv(i,s=>{Na(t,s)}),n}function Na(t,e){const n=ls(e);if(n){const i=[];let s=[],r=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(r===o-1,"All SENT items should be at beginning of queue."),r=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ii(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));r===-1?dv(e,void 0):n.length=r+1,di(t.eventQueue_,Rr(e),s);for(let o=0;o<i.length;o++)br(i[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function x1(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):tt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ap=function(t,e){const n=k1(t),i=n.namespace;n.domain==="firebase.com"&&en(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&en("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||zE();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Iy(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new q(n.pathString)}},k1=function(t){let e="",n="",i="",s="",r="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let c=t.indexOf("?");c===-1&&(c=t.length),e=t.substring(0,Math.min(d,c)),d<c&&(s=S1(t.substring(d,c)));const h=x1(t.substring(Math.min(t.length,c)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");i=e.substring(0,g).toLowerCase(),n=e.substring(g+1),r=i}"ns"in h&&(r=h.ns)}return{host:e,port:a,domain:n,subdomain:i,secure:o,scheme:l,pathString:s,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}}class Iv{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return B(this._path)?null:zy(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){const e=qf(this._queryParams),n=vd(e);return n==="{}"?"default":n}get _queryObject(){return qf(this._queryParams)}isEqual(e){if(e=Il(e),!(e instanceof Vd))return!1;const n=this._repo===e._repo,i=Ed(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+wS(this._path)}}class sn extends Vd{constructor(e,n){super(e,n,new bd,!1)}get parent(){const e=By(this._path);return e===null?null:new sn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class fr{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new q(e),i=sl(this.ref,e);return new fr(this._node.getChild(n),i,oe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new fr(s,sl(this.ref,i),oe)))}hasChild(e){const n=new q(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function b1(t,e){return t=Il(t),t._checkNotDeleted("ref"),e!==void 0?sl(t._root,e):t._root}function sl(t,e){return t=Il(t),F(t._path)===null?o1("child","path",e,!1):yv("child","path",e,!1),new sn(t._repo,fe(t._path,e))}class Ll{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Tv("value",this,new fr(e.snapshotNode,new sn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Iv(this,e,n):null}matches(e){return e instanceof Ll?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class zl{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Iv(this,e,n):null}createEvent(e,n){k(e.childName!=null,"Child events should have a childName.");const i=sl(new sn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new Tv(e.type,this,new fr(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof zl?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function T1(t,e,n,i,s){let r;if(typeof i=="object"&&(r=void 0,s=i),typeof i=="function"&&(r=i),s&&s.onlyOnce){const a=n,u=(d,c)=>{cc(t._repo,t,l),a(d,c)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new Rv(n,r||void 0),l=e==="value"?new Ll(o):new zl(e,o);return v1(t._repo,t,l),()=>cc(t._repo,t,l)}function I1(t,e,n,i){return T1(t,"value",e,n,i)}function R1(t,e,n){let i=null;const s=n?new Rv(n):null;e==="value"?i=new Ll(s):e&&(i=new zl(e,s)),cc(t._repo,t,i)}Px(sn);Lx(sn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="FIREBASE_DATABASE_EMULATOR_HOST",dc={};let N1=!1;function O1(t,e,n,i){t.repoInfo_=new Iy(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function M1(t,e,n,i,s){let r=i||t.options.databaseURL;r===void 0&&(t.options.projectId||en("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pe("Using default host for project ",t.options.projectId),r=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=ap(r,s),l=o.repoInfo,a,u;typeof process<"u"&&If&&(u=If[P1]),u?(a=!0,r=`http://${u}?ns=${l.namespace}`,o=ap(r,s),l=o.repoInfo):a=!o.repoInfo.secure;const d=s&&a?new Bi(Bi.OWNER):new QE(t.name,t.options,e);l1("Invalid Firebase Database URL",o),B(o.path)||en("Database URL must point to the root of a Firebase Database (not including a child path).");const c=A1(l,t,d,new GE(t.name,n));return new L1(c,t)}function D1(t,e){const n=dc[e];(!n||n[t.key]!==t)&&en(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_1(t),delete n[t.key]}function A1(t,e,n,i){let s=dc[e.name];s||(s={},dc[e.name]=s);let r=s[t.toURLString()];return r&&en("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new h1(t,N1,n,i),s[t.toURLString()]=r,r}class L1{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(f1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,$())),this._rootInternal}_delete(){return this._rootInternal!==null&&(D1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&en("Cannot call "+e+" on a deleted database.")}}function z1(t=wE(),e){const n=gE(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=aC("database");i&&F1(n,...i)}return n}function F1(t,e,n,i={}){t=Il(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&en("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let r;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&en('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),r=new Bi(Bi.OWNER);else if(i.mockUserToken){const o=typeof i.mockUserToken=="string"?i.mockUserToken:uC(i.mockUserToken,t.app.options.projectId);r=new Bi(o)}O1(s,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){OE(_E),Vo(new rr("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return M1(i,s,r,n)},"PUBLIC").setMultipleInstances(!0)),zi(Rf,Pf,t),zi(Rf,Pf,"esm2017")}qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};B1();const Bs="generated",U1="pointerdown",j1="pointerup",hc="pointerleave",H1="pointerout",ri="pointermove",W1="touchstart",up="touchend",$1="touchmove",V1="touchcancel",q1="resize",G1="visibilitychange",mt="tsParticles - Error";class Ke{constructor(e,n,i){if(this._updateFromAngle=(s,r)=>{this.x=Math.cos(s)*r,this.y=Math.sin(s)*r},!Tt(e)&&e){this.x=e.x,this.y=e.y;const s=e;this.z=s.z?s.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${mt} Vector3d not initialized correctly`)}static get origin(){return Ke.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Ke.create(e.x,e.y,e.z)}static create(e,n,i){return new Ke(e,n,i)}add(e){return Ke.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Ke.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Ke.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Ke.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Ke.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return Ke.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ce extends Ke{constructor(e,n){super(e,n,0)}static get origin(){return Ce.create(0,0)}static clone(e){return Ce.create(e.x,e.y)}static create(e,n){return new Ce(e,n)}}let Q1=Math.random;const fc=new Map;function Oa(t,e){fc.get(t)||fc.set(t,e)}function Pv(t){return fc.get(t)||(e=>e)}function Z(){return Pt(Q1(),0,1-1e-16)}function Pt(t,e,n){return Math.min(Math.max(t,e),n)}function Ma(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function Ve(t){const e=fn(t);let n=qd(t);return e===n&&(n=0),Z()*(e-n)+n}function N(t){return Tt(t)?t:Ve(t)}function qd(t){return Tt(t)?t:t.min}function fn(t){return Tt(t)?t:t.max}function D(t,e){if(t===e||e===void 0&&Tt(t))return t;const n=qd(t),i=fn(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:D(n,i)}function oi(t){const e=t.random,{enable:n,minimumValue:i}=kn(e)?{enable:e,minimumValue:0}:e;return N(n?D(t.value,i):t.value)}function Fe(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function nt(t,e){return Fe(t,e).distance}function Y1(t,e,n){if(Tt(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Z()*Math.PI*2}}function K1(t){const e=Ce.origin;return e.length=1,e.angle=t,e}function cp(t,e,n,i){return Ce.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function X1(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Z()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Z()*t.size.height}}function Nv(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const J1={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function li(){return J1}function dp(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:s,rectOtherSide:r,velocity:o,factor:l}=t;return i.min<r.min||i.min>r.max||i.max<r.min||i.max>r.max||(n.max>=s.min&&n.max<=(s.max+s.min)/2&&o>0||n.min<=s.max&&n.min>(s.max+s.min)/2&&o<0)&&(e.velocity=o*-l,e.bounced=!0),e}function Z1(t,e){const n=Ee(e,i=>t.matches(i));return it(n)?n.some(i=>i):n}function Zi(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function ek(){return!Zi()&&typeof matchMedia<"u"}function Ov(t){if(ek())return matchMedia(t)}function tk(t){if(!(Zi()||typeof MutationObserver>"u"))return new MutationObserver(t)}function ce(t,e){return t===e||it(e)&&e.indexOf(t)>-1}async function nk(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function ik(t){return Math.floor(Z()*t.length)}function Fl(t,e,n=!0){return t[e!==void 0&&n?e%t.length:ik(t)]}function Gd(t,e,n,i,s){return sk(Pr(t,i??0),e,n,s)}function sk(t,e,n,i){let s=!0;return(!i||i==="bottom")&&(s=t.top<e.height+n.x),s&&(!i||i==="left")&&(s=t.right>n.x),s&&(!i||i==="right")&&(s=t.left<e.width+n.y),s&&(!i||i==="top")&&(s=t.bottom>n.y),s}function Pr(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Oe(t,...e){for(const n of e){if(n==null)continue;if(!Ri(n)){t=n;continue}const i=Array.isArray(n);i&&(Ri(t)||!t||!Array.isArray(t))?t=[]:!i&&(Ri(t)||!t||Array.isArray(t))&&(t={});for(const s in n){if(s==="__proto__")continue;const r=n,o=r[s],l=t;l[s]=Ri(o)&&Array.isArray(o)?o.map(a=>Oe(l[s],a)):Oe(l[s],o)}}return t}function Qd(t,e){return!!Av(e,n=>n.enable&&ce(t,n.mode))}function Yd(t,e,n){Ee(e,i=>{const s=i.mode;i.enable&&ce(t,s)&&rk(i,n)})}function rk(t,e){const n=t.selectors;Ee(n,i=>{e(i,t)})}function Mv(t,e){if(!(!e||!t))return Av(t,n=>Z1(e,n.selectors))}function pc(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Ce.create(oi(t.options.bounce.horizontal),oi(t.options.bounce.vertical))}}function Dv(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[s,r]=[t.position,e.position],{dx:o,dy:l}=Fe(r,s);if(n*o+i*l<0)return;const a=-Math.atan2(l,o),u=t.mass,d=e.mass,c=t.velocity.rotate(a),h=e.velocity.rotate(a),f=cp(c,h,u,d),g=cp(h,c,u,d),y=f.rotate(-a),C=g.rotate(-a);t.velocity.x=y.x*t.factor.x,t.velocity.y=y.y*t.factor.y,e.velocity.x=C.x*e.factor.x,e.velocity.y=C.y*e.factor.y}function ok(t,e){const n=t.getPosition(),i=t.getRadius(),s=Pr(n,i),r=dp({pSide:{min:s.left,max:s.right},pOtherSide:{min:s.top,max:s.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:oi(t.options.bounce.horizontal)});r.bounced&&(r.velocity!==void 0&&(t.velocity.x=r.velocity),r.position!==void 0&&(t.position.x=r.position));const o=dp({pSide:{min:s.top,max:s.bottom},pOtherSide:{min:s.left,max:s.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:oi(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function Ee(t,e){return it(t)?t.map((n,i)=>e(n,i)):e(t,0)}function Gt(t,e,n){return it(t)?Fl(t,e,n):t}function Av(t,e){return it(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function Lv(t,e){const n=t.value,i=t.animation,s={delayTime:N(i.delay)*1e3,enable:i.enable,value:N(t.value)*e,max:fn(n)*e,min:qd(n)*e,loops:0,maxLoops:N(i.count),time:0};if(i.enable){switch(s.decay=1-N(i.decay),i.mode){case"increase":s.status="increasing";break;case"decrease":s.status="decreasing";break;case"random":s.status=Z()>=.5?"increasing":"decreasing";break}const r=i.mode==="auto";switch(i.startValue){case"min":s.value=s.min,r&&(s.status="increasing");break;case"max":s.value=s.max,r&&(s.status="decreasing");break;case"random":default:s.value=Ve(s),r&&(s.status=Z()>=.5?"increasing":"decreasing");break}}return s.initialValue=s.value,s}function lk(t,e){if(!(t.mode==="percent")){const{mode:s,...r}=t;return r}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function zv(t,e){return lk(t,e)}function kn(t){return typeof t=="boolean"}function bt(t){return typeof t=="string"}function Tt(t){return typeof t=="number"}function Fv(t){return typeof t=="function"}function Ri(t){return typeof t=="object"&&t!==null}function it(t){return Array.isArray(t)}const rl="random",fo="mid",Bl=new Map;function hp(t){Bl.set(t.key,t)}function Da(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ak(t){for(const[,r]of Bl)if(t.startsWith(r.stringPrefix))return r.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(r,o,l,a,u)=>o+o+l+l+a+a+(u!==void 0?u+u:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=i.exec(n);return s?{a:s[4]!==void 0?parseInt(s[4],16)/255:1,b:parseInt(s[3],16),g:parseInt(s[2],16),r:parseInt(s[1],16)}:void 0}function It(t,e,n=!0){if(!t)return;const i=bt(t)?{value:t}:t;if(bt(i.value))return Bv(i.value,e,n);if(it(i.value))return It({value:Fl(i.value,e,n)});for(const[,s]of Bl){const r=s.handleRangeColor(i);if(r)return r}}function Bv(t,e,n=!0){if(!t)return;const i=bt(t)?{value:t}:t;if(bt(i.value))return i.value===rl?jv():uk(i.value);if(it(i.value))return Bv({value:Fl(i.value,e,n)});for(const[,s]of Bl){const r=s.handleColor(i);if(r)return r}}function pr(t,e,n=!0){const i=It(t,e,n);return i?Uv(i):void 0}function Uv(t){const e=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(e,n,i),r=Math.min(e,n,i),o={h:0,l:(s+r)/2,s:0};return s!==r&&(o.s=o.l<.5?(s-r)/(s+r):(s-r)/(2-s-r),o.h=e===s?(n-i)/(s-r):o.h=n===s?2+(i-e)/(s-r):4+(e-n)/(s-r)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function uk(t){return ak(t)}function es(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,s=2*n.l-i;e.r=Da(s,i,n.h+1/3),e.g=Da(s,i,n.h),e.b=Da(s,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function ck(t){const e=es(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function jv(t){const e=t??0;return{b:Math.floor(Ve(D(e,256))),g:Math.floor(Ve(D(e,256))),r:Math.floor(Ve(D(e,256)))}}function Qt(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function mr(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Kd(t,e,n,i){let s=t,r=e;return s.r===void 0&&(s=es(t)),r.r===void 0&&(r=es(e)),{b:Ma(s.b,r.b,n,i),g:Ma(s.g,r.g,n,i),r:Ma(s.r,r.r,n,i)}}function mc(t,e,n){if(n===rl)return jv();if(n===fo){const i=t.getFillColor()??t.getStrokeColor(),s=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&s&&e)return Kd(i,s,t.getRadius(),e.getRadius());{const r=i??s;if(r)return es(r)}}else return n}function Hv(t,e,n){const i=bt(t)?t:t.value;return i===rl?n?It({value:i}):e?rl:fo:i===fo?fo:It({value:i})}function fp(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function Wv(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Aa(i.h,e.h,n),Aa(i.s,e.s,n),Aa(i.l,e.l,n)),i}function Aa(t,e,n){t.enable=e.enable,t.enable?(t.velocity=N(e.speed)/100*n,t.decay=1-N(e.decay),t.status="increasing",t.loops=0,t.maxLoops=N(e.count),t.time=0,t.delayTime=N(e.delay)*1e3,e.sync||(t.velocity*=Z(),t.value*=Z()),t.initialValue=t.value):t.velocity=0}function Us(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function dk(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function hk(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function fk(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function La(t,e){t.clearRect(0,0,e.width,e.height)}function pk(t){const{container:e,context:n,particle:i,delta:s,colorStyles:r,backgroundMask:o,composite:l,radius:a,opacity:u,shadow:d,transform:c}=t,h=i.getPosition(),f=i.rotation+(i.pathRotation?i.velocity.angle:0),g={sin:Math.sin(f),cos:Math.cos(f)},y={a:g.cos*(c.a??1),b:g.sin*(c.b??1),c:-g.sin*(c.c??1),d:g.cos*(c.d??1)};n.setTransform(y.a,y.b,y.c,y.d,h.x,h.y),n.beginPath(),o&&(n.globalCompositeOperation=l);const C=i.shadowColor;d.enable&&C&&(n.shadowBlur=d.blur,n.shadowColor=Qt(C),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),r.fill&&(n.fillStyle=r.fill);const p=i.strokeWidth??0;n.lineWidth=p,r.stroke&&(n.strokeStyle=r.stroke),mk(e,n,i,a,u,s),p>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),gk(e,n,i,a,u,s),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function mk(t,e,n,i,s,r){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,s,r,t.retina.pixelRatio)}function gk(t,e,n,i,s,r){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,s,r,t.retina.pixelRatio)}function yk(t,e,n){e.draw&&e.draw(t,n)}function vk(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function _k(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function wk(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class Ck{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,s,r,o,l)=>{for(const a of this._preDrawUpdaters){if(a.getColorStyles){const{fill:u,stroke:d}=a.getColorStyles(i,n,s,r);u&&(o.fill=u),d&&(o.stroke=d)}if(a.getTransformValues){const u=a.getTransformValues(i);for(const d in u)wk(l,u,d)}a.beforeDraw&&a.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,s;for(const r of this._colorPlugins)if(!i&&r.particleFillColor&&(i=pr(r.particleFillColor(n))),!s&&r.particleStrokeColor&&(s=pr(r.particleStrokeColor(n))),i&&s)break;return[i,s]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,s=i.color,r=It(s);if(r){const o={...r,a:i.opacity};this._coverColorStyle=Qt(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Oe({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const s in i.style){if(!s||!i.style)continue;const r=i.style[s];r&&n.style.setProperty(s,r,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,s=i.fill;if(i.enable)if(s.color){const r=It(s.color);if(!r)return;const o=n.particles.move.trail;this._trailFill={color:{...r},opacity:1/o.length}}else await new Promise((r,o)=>{if(!s.image)return;const l=document.createElement("img");l.addEventListener("load",()=>{this._trailFill={image:l,opacity:1/i.length},r()}),l.addEventListener("error",a=>{o(a.error)}),l.src=s.image})},this._paintBase=n=>{this.draw(i=>hk(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(s=>fk(s,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const s=n.style;s.position=i.position,s.zIndex=i.zIndex,s.top=i.top,s.left=i.left,s.width=i.width,s.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",s=n.style;s.setProperty("position","fixed",i),s.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),s.setProperty("top","0",i),s.setProperty("left","0",i),s.setProperty("width","100%",i),s.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(Qt(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(s=>{La(s,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const s=e.getFillColor(),r=e.getStrokeColor()??s;let[o,l]=this._getPluginParticleColors(e);o||(o=s),l||(l=r),!(!o&&!l)&&this.draw(a=>{var v;const u=this.container,d=u.actualOptions,c=e.options.zIndex,h=(1-e.zIndexFactor)**c.opacityRate,f=e.bubble.opacity??((v=e.opacity)==null?void 0:v.value)??1,g=e.strokeOpacity??f,y=f*h,C=g*h,p={},m={fill:o?mr(o,y):void 0};m.stroke=l?mr(l,C):m.fill,this._applyPreDrawUpdaters(a,e,i,y,m,p),pk({container:u,context:a,particle:e,delta:n,colorStyles:m,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**c.sizeRate,opacity:y,shadow:e.options.shadow,transform:p}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(s=>vk(s,e,n,i))}drawPlugin(e,n){this.draw(i=>yk(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=tk(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){li().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const s=i.style;if(s){if(n.color){const r=It(n.color);s.backgroundColor=r?Qt(r,n.opacity):""}else s.backgroundColor="";s.backgroundImage=n.image||"",s.backgroundPosition=n.position||"",s.backgroundRepeat=n.repeat||"",s.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Bs in e.dataset?e.dataset[Bs]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Oe({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(La(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,s={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(s.height===i.height&&s.width===i.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const r={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/r.width,height:i.height/r.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>La(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function lt(t,e,n,i,s){if(i){let r={passive:!0};kn(s)?r.capture=s:s!==void 0&&(r=s),t.addEventListener(e,n,r)}else{const r=s;t.removeEventListener(e,n,r)}}class Ek{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,s=i.actualOptions;if(this._canPush){const r=i.interactivity.mouse,o=r.position;if(!o)return;r.clickPosition={...o},r.clickTime=new Date().getTime();const l=s.interactivity.events.onClick;Ee(l.mode,a=>this.container.handleClickMode(a))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,s=this.container,r=s.options,o=r.defaultThemes,l=i.matches?o.dark:o.light,a=r.themes.find(u=>u.name===l);a&&a.default.auto&&s.loadTheme(l)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const s=this._handlers,r=this.container,o=r.actualOptions,l=r.interactivity.element;if(!l)return;const a=l,u=r.canvas.element;u&&(u.style.pointerEvents=a===u?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(lt(l,ri,s.mouseMove,i),lt(l,W1,s.touchStart,i),lt(l,$1,s.touchMove,i),o.interactivity.events.onClick.enable?(lt(l,up,s.touchEndClick,i),lt(l,j1,s.mouseUp,i),lt(l,U1,s.mouseDown,i)):lt(l,up,s.touchEnd,i),lt(l,n,s.mouseLeave,i),lt(l,V1,s.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,s=this.container,r=s.actualOptions,o=r.interactivity.detectsOn,l=s.canvas.element;let a=hc;o==="window"?(s.interactivity.element=window,a=H1):o==="parent"&&l?s.interactivity.element=l.parentElement??l.parentNode:s.interactivity.element=l,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(a,n),document&&lt(document,G1,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,s=Ov("(prefers-color-scheme: dark)");if(s){if(s.addEventListener!==void 0){lt(s,"change",i.themeChange,n);return}s.addListener!==void 0&&(n?s.addListener(i.oldThemeChange):s.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,s=this.container;if(!s.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){lt(window,q1,i.resize,n);return}const o=s.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async l=>{l.find(u=>u.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,s=i.actualOptions,{mouse:r}=i.interactivity;r.inside=!0;let o=!1;const l=r.position;if(!(!l||!s.interactivity.events.onClick.enable)){for(const[,a]of i.plugins)if(a.clickPositionValid&&(o=a.clickPositionValid(l),o))break;o||this._doMouseTouchClick(n),r.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=hc,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,s=i.actualOptions,r=i.interactivity,o=i.canvas.element;if(!r||!r.element)return;r.mouse.inside=!0;let l;if(n.type.startsWith("pointer")){this._canPush=!0;const u=n;if(r.element===window){if(o){const d=o.getBoundingClientRect();l={x:u.clientX-d.left,y:u.clientY-d.top}}}else if(s.interactivity.detectsOn==="parent"){const d=u.target,c=u.currentTarget;if(d&&c&&o){const h=d.getBoundingClientRect(),f=c.getBoundingClientRect(),g=o.getBoundingClientRect();l={x:u.offsetX+2*h.left-(f.left+g.left),y:u.offsetY+2*h.top-(f.top+g.top)}}else l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY}}else u.target===o&&(l={x:u.offsetX??u.clientX,y:u.offsetY??u.clientY})}else if(this._canPush=n.type!=="touchmove",o){const u=n,d=u.touches[u.touches.length-1],c=o.getBoundingClientRect();l={x:d.clientX-(c.left??0),y:d.clientY-(c.top??0)}}const a=i.retina.pixelRatio;l&&(l.x*=a,l.y*=a),r.mouse.position=l,r.status=ri},this._touchEnd=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.delete(r.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,s=Array.from(i.changedTouches);for(const r of s)this._touches.set(r.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class be{constructor(){this.value=""}static create(e,n){const i=new be;return i.load(e),n!==void 0&&(bt(n)||it(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class Sk{constructor(){this.color=new be,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=be.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class xk{constructor(){this.color=new be,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=be.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class kk{constructor(){this.composite="destination-out",this.cover=new xk,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=bt(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class bk{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class Tk{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class pp{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return Ee(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Ee(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class Ik{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class Rk{constructor(){this.enable=!1,this.mode=[],this.parallax=new Ik}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class Pk{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class Nk{constructor(){this.onClick=new Tk,this.onDiv=new pp,this.onHover=new Rk,this.resize=new Pk}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=Ee(n,i=>{const s=new pp;return s.load(i),s})),this.onHover.load(e.onHover??e.onhover),kn(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}}class Ok{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class $v{constructor(e,n){this.detectsOn="window",this.events=new Nk,this.modes=new Ok(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class Mk{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Oe({},e.options)))}}class Dk{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Oe({},e.options)))}}class Ak{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Lk{constructor(){this.name="",this.default=new Ak}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Oe({},e.options)))}}class za{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=D(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=D(e.offset)),e.speed!==void 0&&(this.speed=D(e.speed)),e.decay!==void 0&&(this.decay=D(e.decay)),e.delay!==void 0&&(this.delay=D(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class zk{constructor(){this.h=new za,this.s=new za,this.l=new za}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class gr extends be{constructor(){super(),this.animation=new zk}static create(e,n){const i=new gr;return i.load(e),n!==void 0&&(bt(n)||it(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class Fk{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class Bk{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Uk{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=D(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=D(e.speed)),e.decay!==void 0&&(this.decay=D(e.decay)),e.delay!==void 0&&(this.delay=D(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class Vv extends Uk{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class jk{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Mn{constructor(){this.random=new jk,this.value=0}load(e){e&&(kn(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=D(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class mp extends Mn{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class qv{constructor(){this.horizontal=new mp,this.vertical=new mp}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class Hk{constructor(){this.absorb=new Fk,this.bounce=new qv,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new Bk}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=D(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class Wk{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=D(e.offset)),e.value!==void 0&&(this.value=D(e.value)))}}class $k{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var s,r;if(!e)return;e.distance!==void 0&&(this.distance=D(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((s=e.rotate)==null?void 0:s.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((r=e.rotate)==null?void 0:r.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class Vk{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class qk{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=D(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=D(e.maxSpeed)))}}class Gk{constructor(){this.clamp=!0,this.delay=new Mn,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Oe(this.options,e.options)))}}class Qk{load(e){e&&(e.color!==void 0&&(this.color=be.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Yk{constructor(){this.enable=!1,this.length=10,this.fill=new Qk}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class Kk{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Xk{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=D(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Oe({},e.position)))}}class Jk{constructor(){this.angle=new Wk,this.attract=new $k,this.center=new Vk,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new qk,this.path=new Gk,this.outModes=new Kk,this.random=!1,this.size=!1,this.speed=2,this.spin=new Xk,this.straight=!1,this.trail=new Yk,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Tt(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=D(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Tt(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=D(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Ri(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=D(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Zk extends Vv{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class eb extends Mn{constructor(){super(),this.animation=new Zk,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=D(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class tb{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class nb{constructor(){this.density=new tb,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class ib{constructor(){this.blur=0,this.color=new be,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=be.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Fa="character",Ba="char",Ua="image",ja="images",Ha="polygon",Wa="star";class sb{constructor(){this.loadShape=(e,n,i,s)=>{if(!e)return;const r=it(e),o=r?[]:{},l=r!==it(this.options[n]),a=r!==it(this.options[i]);l&&(this.options[n]=o),a&&s&&(this.options[i]=o),this.options[n]=Oe(this.options[n]??o,e),(!this.options[i]||s)&&(this.options[i]=Oe(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Fa]??this.options[Ba]}set character(e){this.options[Ba]=this.options[Fa]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Ua]??this.options[ja]}set image(e){this.options[ja]=this.options[Ua]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Ha]??this.options[Wa]}set polygon(e){this.options[Wa]=this.options[Ha]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const s=n[i];s&&(this.options[i]=Oe(this.options[i]??{},s))}this.loadShape(e.character,Fa,Ba,!0),this.loadShape(e.polygon,Ha,Wa,!1),this.loadShape(e.image??e.images,Ua,ja,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class rb extends Vv{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class ob extends Mn{constructor(){super(),this.animation=new rb,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=D(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class gp{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=gr.create(this.color,e.color)),e.width!==void 0&&(this.width=D(e.width)),e.opacity!==void 0&&(this.opacity=D(e.opacity)))}}class lb extends Mn{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class ab{constructor(e,n){this._engine=e,this._container=n,this.bounce=new qv,this.collisions=new Hk,this.color=new gr,this.color.value="#fff",this.groups={},this.move=new Jk,this.number=new nb,this.opacity=new eb,this.reduceDuplicates=!1,this.shadow=new ib,this.shape=new sb,this.size=new ob,this.stroke=new gp,this.zIndex=new lb}load(e){var s,r,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(gr.create(this.color,e.color)),e.groups!==void 0)for(const l in e.groups){const a=e.groups[l];a!==void 0&&(this.groups[l]=Oe(this.groups[l]??{},a))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((s=e.move)==null?void 0:s.collisions)??((r=e.move)==null?void 0:r.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Oe({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=Ee(i,l=>{const a=new gp;return a.load(l),a})),this._container){const l=this._engine.plugins.updaters.get(this._container);if(l)for(const u of l)u.loadOptions&&u.loadOptions(this,e);const a=this._engine.plugins.interactors.get(this._container);if(a)for(const u of a)u.loadParticlesOptions&&u.loadParticlesOptions(this,e)}}}function Gv(t,...e){for(const n of e)t.load(n)}function Qv(t,e,...n){const i=new ab(t,e);return Gv(i,...n),i}class ub{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(s=>s.default.value&&s.default.mode===i)??this.themes.find(s=>s.default.value&&s.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new Sk,this.backgroundMask=new kk,this.defaultThemes={},this.delay=0,this.fullScreen=new bk,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new $v(e,n),this.manualParticles=[],this.particles=Qv(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,l;if(!e)return;e.preset!==void 0&&Ee(e.preset,a=>this._importPreset(a)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=D(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=D(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const s=e.fullScreen??e.backgroundMode;kn(s)?this.fullScreen.enable=s:this.fullScreen.load(s),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(a=>{const u=new Mk;return u.load(a),u})),this.particles.load(e.particles),this.style=Oe(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const r=this._engine.plugins.interactors.get(this._container);if(r)for(const a of r)a.loadOptions&&a.loadOptions(this,e);if(e.responsive!==void 0)for(const a of e.responsive){const u=new Dk;u.load(a),this.responsive.push(u)}if(this.responsive.sort((a,u)=>a.maxWidth-u.maxWidth),e.themes!==void 0)for(const a of e.themes){const u=this.themes.find(d=>d.name===a.name);if(u)u.load(a);else{const d=new Lk;d.load(a),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(l=this._findDefaultTheme("light"))==null?void 0:l.name}setResponsive(e,n,i){this.load(i);const s=this.responsive.find(r=>r.mode==="screen"&&screen?r.maxWidth>screen.availWidth:r.maxWidth*n>e);return this.load(s==null?void 0:s.options),s==null?void 0:s.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=Ov("(prefers-color-scheme: dark)"),i=n&&n.matches,s=this._findDefaultTheme(i?"dark":"light");s&&this.load(s.options)}}}class cb{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const yp=t=>{if(!ce(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};let db=class{constructor(e,n,i,s,r,o){this.container=i,this._calcPosition=(l,a,u,d=0)=>{for(const[,m]of l.plugins){const v=m.particlePosition!==void 0?m.particlePosition(a,this):void 0;if(v)return Ke.create(v.x,v.y,u)}const c=l.canvas.size,h=X1({size:c,position:a}),f=Ke.create(h.x,h.y,u),g=this.getRadius(),y=this.options.move.outModes,C=m=>{yp({outMode:m,checkModes:["bounce","bounce-horizontal"],coord:f.x,maxCoord:l.canvas.size.width,setCb:v=>f.x+=v,radius:g})},p=m=>{yp({outMode:m,checkModes:["bounce","bounce-vertical"],coord:f.y,maxCoord:l.canvas.size.height,setCb:v=>f.y+=v,radius:g})};return C(y.left??y.default),C(y.right??y.default),p(y.top??y.default),p(y.bottom??y.default),this._checkOverlap(f,d)?this._calcPosition(l,void 0,u,d+1):f},this._calculateVelocity=()=>{const l=K1(this.direction),a=l.copy(),u=this.options.move;if(u.direction==="inside"||u.direction==="outside")return a;const d=Math.PI/180*N(u.angle.value),c=Math.PI/180*N(u.angle.offset),h={left:c-d/2,right:c+d/2};return u.straight||(a.angle+=Ve(D(h.left,h.right))),u.random&&typeof u.speed=="number"&&(a.length*=Z()),a},this._checkOverlap=(l,a=0)=>{const u=this.options.collisions,d=this.getRadius();if(!u.enable)return!1;const c=u.overlap;if(c.enable)return!1;const h=c.retries;if(h>=0&&a>h)throw new Error(`${mt} particle is overlapping and can't be placed`);return!!this.container.particles.find(f=>nt(l,f.position)<d+f.getRadius())},this._getRollColor=l=>{if(!l||!this.roll||!this.backColor&&!this.roll.alter)return l;const a=this.roll.horizontal&&this.roll.vertical?2:1,u=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+u)/(Math.PI/a))%2?this.backColor?this.backColor:this.roll.alter?_k(l,this.roll.alter.type,this.roll.alter.value):l:l},this._initPosition=l=>{const a=this.container,u=N(this.options.zIndex.value);this.position=this._calcPosition(a,l,Pt(u,0,a.zLayers)),this.initialPosition=this.position.copy();const d=a.canvas.size;switch(this.moveCenter={...zv(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=Y1(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Ce.origin},this._loadShapeData=(l,a)=>{const u=l.options[this.shape];if(u)return Oe({close:l.close,fill:l.fill},Gt(u,this.id,a))},this._engine=e,this.init(n,s,r,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,s]of n.plugins)s.particleDestroyed&&s.particleDestroyed(this,e);for(const s of n.particles.updaters)s.particleDestroyed&&s.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??fp(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??fp(this.strokeColor))}init(e,n,i,s){const r=this.container,o=this._engine;this.id=e,this.group=s,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const l=r.retina.pixelRatio,a=r.actualOptions,u=Qv(this._engine,r,a.particles),d=u.shape.type,{reduceDuplicates:c}=u;this.shape=Gt(d,this.id,c);const h=u.shape;if(i&&i.shape&&i.shape.type){const v=i.shape.type,_=Gt(v,this.id,c);_&&(this.shape=_,h.load(i.shape))}this.shapeData=this._loadShapeData(h,c),u.load(i);const f=this.shapeData;f&&u.load(f.particles);const g=new $v(o,r);g.load(r.actualOptions.interactivity),g.load(u.interactivity),this.interactivity=g,this.fill=(f==null?void 0:f.fill)??u.shape.fill,this.close=(f==null?void 0:f.close)??u.shape.close,this.options=u;const y=this.options.move.path;this.pathDelay=oi(y.delay)*1e3,y.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(y.generator),this.pathGenerator&&r.addPath(y.generator,this.pathGenerator)&&this.pathGenerator.init(r)),r.retina.initParticle(this),this.size=Lv(this.options.size,l),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-N(this.options.move.decay);const C=r.particles;C.needsSort=C.needsSort||C.lastZIndex<this.position.z,C.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/r.zLayers,this.sides=24;let p=r.drawers.get(this.shape);p||(p=this._engine.plugins.getShapeDrawer(this.shape),p&&r.drawers.set(this.shape,p)),p&&p.loadShape&&p.loadShape(this);const m=p==null?void 0:p.getSidesCount;m&&(this.sides=m(this)),this.spawning=!1,this.shadowColor=It(this.options.shadow.color);for(const v of r.particles.updaters)v.init(this);for(const v of r.particles.movers)v.init&&v.init(this);p&&p.particleInit&&p.particleInit(r,this);for(const[,v]of r.plugins)v.particleCreated&&v.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}};class hb{constructor(e,n){this.position=e,this.particle=n}}class Yv{constructor(e,n){this.position={x:e,y:n}}}class Nt extends Yv{constructor(e,n,i,s){super(e,n),this.size={height:s,width:i}}contains(e){const n=this.size.width,i=this.size.height,s=this.position;return e.x>=s.x&&e.x<=s.x+n&&e.y>=s.y&&e.y<=s.y+i}intersects(e){e instanceof Me&&e.intersects(this);const n=this.size.width,i=this.size.height,s=this.position,r=e.position,o=e instanceof Nt?e.size:{width:0,height:0},l=o.width,a=o.height;return r.x<s.x+n&&r.x+l>s.x&&r.y<s.y+i&&r.y+a>s.y}}class Me extends Yv{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return nt(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,s={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},r=this.radius;if(e instanceof Me){const o=r+e.radius,l=Math.sqrt(s.x**2+s.y**2);return o>l}else if(e instanceof Nt){const{width:o,height:l}=e.size;return Math.pow(s.x-o,2)+Math.pow(s.y-l,2)<=r**2||s.x<=r+o&&s.y<=r+l||s.x<=o||s.y<=l}return!1}}class ol{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:s}=this.rectangle.position,{width:r,height:o}=this.rectangle.size,{capacity:l}=this;for(let a=0;a<4;a++)this._subs.push(new ol(new Nt(i+r/2*(a%2),s+o/2*(Math.round(a/2)-a%2),r/2,o/2),l));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const s=i||[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&nt(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||s.push(r.particle);if(this._divided)for(const r of this._subs)r.query(e,n,s);return s}queryCircle(e,n,i){return this.query(new Me(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Nt(e.x,e.y,n.width,n.height),i)}}const vp=4,_p=t=>new Nt(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let fb=class{constructor(e,n){this._applyDensity=(s,r,o)=>{var f;if(!((f=s.number.density)!=null&&f.enable))return;const l=s.number,a=this._initDensityFactor(l.density),u=l.value,d=l.limit>0?l.limit:u,c=Math.min(u,d)*a+r,h=Math.min(this.count,this.filter(g=>g.group===o).length);this.limit=l.limit*a,h<c?this.push(Math.abs(c-h),void 0,s,o):h>c&&this.removeQuantity(h-c,o)},this._initDensityFactor=s=>{const r=this._container;if(!r.canvas.element||!s.enable)return 1;const o=r.canvas.element,l=r.retina.pixelRatio;return o.width*o.height/(s.factor*l**2*s.area)},this._pushParticle=(s,r,o,l)=>{try{let a=this.pool.pop();a?a.init(this._nextId,s,r,o):a=new db(this._engine,this._nextId,this._container,s,r,o);let u=!0;return l&&(u=l(a)),u?(this._array.push(a),this._zArray.push(a),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:a}}),a):void 0}catch(a){li().warning(`${mt} adding particle: ${a}`);return}},this._removeParticle=(s,r,o)=>{const l=this._array[s];if(!l||l.group!==r)return!1;l.destroy(o);const a=this._zArray.indexOf(l);return this._array.splice(s,1),this._zArray.splice(a,1),this.pool.push(l),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:l}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new cb(e,n);const i=n.canvas.size;this.quadTree=new ol(_p(i),vp),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?zv(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,s){const r=this._container,o=r.actualOptions,l=o.particles.number.limit;if(l>0){const a=this.count+1-l;a>0&&this.removeQuantity(a)}return this._pushParticle(e,n,i,s)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var s;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,r]of e.plugins)if(r.particlesInitialization!==void 0&&(i=r.particlesInitialization()),i)break;this._interactionManager.init();for(const[,r]of e.pathGenerators)r.init(e);if(this.addManualParticles(),!i){for(const r in n.particles.groups){const o=n.particles.groups[r];for(let l=this.count,a=0;a<((s=o.number)==null?void 0:s.value)&&l<n.particles.number.value;l++,a++)this.addParticle(void 0,o,r)}for(let r=this.count;r<n.particles.number.value;r++)this.addParticle()}}push(e,n,i,s){this.pushing=!0;for(let r=0;r<e;r++)this.addParticle(n==null?void 0:n.position,i,s);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,s){if(e<0||e>this.count)return;let r=0;for(let o=e;r<n&&o<this.count;o++)this._removeParticle(o--,i,s)&&r++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new ol(_p(n.canvas.size),vp);for(const[,s]of n.pathGenerators)s.update();for(const[,s]of n.plugins)s.update&&s.update(e);for(const s of this._array){const r=n.canvas.resizeFactor;r&&!s.ignoresResizeRatio&&(s.position.x*=r.width,s.position.y*=r.height,s.initialPosition.x*=r.width,s.initialPosition.y*=r.height),s.ignoresResizeRatio=!1,await this._interactionManager.reset(s);for(const[,o]of this._container.plugins){if(s.destroyed)break;o.particleUpdate&&o.particleUpdate(s,e)}for(const o of this.movers)o.isEnabled(s)&&o.move(s,e);if(s.destroyed){i.add(s);continue}this.quadTree.insert(new hb(s.getPosition(),s))}if(i.size){const s=r=>!i.has(r);this._array=this.filter(s),this._zArray=this._zArray.filter(s),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const s of this._array){for(const r of this.updaters)r.update(s,e);!s.destroyed&&!s.spawning&&await this._interactionManager.particlesInteract(s,e)}if(delete n.canvas.resizeFactor,this.needsSort){const s=this._zArray;s.sort((r,o)=>o.position.z-r.position.z||r.id-o.id),this.lastZIndex=s[s.length-1].position.z,this.needsSort=!1}}};class pb{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Zi()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const s=n.particles,r=s.move;this.attractDistance=N(r.attract.distance)*i,this.maxSpeed=N(r.gravity.maxSpeed)*i,this.sizeAnimationSpeed=N(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,s=n.move,r=s.distance,o=e.retina;o.attractDistance=N(s.attract.distance)*i,o.moveDrift=N(s.drift)*i,o.moveSpeed=N(s.speed)*i,o.sizeAnimationSpeed=N(n.size.animation.speed)*i;const l=o.maxDistance;l.horizontal=r.horizontal!==void 0?r.horizontal*i:void 0,l.vertical=r.vertical!==void 0?r.vertical*i:void 0,o.maxSpeed=N(s.gravity.maxSpeed)*i}}function te(t){return t&&!t.destroyed}function mb(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function pi(t,e,...n){const i=new ub(t,e);return Gv(i,...n),i}const gb="default",wp={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class yb{constructor(e,n,i){this.id=n,this._intersectionManager=s=>{if(!(!te(this)||!this.actualOptions.pauseOnOutsideViewport))for(const r of s)r.target===this.interactivity.element&&(r.isIntersecting?this.play:this.pause)()},this._nextFrame=async s=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&s<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=s);const r=mb(s-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(r.value),this.lastFrameTime=s,r.value>1e3){this.draw(!1);return}if(await this.particles.draw(r),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(r){li().error(`${mt} in animation loop`,r)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new pb(this),this.canvas=new Ck(this),this.particles=new fb(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=pi(this._engine,this),this.actualOptions=pi(this._engine,this),this._eventListeners=new Ek(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(s=>this._intersectionManager(s))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!te(this))return;const n=this.interactivity.element;if(!n)return;const i=(c,h,f)=>{if(!te(this))return;const g=this.retina.pixelRatio,y={x:h.x*g,y:h.y*g},C=this.particles.quadTree.queryCircle(y,f*g);e(c,C)},s=c=>{if(!te(this))return;const h=c,f={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};i(c,f,1)},r=()=>{te(this)&&(u=!0,d=!1)},o=()=>{te(this)&&(d=!0)},l=c=>{if(te(this)){if(u&&!d){const h=c;let f=h.touches[h.touches.length-1];if(!f&&(f=h.changedTouches[h.changedTouches.length-1],!f))return;const g=this.canvas.element,y=g?g.getBoundingClientRect():void 0,C={x:f.clientX-(y?y.left:0),y:f.clientY-(y?y.top:0)};i(c,C,Math.max(f.radiusX,f.radiusY))}u=!1,d=!1}},a=()=>{te(this)&&(u=!1,d=!1)};let u=!1,d=!1;n.addEventListener("click",s),n.addEventListener("touchstart",r),n.addEventListener("touchmove",o),n.addEventListener("touchend",l),n.addEventListener("touchcancel",a)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!te(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??wp),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!te(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!te(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const s=await i.export(e,n);if(s.supported)return s.blob}li().error(`${mt} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&te(this)}handleClickMode(e){if(te(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!te(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const s=this._engine.plugins.getShapeDrawer(i);s&&this.drawers.set(i,s)}this._options=pi(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=pi(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,s]of n)this.plugins.set(i,s);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=N(this.actualOptions.duration)*1e3,this._delay=N(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){te(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(te(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!te(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(te(this))return this.stop(),this.start()}async reset(){if(te(this))return this._initialSourceOptions=void 0,this._options=pi(this._engine,this),this.actualOptions=pi(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){te(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!te(this))return;const s={...wp};if(Fv(e))s.generate=e,n&&(s.init=n),i&&(s.update=i);else{const r=s;s.generate=e.generate||r.generate,s.init=e.init||r.init,s.update=e.update||r.update}this.addPath(gb,s,!0)}async start(){!te(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!te(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class vb{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(s=>s(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const s=i.length,r=i.indexOf(n);r<0||(s===1?this._listeners.delete(e):i.splice(r,1))}}function $a(t,e,n,i=!1){let s=e.get(t);return(!s||i)&&(s=[...n.values()].map(r=>r(t)),e.set(t,s)),s}class _b{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){Ee(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return $a(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return $a(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return $a(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const s=this.updaters.get(e);if(s)for(const r of s)r.loadOptions&&r.loadOptions(n,...i)}}async function wb(t){const e=Gt(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(li().error(`${mt} ${n.status} while retrieving config file`),t.fallback)}function Cb(t){return!t.id&&!t.element&&!t.url&&!t.options}function Eb(t){return!Cb(t)}class Sb{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new vb,this._initialized=!1,this.plugins=new _b(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){bt(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,s=!0){this.plugins.addPreset(e,n,i),await this.refresh(s)}async addShape(e,n,i,s,r,o=!0){let l,a=o,u,d,c;kn(i)?(a=i,u=void 0):u=i,kn(s)?(a=s,d=void 0):d=s,kn(r)?(a=r,c=void 0):c=r,Fv(n)?l={afterEffect:d,destroy:c,draw:n,init:u}:l=n,this.plugins.addShapeDrawer(e,l),await this.refresh(a)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let s;return Eb(e)?s=e:(s={},bt(e)?s.id=e:s.options=e,Tt(n)?s.index=n:s.options=n??s.options,s.index=i??s.index),this._loadParams(s)}async loadJSON(e,n,i){let s,r;return Tt(n)||n===void 0?s=e:(r=e,s=n),this._loadParams({id:r,url:s,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,s){const r={index:s};return bt(e)?r.id=e:r.element=e,n instanceof HTMLElement?r.element=n:r.options=n,Tt(i)?r.index=i:r.options=i??r.options,this._loadParams(r)}async setJSON(e,n,i,s){const r={};return e instanceof HTMLElement?(r.element=e,r.url=n,r.index=i):(r.id=e,r.element=n,r.url=i,r.index=s),this._loadParams(r)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${mt} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Z()*1e4)}`,{index:i,url:s}=e,r=s?await wb({fallback:e.options,url:s,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const l=Gt(r,i),a=this.dom(),u=a.findIndex(h=>h.id===n);if(u>=0){const h=this.domItem(u);h&&!h.destroyed&&(h.destroy(),a.splice(u,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Bs]="false";else{const h=o.getElementsByTagName("canvas");h.length?(d=h[0],d.dataset[Bs]="false"):(d=document.createElement("canvas"),d.dataset[Bs]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const c=new yb(this,n,l);return u>=0?a.splice(u,0,c):a.push(c),c.canvas.loadCanvas(d),await c.start(),c}}class xb{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return es(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return es({h:N(i.h),l:N(i.l),s:N(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?ck({a:i.length>4?Nv(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class kb{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:N(i.r),g:N(i.g),b:N(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?Nv(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function bb(){const t=new kb,e=new xb;hp(t),hp(e);const n=new Sb;return n.init(),n}class Ft{constructor(e){this.container=e,this.type="external"}}class Xd{constructor(e){this.container=e,this.type="particles"}}const ll=bb();Zi()||(window.tsParticles=ll);const Pi=t=>typeof t=="object"&&t!==null;function al(t,e,n=()=>!1){if(!Pi(t)||!Pi(e))return t===e;const i=Object.keys(t).filter(r=>!n(r)),s=Object.keys(e).filter(r=>!n(r));if(i.length!==s.length)return!1;for(const r of i){const o=t[r],l=e[r];if(Pi(o)&&Pi(l)){if(o===e&&l===t)continue;if(!al(o,l,n))return!1}else if(Array.isArray(o)&&Array.isArray(l)){if(!Kv(o,l,n))return!1}else if(o!==l)return!1}return!0}function Kv(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const s=t[i],r=e[i];if(Array.isArray(s)&&Array.isArray(r)){if(!Kv(s,r,n))return!1}else if(Pi(s)&&Pi(r)){if(!al(s,r,n))return!1}else if(s!==r)return!1}return!0}const Xv="tsparticles";let Jv=class Zv extends Xe.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){const n=e.options??e.params,i=this.props.options??this.props.params;return e.url!==this.props.url||e.id!==this.props.id||e.canvasClassName!==this.props.canvasClassName||e.className!==this.props.className||e.height!==this.props.height||e.width!==this.props.width||!al(e.style,this.props.style)||e.init!==this.props.init||e.loaded!==this.props.loaded||!al(n,i,s=>s.startsWith("_"))}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(ll),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:s,id:r}=this.props;return uh.createElement("div",{className:i,id:r},uh.createElement("canvas",{className:s,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??Zv.defaultProps.id??Xv,n=await ll.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};Jv.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:Xv};class ul{static init(e){var r;const n=new ul,i=e.selector;if(!i)throw new Error("No selector provided");const s=document.querySelector(i);if(!s)throw new Error("No element found for selector");return ll.set(i.replace(".","").replace("!",""),s,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(r=e.responsive)==null?void 0:r.map(o=>{var l,a,u,d,c;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(l=o.options)==null?void 0:l.color},links:{distance:(a=o.options)==null?void 0:a.minDistance,enable:(u=o.options)==null?void 0:u.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=o.options)==null?void 0:d.speed},size:{value:(c=o.options)==null?void 0:c.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const Tb=t=>{const e=(i,s)=>t.load(i,s);e.load=(i,s,r)=>{t.loadJSON(i,s).then(o=>{o&&r(o)}).catch(()=>{r(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},Ib=t=>{const{particlesJS:e,pJSDom:n}=Tb(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=ul,{particlesJS:e,pJSDom:n,Particles:ul}};function Rb(t){const e=t.initialPosition,{dx:n,dy:i}=Fe(e,t.position),s=Math.abs(n),r=Math.abs(i),{maxDistance:o}=t.retina,l=o.horizontal,a=o.vertical;if(!(!l&&!a)){if((l&&s>=l||a&&r>=a)&&!t.misplaced)t.misplaced=!!l&&s>l||!!a&&r>a,l&&(t.velocity.x=t.velocity.y/2-t.velocity.x),a&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!l||s<l)&&(!a||r<a)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const u=t.position,d=t.velocity;l&&(u.x<e.x&&d.x<0||u.x>e.x&&d.x>0)&&(d.x*=-Z()),a&&(u.y<e.y&&d.y<0||u.y>e.y&&d.y>0)&&(d.y*=-Z())}}}function Pb(t,e,n,i,s,r){Ob(t,r);const o=t.gravity,l=o!=null&&o.enable&&o.inverse?-1:1;s&&n&&(t.velocity.x+=s*r.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=l*(o.acceleration*r.factor)/(60*n));const a=t.moveDecay;t.velocity.multTo(a);const u=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&u.y>=0&&u.y>=i||o.inverse&&u.y<=0&&u.y<=-i)&&(u.y=l*i,n&&(t.velocity.y=u.y/n));const d=t.options.zIndex,c=(1-t.zIndexFactor)**d.velocityRate;u.multTo(c);const{position:h}=t;h.addTo(u),e.vibrate&&(h.x+=Math.sin(h.x*Math.cos(h.y)),h.y+=Math.cos(h.y*Math.sin(h.x)))}function Nb(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const s=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>s/2?(t.spin.radius=s/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/s)}function Ob(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const r=(o=t.pathGenerator)==null?void 0:o.generate(t,e);r&&t.velocity.addTo(r),i.clamp&&(t.velocity.x=Pt(t.velocity.x,-1,1),t.velocity.y=Pt(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function Mb(t){return t.slow.inRange?t.slow.factor:1}const Db=2;class Ab{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,s=i.move.spin;if(!s.enable)return;const r=s.position??{x:50,y:50},o={x:r.x/100*n.canvas.size.width,y:r.y/100*n.canvas.size.height},l=e.getPosition(),a=nt(l,o),u=N(s.acceleration);e.retina.spinAcceleration=u*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:a,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:N(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var g,y;const i=e.options,s=i.move;if(!s.enable)return;const r=e.container,o=r.retina.pixelRatio,l=Mb(e),a=((g=e.retina).moveSpeed??(g.moveSpeed=N(s.speed)*o))*r.retina.reduceFactor,u=(y=e.retina).moveDrift??(y.moveDrift=N(e.options.move.drift)*o),d=fn(i.size.value)*o,c=s.size?e.getRadius()/d:1,h=a*c*l*(n.factor||1)/Db,f=e.retina.maxSpeed??r.retina.maxSpeed;s.spin.enable?Nb(e,h):Pb(e,s,h,f,u,n),Rb(e)}}async function Lb(t,e=!0){await t.addMover("base",()=>new Ab,e)}class zb{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const s=n.circleRange;e.arc(0,0,i,s.min,s.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,s=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=Ri(s)?{min:s.min*Math.PI/180,max:s.max*Math.PI/180}:{min:0,max:s*Math.PI/180}}}async function Fb(t,e=!0){await t.addShape("circle",new zb,e)}function Va(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const r=Ve(n.offset),o=(e.velocity??0)*t.factor+r*3.6,l=e.decay??1;!s||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&l!==1&&(e.velocity*=l),e.value>i&&(e.value%=i)}function Bb(t,e){const{h:n,s:i,l:s}=t.options.color.animation,{color:r}=t;if(!r)return;const{h:o,s:l,l:a}=r;o&&Va(e,o,n,360,!1),l&&Va(e,l,i,100,!0),a&&Va(e,a,s,100,!0)}class Ub{constructor(e){this.container=e}init(e){const n=pr(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=Wv(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:s}=e.options.color.animation,{color:r}=e;return!e.destroyed&&!e.spawning&&((r==null?void 0:r.h.value)!==void 0&&n.enable||(r==null?void 0:r.s.value)!==void 0&&i.enable||(r==null?void 0:r.l.value)!==void 0&&s.enable)}update(e,n){Bb(e,n)}}async function jb(t,e=!0){await t.addParticleUpdater("color",n=>new Ub(n),e)}function Hb(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function Wb(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,s=n.max,r=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=r),Hb(t,n.value,i,s),t.destroyed||(n.value=Pt(n.value,i,s))}}class $b{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=Lv(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=N(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Z()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&Wb(e,n)}}async function Vb(t,e=!0){await t.addParticleUpdater("opacity",n=>new $b(n),e)}function qb(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const s=oi(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-s,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function Gb(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const s=oi(t.particle.options.bounce.vertical);t.particle.velocity.y*=-s,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class Qb{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;let o=!1;for(const[,h]of r.plugins)if(h.particleBounce!==void 0&&(o=h.particleBounce(e,i,n)),o)break;if(o)return;const l=e.getPosition(),a=e.offset,u=e.getRadius(),d=Pr(l,u),c=r.canvas.size;qb({particle:e,outMode:s,direction:n,bounds:d,canvasSize:c,offset:a,size:u}),Gb({particle:e,outMode:s,direction:n,bounds:d,canvasSize:c,offset:a,size:u})}}class Yb{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case"normal":case"outside":if(Gd(e.position,r.canvas.size,Ce.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:l}=Fe(e.position,e.moveCenter),{x:a,y:u}=e.velocity;if(a<0&&o>e.moveCenter.radius||u<0&&l>e.moveCenter.radius||a>=0&&o<-e.moveCenter.radius||u>=0&&l<-e.moveCenter.radius)return;break}}r.particles.remove(e,void 0,!0)}}class Kb{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,s){if(!this.modes.includes(s)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const r=e.options.move.gravity,o=this.container,l=o.canvas.size,a=e.getRadius();if(r.enable){const u=e.position;(!r.inverse&&u.y>l.height+a&&n==="bottom"||r.inverse&&u.y<-a&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=l.height+a||e.velocity.y<0&&e.position.y>=-a||e.velocity.x>0&&e.position.x<=l.width+a||e.velocity.x<0&&e.position.x>=-a)return;Gd(e.position,o.canvas.size,Ce.origin,a,n)||o.particles.remove(e)}}}class Xb{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,s){if(!this.modes.includes(s))return;const r=this.container;switch(e.outType){case"inside":{const{x:o,y:l}=e.velocity,a=Ce.origin;a.length=e.moveCenter.radius,a.angle=e.velocity.angle+Math.PI,a.addTo(Ce.create(e.moveCenter));const{dx:u,dy:d}=Fe(e.position,a);if(o<=0&&u>=0||l<=0&&d>=0||o>=0&&u<=0||l>=0&&d<=0)return;e.position.x=Math.floor(Ve({min:0,max:r.canvas.size.width})),e.position.y=Math.floor(Ve({min:0,max:r.canvas.size.height}));const{dx:c,dy:h}=Fe(e.position,e.moveCenter);e.direction=Math.atan2(-h,-c),e.velocity.angle=e.direction;break}default:{if(Gd(e.position,r.canvas.size,Ce.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Ve({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ve({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:l}=Fe(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(l,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,l=r.canvas.size,a={bottom:l.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:l.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),d=Pr(e.position,u);n==="right"&&d.left>l.width+e.offset.x?(e.position.x=a.left,e.initialPosition.x=e.position.x,o||(e.position.y=Z()*l.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=a.right,e.initialPosition.x=e.position.x,o||(e.position.y=Z()*l.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>l.height+e.offset.y?(o||(e.position.x=Z()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=Z()*l.width,e.initialPosition.x=e.position.x),e.position.y=a.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class Jb{constructor(e){this.container=e,this._updateOutMode=(n,i,s,r)=>{for(const o of this.updaters)o.update(n,r,i,s)},this.updaters=[new Qb(e),new Yb(e),new Xb(e),new Kb(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function Zb(t,e=!0){await t.addParticleUpdater("outModes",n=>new Jb(n),e)}function eT(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function tT(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,s=n.min,r=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=s?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),eT(t,n.value,s,r),t.destroyed||(n.value=Pt(n.value,s,r))}}class nT{init(e){const n=e.container,i=e.options.size,s=i.animation;s.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,s.sync||(e.size.velocity*=Z()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&tT(e,n)}}async function iT(t,e=!0){await t.addParticleUpdater("size",()=>new nT,e)}async function sT(t,e=!0){await Lb(t,!1),await Fb(t,!1),await jb(t,!1),await Vb(t,!1),await Zb(t,!1),await iT(t,!1),await t.refresh(e)}async function rT(){Oa("ease-in-quad",t=>t**2),Oa("ease-out-quad",t=>1-(1-t)**2),Oa("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class oT{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let lT=class extends Ft{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:s}=i;if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const r=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!r)return;this._processAttract(r,o,new Me(r.x,r.y,o))}else s.clicking===!1&&(s.particles=[])},this._hoverAttract=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.attractModeDistance;!r||r<0||!s||this._processAttract(s,r,new Me(s.x,s.y,r))},this._processAttract=(i,s,r)=>{const o=this.container,l=o.actualOptions.interactivity.modes.attract;if(!l)return;const a=o.particles.quadTree.query(r,u=>this.isEnabled(u));for(const u of a){const{dx:d,dy:c,distance:h}=Fe(u.position,i),f=l.speed*l.factor,g=Pt(Pv(l.easing)(1-h/s)*f,0,l.maxSpeed),y=Ce.create(h===0?f:d/h*g,h===0?f:c/h*g);u.position.subFrom(y)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.attract;if(!(!r||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},r.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ri,s=n.interactivity.events,r=s.onHover.enable,o=s.onHover.mode,l=s.onClick.enable,a=s.onClick.mode;i&&r&&ce("attract",o)?this._hoverAttract():l&&ce("attract",a)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!s.position||!r.onHover.enable)&&(!s.clickPosition||!r.onClick.enable))return!1;const o=r.onHover.mode,l=r.onClick.mode;return ce("attract",o)||ce("attract",l)}loadModeOptions(e,...n){e.attract||(e.attract=new oT);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function aT(t,e=!0){await t.addInteractor("externalAttract",n=>new lT(t,n),e)}class uT{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class cT extends Ft{constructor(e){super(e),this._processBounce=(n,i,s)=>{const r=this.container.particles.quadTree.query(s,o=>this.isEnabled(o));for(const o of r)s instanceof Me?Dv(pc(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:Ce.origin,factor:Ce.origin}):s instanceof Nt&&ok(o,Pr(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,s=10*i,r=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!r||this._processBounce(r,o,new Me(r.x,r.y,o+s))},this._singleSelectorBounce=(n,i)=>{const s=this.container,r=document.querySelectorAll(n);r.length&&r.forEach(o=>{const l=o,a=s.retina.pixelRatio,u={x:(l.offsetLeft+l.offsetWidth/2)*a,y:(l.offsetTop+l.offsetHeight/2)*a},d=l.offsetWidth/2*a,c=10*a,h=i.type==="circle"?new Me(u.x,u.y,d+c):new Nt(l.offsetLeft*a-c,l.offsetTop*a-c,l.offsetWidth*a+c*2,l.offsetHeight*a+c*2);this._processBounce(u,d,h)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,s=e.interactivity.status===ri,r=i.onHover.enable,o=i.onHover.mode,l=i.onDiv;s&&r&&ce("bounce",o)?this._processMouseBounce():Yd("bounce",l,(a,u)=>this._singleSelectorBounce(a,u))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv;return s.position&&r.onHover.enable&&ce("bounce",r.onHover.mode)||Qd("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new uT);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function dT(t,e=!0){await t.addInteractor("externalBounce",n=>new cT(n),e)}class e_{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=it(this.color)?void 0:this.color;this.color=Ee(e.color,i=>be.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class hT extends e_{constructor(){super(),this.selectors=[]}get ids(){return Ee(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Ee(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class fT extends e_{load(e){super.load(e),e&&(this.divs=Ee(e.divs,n=>{const i=new hT;return i.load(n),i}))}}function Cp(t,e,n,i){if(e>=n){const s=t+(e-n)*i;return Pt(s,t,e)}else if(e<n){const s=t-(n-e)*i;return Pt(s,e,t)}}class pT extends Ft{constructor(e){super(e),this._clickBubble=()=>{var u;const n=this.container,i=n.actualOptions,s=n.interactivity.mouse.clickPosition,r=i.interactivity.modes.bubble;if(!r||!s)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const l=n.particles.quadTree.queryCircle(s,o,d=>this.isEnabled(d)),{bubble:a}=n;for(const d of l){if(!a.clicking)continue;d.bubble.inRange=!a.durationEnd;const c=d.getPosition(),h=nt(c,s),f=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;f>r.duration&&(a.durationEnd=!0),f>r.duration*2&&(a.clicking=!1,a.durationEnd=!1);const g={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:fn(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,h,f,g);const y={bubbleObj:{optValue:r.opacity,value:d.bubble.opacity},particlesObj:{optValue:fn(d.options.opacity.value),value:((u=d.opacity)==null?void 0:u.value)??1},type:"opacity"};this._process(d,h,f,y),!a.durationEnd&&h<=o?this._hoverBubbleColor(d,h):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,s=n.retina.bubbleModeDistance;if(!s||s<0||i===void 0)return;const r=n.particles.quadTree.queryCircle(i,s,o=>this.isEnabled(o));for(const o of r){o.bubble.inRange=!0;const l=o.getPosition(),a=nt(l,i),u=1-a/s;a<=s?u>=0&&n.interactivity.status===ri&&(this._hoverBubbleSize(o,u),this._hoverBubbleOpacity(o,u),this._hoverBubbleColor(o,u)):this.reset(o),n.interactivity.status===hc&&this.reset(o)}},this._hoverBubbleColor=(n,i,s)=>{const r=this.container.actualOptions,o=s??r.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const l=o.color;if(!l)return;const a=Gt(l);n.bubble.finalColor=pr(a)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const l=n.getFillColor();n.bubble.color=l?Uv(Kd(l,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,s)=>{var c,h;const r=this.container,o=r.actualOptions,l=(s==null?void 0:s.opacity)??((c=o.interactivity.modes.bubble)==null?void 0:c.opacity);if(!l)return;const a=n.options.opacity.value,u=((h=n.opacity)==null?void 0:h.value)??1,d=Cp(u,l,fn(a),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,s)=>{const r=this.container,o=s!=null&&s.size?s.size*r.retina.pixelRatio:r.retina.bubbleModeSize;if(o===void 0)return;const l=fn(n.options.size.value)*r.retina.pixelRatio,a=n.size.value,u=Cp(a,o,l,i);u!==void 0&&(n.bubble.radius=u)},this._process=(n,i,s,r)=>{const o=this.container,l=r.bubbleObj.optValue,a=o.actualOptions,u=a.interactivity.modes.bubble;if(!u||l===void 0)return;const d=u.duration,c=o.retina.bubbleModeDistance,h=r.particlesObj.optValue,f=r.bubbleObj.value,g=r.particlesObj.value||0,y=r.type;if(!(!c||c<0||l===h))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)f&&(y==="size"&&delete n.bubble.radius,y==="opacity"&&delete n.bubble.opacity);else if(i<=c){if((f??g)!==l){const p=g-s*(g-l)/d;y==="size"&&(n.bubble.radius=p),y==="opacity"&&(n.bubble.opacity=p)}}else y==="size"&&delete n.bubble.radius,y==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,s)=>{const r=this.container,o=document.querySelectorAll(i),l=r.actualOptions.interactivity.modes.bubble;!l||!o.length||o.forEach(a=>{const u=a,d=r.retina.pixelRatio,c={x:(u.offsetLeft+u.offsetWidth/2)*d,y:(u.offsetTop+u.offsetHeight/2)*d},h=u.offsetWidth/2*d,f=s.type==="circle"?new Me(c.x,c.y,h):new Nt(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),g=r.particles.quadTree.query(f,y=>this.isEnabled(y));for(const y of g){if(!f.contains(y.getPosition()))continue;y.bubble.inRange=!0;const C=l.divs,p=Mv(C,u);(!y.bubble.div||y.bubble.div!==u)&&(this.clear(y,n,!0),y.bubble.div=u),this._hoverBubbleSize(y,1,p),this._hoverBubbleOpacity(y,1,p),this._hoverBubbleColor(y,1,p)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,s=i.onHover,r=i.onClick,o=s.enable,l=s.mode,a=r.enable,u=r.mode,d=i.onDiv;o&&ce("bubble",l)?this._hoverBubble():a&&ce("bubble",u)?this._clickBubble():Yd("bubble",d,(c,h)=>this._singleSelectorHover(e,c,h))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:l,onHover:a}=r,u=Qd("bubble",l);return u||a.enable&&s.position||o.enable&&s.clickPosition?ce("bubble",a.mode)||ce("bubble",o.mode)||u:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new fT);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function mT(t,e=!0){await t.addInteractor("externalBubble",n=>new pT(n),e)}class gT{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class yT{constructor(){this.distance=80,this.links=new gT,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function vT(t,e,n,i){const s=Math.floor(n.getRadius()/e.getRadius()),r=e.getFillColor(),o=n.getFillColor();if(!r||!o)return;const l=e.getPosition(),a=n.getPosition(),u=Kd(r,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(l.x,l.y,a.x,a.y);return d.addColorStop(0,mr(r,i)),d.addColorStop(s>1?1:s,Qt(u,i)),d.addColorStop(1,mr(o,i)),d}function _T(t,e,n,i,s){Us(t,i,s),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function wT(t,e,n,i){const s=t.actualOptions,r=s.interactivity.modes.connect;if(r)return vT(e,n,i,r.links.opacity)}function CT(t,e,n){t.canvas.draw(i=>{const s=wT(t,i,e,n);if(!s)return;const r=e.getPosition(),o=n.getPosition();_T(i,e.retina.linksWidth??0,s,r,o)})}class ET extends Ft{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const s=Math.abs(e.retina.connectModeRadius),r=e.particles.quadTree.queryCircle(i,s,l=>this.isEnabled(l));let o=0;for(const l of r){const a=l.getPosition();for(const u of r.slice(o+1)){const d=u.getPosition(),c=Math.abs(e.retina.connectModeDistance),h=Math.abs(a.x-d.x),f=Math.abs(a.y-d.y);h<c&&f<c&&CT(e,l,u)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&i.position?ce("connect",s.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new yT);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function ST(t,e=!0){await t.addInteractor("externalConnect",n=>new ET(n),e)}class xT{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=be.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class kT{constructor(){this.distance=100,this.links=new xT}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function bT(t,e,n,i,s,r){Us(t,n,i),t.strokeStyle=Qt(s,r),t.lineWidth=e,t.stroke()}function TT(t,e,n,i,s){t.canvas.draw(r=>{const o=e.getPosition();bT(r,e.retina.linksWidth??0,o,s,n,i)})}class IT extends Ft{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var l;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ri)return;const s=e.interactivity.mouse.position;if(!s)return;const r=e.retina.grabModeDistance;if(!r||r<0)return;const o=e.particles.quadTree.queryCircle(s,r,a=>this.isEnabled(a));for(const a of o){const u=a.getPosition(),d=nt(u,s);if(d>r)continue;const c=i.modes.grab.links,h=c.opacity,f=h-d*h/r;if(f<=0)continue;const g=c.color??((l=a.options.links)==null?void 0:l.color);if(!e.particles.grabLineColor&&g){const C=i.modes.grab.links;e.particles.grabLineColor=Hv(g,C.blink,C.consent)}const y=mc(a,void 0,e.particles.grabLineColor);y&&TT(e,a,y,f,s)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&ce("grab",s.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new kT);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function RT(t,e=!0){await t.addInteractor("externalGrab",n=>new IT(n),e)}class PT extends Ft{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function NT(t,e=!0){await t.addInteractor("externalPause",n=>new PT(n),e)}class OT{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=D(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=D(n))}}class MT extends Ft{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,s=i.actualOptions,r=s.interactivity.modes.push;if(!r)return;const o=N(r.quantity);if(o<=0)return;const l=Fl([void 0,...r.groups]),a=l!==void 0?i.actualOptions.particles.groups[l]:void 0;i.particles.push(o,i.interactivity.mouse,a,l)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new OT);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function DT(t,e=!0){await t.addInteractor("externalPush",n=>new MT(n),e)}class AT{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=D(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=D(n))}}class LT extends Ft{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,s=i.actualOptions;if(!s.interactivity.modes.remove||n!=="remove")return;const r=N(s.interactivity.modes.remove.quantity);i.particles.removeQuantity(r)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new AT);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function zT(t,e=!0){await t.addInteractor("externalRemove",n=>new LT(n),e)}class t_{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class FT extends t_{constructor(){super(),this.selectors=[]}get ids(){return Ee(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=Ee(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class BT extends t_{load(e){super.load(e),e&&(this.divs=Ee(e.divs,n=>{const i=new FT;return i.load(n),i}))}}class UT extends Ft{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,s=i.actualOptions.interactivity.modes.repulse;if(!s)return;const r=i.repulse||{particles:[]};if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const l=Math.pow(o/6,3),a=i.interactivity.mouse.clickPosition;if(a===void 0)return;const u=new Me(a.x,a.y,l),d=i.particles.quadTree.query(u,c=>this.isEnabled(c));for(const c of d){const{dx:h,dy:f,distance:g}=Fe(a,c.position),y=g**2,C=s.speed,p=-l*C/y;if(y<=l){r.particles.push(c);const m=Ce.create(h,f);m.length=p,c.velocity.setTo(m)}}}else if(r.clicking===!1){for(const o of r.particles)o.velocity.setTo(o.initialVelocity);r.particles=[]}},this._hoverRepulse=()=>{const i=this.container,s=i.interactivity.mouse.position,r=i.retina.repulseModeDistance;!r||r<0||!s||this._processRepulse(s,r,new Me(s.x,s.y,r))},this._processRepulse=(i,s,r,o)=>{const l=this.container,a=l.particles.quadTree.query(r,d=>this.isEnabled(d)),u=l.actualOptions.interactivity.modes.repulse;if(u)for(const d of a){const{dx:c,dy:h,distance:f}=Fe(d.position,i),g=((o==null?void 0:o.speed)??u.speed)*u.factor,y=Pt(Pv(u.easing)(1-f/s)*g,0,u.maxSpeed),C=Ce.create(f===0?g:c/f*y,f===0?g:h/f*y);d.position.addTo(C)}},this._singleSelectorRepulse=(i,s)=>{const r=this.container,o=r.actualOptions.interactivity.modes.repulse;if(!o)return;const l=document.querySelectorAll(i);l.length&&l.forEach(a=>{const u=a,d=r.retina.pixelRatio,c={x:(u.offsetLeft+u.offsetWidth/2)*d,y:(u.offsetTop+u.offsetHeight/2)*d},h=u.offsetWidth/2*d,f=s.type==="circle"?new Me(c.x,c.y,h):new Nt(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),g=o.divs,y=Mv(g,u);this._processRepulse(c,h,f,y)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const s=this.container.actualOptions,r=s.interactivity.modes.repulse;if(!r||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const l of n.repulse.particles)this.isEnabled(l)&&l.velocity.setTo(l.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},r.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ri,s=n.interactivity.events,r=s.onHover,o=r.enable,l=r.mode,a=s.onClick,u=a.enable,d=a.mode,c=s.onDiv;i&&o&&ce("repulse",l)?this._hoverRepulse():u&&ce("repulse",d)?this._clickRepulse():Yd("repulse",c,(h,f)=>this._singleSelectorRepulse(h,f))}isEnabled(e){const n=this.container,i=n.actualOptions,s=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??i.interactivity).events,o=r.onDiv,l=r.onHover,a=r.onClick,u=Qd("repulse",o);if(!(u||l.enable&&s.position||a.enable&&s.clickPosition))return!1;const d=l.mode,c=a.mode;return ce("repulse",d)||ce("repulse",c)||u}loadModeOptions(e,...n){e.repulse||(e.repulse=new BT);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function jT(t,e=!0){await t.addInteractor("externalRepulse",n=>new UT(t,n),e)}class HT{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class WT extends Ft{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return s.onHover.enable&&!!i.position&&ce("slow",s.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new HT);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,s=n.interactivity.mouse.position,r=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!r||r<0||!s)return;const l=e.getPosition(),a=nt(s,l),u=a/r,d=o.factor,{slow:c}=e;a>r||(c.inRange=!0,c.factor=u/d)}}async function $T(t,e=!0){await t.addInteractor("externalSlow",n=>new WT(n),e)}const qa=[0,4,2,1],Ep=[8,8,4,2];class VT{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,s)=>i+String.fromCharCode(s),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let s=0;(e=this.data[this.pos+s])!==0;s+=e+1)n+=e;const i=new Uint8Array(n);for(let s=0;(e=this.data[this.pos++])!==0;)for(let r=e;--r>=0;i[s++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function n_(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function qT(t,e,n,i){switch(t.nextByte()){case 249:{const s=e.frames[n(!1)];t.pos++;const r=t.nextByte();s.GCreserved=(r&224)>>>5,s.disposalMethod=(r&28)>>>2,s.userInputDelayFlag=(r&2)===2;const o=(r&1)===1;s.delayTime=t.nextTwoBytes()*10;const l=t.nextByte();o&&i(l),t.pos++;break}case 255:{t.pos++;const s={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(s);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function GT(t,e,n,i,s,r){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const l=t.nextByte(),a=(l&128)===128,u=(l&64)===64;o.sortFlag=(l&32)===32,o.reserved=(l&24)>>>3;const d=1<<(l&7)+1;a&&(o.localColorTable=n_(t,d));const c=p=>{const{r:m,g:v,b:_}=(a?o.localColorTable:e.globalColorTable)[p];return{r:m,g:v,b:_,a:p===s(null)?n?~~((m+v+_)/3):0:255}},h=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(p){if(p instanceof DOMException&&p.name==="IndexSizeError")return null;throw p}})();if(h==null)throw new EvalError("GIF frame size is to large");const f=t.nextByte(),g=t.readSubBlocksBin(),y=1<<f,C=(p,m)=>{const v=p>>>3,_=p&7;return(g[v]+(g[v+1]<<8)+(g[v+2]<<16)&(1<<m)-1<<_)>>>_};if(u){for(let p=0,m=f+1,v=0,_=[[0]],x=0;x<4;x++){if(qa[x]<o.height)for(let T=0,b=0;;){const P=p;if(p=C(v,m),v+=m+1,p===y){m=f+1,_.length=y+2;for(let H=0;H<_.length;H++)_[H]=H<y?[H]:[]}else{p>=_.length?_.push(_[P].concat(_[P][0])):P!==y&&_.push(_[P].concat(_[p][0]));for(let H=0;H<_[p].length;H++){const{r:A,g:Ae,b:Dn,a:An}=c(_[p][H]);h.data.set([A,Ae,Dn,An],qa[x]*o.width+Ep[x]*b+T%(o.width*4)),T+=4}_.length===1<<m&&m<12&&m++}if(T===o.width*4*(b+1)&&(b++,qa[x]+Ep[x]*b>=o.height))break}r==null||r(t.pos/(t.data.length-1),i(!1)+1,h,{x:o.left,y:o.top},{width:e.width,height:e.height})}o.image=h,o.bitmap=await createImageBitmap(h)}else{for(let p=0,m=f+1,v=0,_=[[0]],x=-4;;){const T=p;if(p=C(v,m),v+=m,p===y){m=f+1,_.length=y+2;for(let b=0;b<_.length;b++)_[b]=b<y?[b]:[]}else{if(p===y+1)break;p>=_.length?_.push(_[T].concat(_[T][0])):T!==y&&_.push(_[T].concat(_[p][0]));for(let b=0;b<_[p].length;b++){const{r:P,g:H,b:A,a:Ae}=c(_[p][b]);h.data.set([P,H,A,Ae],x+=4)}_.length>=1<<m&&m<12&&m++}}o.image=h,o.bitmap=await createImageBitmap(h),r==null||r((t.pos+1)/t.data.length,i(!1)+1,o.image,{x:o.left,y:o.top},{width:e.width,height:e.height})}}async function QT(t,e,n,i,s,r){switch(t.nextByte()){case 59:return!0;case 44:await GT(t,e,n,i,s,r);break;case 33:await qT(t,e,i,s);break;default:throw new EvalError("undefined block found")}return!1}function YT(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function KT(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const s=await i.arrayBuffer(),r={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new VT(new Uint8ClampedArray(s));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");r.width=o.nextTwoBytes(),r.height=o.nextTwoBytes();const l=o.nextByte(),a=(l&128)===128;r.colorRes=(l&112)>>>4,r.sortFlag=(l&8)===8;const u=1<<(l&7)+1,d=o.nextByte();r.pixelAspectRatio=o.nextByte(),r.pixelAspectRatio!==0&&(r.pixelAspectRatio=(r.pixelAspectRatio+15)/64),a&&(r.globalColorTable=n_(o,u));const c=(()=>{try{return new ImageData(r.width,r.height,{colorSpace:"srgb"})}catch(_){if(_ instanceof DOMException&&_.name==="IndexSizeError")return null;throw _}})();if(c==null)throw new Error("GIF frame size is to large");const{r:h,g:f,b:g}=r.globalColorTable[d];c.data.set(a?[h,f,g,255]:[0,0,0,0]);for(let _=4;_<c.data.length;_*=2)c.data.copyWithin(_,0,_);r.backgroundImage=c;let y=-1,C=!0,p=-1;const m=_=>(_&&(C=!0),y),v=_=>(_!=null&&(p=_),p);try{do C&&(r.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),y++,p=-1,C=!1);while(!await QT(o,r,n,m,v,e));r.frames.length--;for(const _ of r.frames){if(_.userInputDelayFlag&&_.delayTime===0){r.totalTime=1/0;break}r.totalTime+=_.delayTime}return r}catch(_){throw _ instanceof EvalError?new Error(`error while parsing frame ${y} "${_.message}"`):_}}const XT=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function JT(t,e,n){const{svgData:i}=t;if(!i)return"";const s=mr(e,n);if(i.includes("fill"))return i.replace(XT,()=>s);const r=i.indexOf(">");return`${i.substring(0,r)} fill="${s}"${i.substring(r)}`}async function Ul(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,li().error(`${mt} loading image: ${t.source}`),e()}),n.src=t.source})}async function ZT(t){if(t.type!=="gif"){await Ul(t);return}t.loading=!0;try{t.gifData=await KT(t.source),t.gifLoopCount=YT(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function eI(t){if(t.type!=="svg"){await Ul(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(li().error(`${mt} Image not found`),t.error=!0),t.loading=!1}function tI(t,e,n,i){var o;const s=JT(t,n,((o=i.opacity)==null?void 0:o.value)??1),r={color:n,gif:e.gif,data:{...t,svgData:s},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(l=>{const a=new Blob([s],{type:"image/svg+xml"}),u=URL||window.URL||window.webkitURL||window,d=u.createObjectURL(a),c=new Image;c.addEventListener("load",()=>{r.loaded=!0,r.element=c,l(r),u.revokeObjectURL(d)}),c.addEventListener("error",async()=>{u.revokeObjectURL(d);const h={...t,error:!1,loading:!0};await Ul(h),r.loaded=!0,r.element=h.element,l(r)}),c.src=d})}class nI{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${mt} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,s,r){const o=n.image,l=o==null?void 0:o.element;if(o){if(e.globalAlpha=s,o.gif&&o.gifData){const a=new OffscreenCanvas(o.gifData.width,o.gifData.height),u=a.getContext("2d");if(!u)throw new Error("could not create offscreen canvas context");u.imageSmoothingQuality="low",u.imageSmoothingEnabled=!1,u.clearRect(0,0,a.width,a.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let d=n.gifFrame??0;const c={x:-o.gifData.width*.5,y:-o.gifData.height*.5},h=o.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!h.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),h.disposalMethod){case 4:case 5:case 6:case 7:case 0:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height);break;case 1:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y);break;case 2:u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height),o.gifData.globalColorTable.length===0?u.putImageData(o.gifData.frames[0].image,c.x+h.left,c.y+h.top):u.putImageData(o.gifData.backgroundImage,c.x,c.y);break;case 3:{const f=u.getImageData(0,0,a.width,a.height);u.drawImage(h.bitmap,h.left,h.top),e.drawImage(a,c.x,c.y),u.clearRect(0,0,a.width,a.height),u.putImageData(f,0,0)}break}if(n.gifTime+=r.value,n.gifTime>h.delayTime){if(n.gifTime-=h.delayTime,++d>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,u.clearRect(0,0,a.width,a.height)}n.gifFrame=d}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(l){const a=o.ratio,u={x:-i,y:-i};e.drawImage(l,u.x,u.y,i*2,i*2/a)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(s=>s.name===n.name||s.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,s=n.shapeData,r=n.getFillColor(),o=i.find(a=>a.name===s.name||a.source===s.src);if(!o)return;const l=s.replaceColor??s.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let a;o.svgData&&r?a=await tI(o,s,r,n):a={color:r,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:s.width&&s.height?s.width/s.height:o.ratio??1,replaceColor:l,source:s.src},a.ratio||(a.ratio=1);const u=s.fill??n.fill,d=s.close??n.close,c={image:a,fill:u,close:d};n.image=c.image,n.fill=c.fill,n.close=c.close})()}}class iI{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class sI{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const s of n.preload){const r=i.find(o=>o.name===s.name||o.src===s.src);if(r)r.load(s);else{const o=new iI;o.load(s),i.push(o)}}}needsPlugin(){return!0}}function rI(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${mt} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?ZT:e.replaceColor?eI:Ul)(n)}catch{throw new Error(`${mt} ${e.name??e.src} not found`)}})}async function oI(t,e=!0){rI(t);const n=new sI(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new nI(t),e)}class lI extends Mn{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class aI extends Mn{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class uI{constructor(){this.count=0,this.delay=new lI,this.duration=new aI}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class cI{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,s=i.life;s&&(e.life={delay:n.retina.reduceFactor?N(s.delay.value)*(s.delay.sync?1:Z())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?N(s.duration.value)*(s.duration.sync?1:Z())/n.retina.reduceFactor*1e3:0,time:0,count:s.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new uI);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let s=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)s=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(s?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const r=this.container.canvas.size,o=D(0,r.width),l=D(0,r.width);e.position.x=Ve(o),e.position.y=Ve(l),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const a=e.options.life;a&&(i.delay=N(a.delay.value)*1e3,i.duration=N(a.duration.value)*1e3)}}async function dI(t,e=!0){await t.addParticleUpdater("life",n=>new cI(n),e)}class hI{draw(e,n,i){const s=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(s==null?void 0:s.cap)??"butt"}getSidesCount(){return 1}}async function fI(t,e=!0){await t.addShape("line",new hI,e)}class pI{init(){}isEnabled(e){return!Zi()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,s=i.interactivity.events.onHover.parallax;if(Zi()||!s.enable)return;const r=s.force,o=n.interactivity.mouse.position;if(!o)return;const l=n.canvas.size,a={x:l.width/2,y:l.height/2},u=s.smooth,d=e.getRadius()/r,c={x:(o.x-a.x)*d,y:(o.y-a.y)*d},{offset:h}=e;h.x+=(c.x-h.x)/u,h.y+=(c.y-h.y)/u}}async function mI(t,e=!0){await t.addMover("parallax",()=>new pI,e)}class gI extends Xd{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,s=e.getPosition(),r=n.particles.quadTree.queryCircle(s,i);for(const o of r){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:a,dy:u}=Fe(s,l),d=e.options.move.attract.rotate,c=a/(d.x*1e3),h=u/(d.y*1e3),f=o.size.value/e.size.value,g=1/f;e.velocity.x-=c*f,e.velocity.y-=h*f,o.velocity.x+=c*g,o.velocity.y+=h*g}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function yI(t,e=!0){await t.addInteractor("particlesAttract",n=>new gI(n),e)}function Sp(t,e,n,i,s,r){const o=Pt(t.options.collisions.absorb.speed*s.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=r&&(n.size.value=0,n.destroy())}function vI(t,e,n,i){const s=t.getRadius(),r=e.getRadius();s===void 0&&r!==void 0?t.destroy():s!==void 0&&r===void 0?e.destroy():s!==void 0&&r!==void 0&&(s>=r?Sp(t,s,e,r,n,i):Sp(e,r,t,s,n,i))}const xp=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=N(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function i_(t,e){Dv(pc(t),pc(e)),xp(t),xp(e)}function _I(t,e){!t.unbreakable&&!e.unbreakable&&i_(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function wI(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{vI(t,e,n,i);break}case"bounce":{i_(t,e);break}case"destroy":{_I(t,e);break}}}class CI extends Xd{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,s=e.getPosition(),r=e.getRadius(),o=i.particles.quadTree.queryCircle(s,r*2);for(const l of o){if(e===l||!l.options.collisions.enable||e.options.collisions.mode!==l.options.collisions.mode||l.destroyed||l.spawning)continue;const a=l.getPosition(),u=l.getRadius();if(Math.abs(Math.round(s.z)-Math.round(a.z))>r+u)continue;const d=nt(s,a),c=r+u;d>c||wI(e,l,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function EI(t,e=!0){await t.addInteractor("particlesCollisions",n=>new CI(n),e)}class SI extends Me{constructor(e,n,i,s){super(e,n,i),this.canvasSize=s,this.canvasSize={...s}}contains(e){const{width:n,height:i}=this.canvasSize,{x:s,y:r}=e;return super.contains(e)||super.contains({x:s-n,y:r})||super.contains({x:s-n,y:r-i})||super.contains({x:s,y:r-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,s={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const r=new Me(s.x,s.y,i.radius*2);return super.intersects(r)}else if(n.size!==void 0){const r=new Nt(s.x,s.y,n.size.width*2,n.size.height*2);return super.intersects(r)}return!1}}class xI{constructor(){this.blur=5,this.color=new be,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=be.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class kI{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=be.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class bI{constructor(){this.blink=!1,this.color=new be,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new xI,this.triangles=new kI,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=be.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function TI(t,e,n,i,s){const{dx:r,dy:o,distance:l}=Fe(t,e);if(!s||l<=n)return l;const a={x:Math.abs(r),y:Math.abs(o)},u={x:Math.min(a.x,i.width-a.x),y:Math.min(a.y,i.height-a.y)};return Math.sqrt(u.x**2+u.y**2)}class II extends Xd{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,s=n.options.links;let r=s.id===void 0?i.particles.linksColor:i.particles.linksColors.get(s.id);if(r)return;const o=s.color;r=Hv(o,s.blink,s.consent),s.id===void 0?i.particles.linksColor=r:i.particles.linksColors.set(s.id,r)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,s=i.canvas.size;if(n.x<0||n.y<0||n.x>s.width||n.y>s.height)return;const r=e.options.links,o=r.opacity,l=e.retina.linksDistance??0,a=r.warp,u=a?new SI(n.x,n.y,l,s):new Me(n.x,n.y,l),d=i.particles.quadTree.query(u);for(const c of d){const h=c.options.links;if(e===c||!(h!=null&&h.enable)||r.id!==h.id||c.spawning||c.destroyed||!c.links||e.links.some(C=>C.destination===c)||c.links.some(C=>C.destination===e))continue;const f=c.getPosition();if(f.x<0||f.y<0||f.x>s.width||f.y>s.height)continue;const g=TI(n,f,l,s,a&&h.warp);if(g>l)continue;const y=(1-g/l)*o;this._setColor(e),e.links.push({destination:c,opacity:y})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new bI);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function RI(t,e=!0){await t.addInteractor("particlesLinks",n=>new II(n),e)}function PI(t){let e=!1;const{begin:n,end:i,maxDistance:s,context:r,canvasSize:o,width:l,backgroundMask:a,colorLine:u,opacity:d,links:c}=t;if(nt(n,i)<=s)Us(r,n,i),e=!0;else if(c.warp){let f,g;const y={x:i.x-o.width,y:i.y},C=Fe(n,y);if(C.distance<=s){const p=n.y-C.dy/C.dx*n.x;f={x:0,y:p},g={x:o.width,y:p}}else{const p={x:i.x,y:i.y-o.height},m=Fe(n,p);if(m.distance<=s){const _=-(n.y-m.dy/m.dx*n.x)/(m.dy/m.dx);f={x:_,y:0},g={x:_,y:o.height}}else{const v={x:i.x-o.width,y:i.y-o.height},_=Fe(n,v);if(_.distance<=s){const x=n.y-_.dy/_.dx*n.x;f={x:-x/(_.dy/_.dx),y:x},g={x:f.x+o.width,y:f.y+o.height}}}}f&&g&&(Us(r,n,f),Us(r,i,g),e=!0)}if(!e)return;r.lineWidth=l,a.enable&&(r.globalCompositeOperation=a.composite),r.strokeStyle=Qt(u,d);const{shadow:h}=c;if(h.enable){const f=It(h.color);f&&(r.shadowBlur=h.blur,r.shadowColor=Qt(f))}r.stroke()}function NI(t){const{context:e,pos1:n,pos2:i,pos3:s,backgroundMask:r,colorTriangle:o,opacityTriangle:l}=t;dk(e,n,i,s),r.enable&&(e.globalCompositeOperation=r.composite),e.fillStyle=Qt(o,l),e.fill()}function OI(t){return t.sort((e,n)=>e-n),t.join("_")}function kp(t,e){const n=OI(t.map(s=>s.id));let i=e.get(n);return i===void 0&&(i=Z(),e.set(n,i)),i}class MI{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const r=this.container,o=r.actualOptions,l=i.destination,a=n.getPosition(),u=l.getPosition();let d=i.opacity;r.canvas.draw(c=>{var p;let h;const f=(p=n.options.twinkle)==null?void 0:p.lines;if(f!=null&&f.enable){const m=f.frequency,v=It(f.color);Z()<m&&v&&(h=v,d=N(f.opacity))}if(!h){const m=s.id!==void 0?r.particles.linksColors.get(s.id):r.particles.linksColor;h=mc(n,l,m)}if(!h)return;const g=n.retina.linksWidth??0,y=n.retina.linksDistance??0,{backgroundMask:C}=o;PI({context:c,width:g,begin:a,end:u,maxDistance:y,canvasSize:r.canvas.size,links:s,backgroundMask:C,colorLine:h,opacity:d})})},this._drawLinkTriangle=(n,i,s)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const o=r.triangles;if(!o.enable)return;const l=this.container,a=l.actualOptions,u=i.destination,d=s.destination,c=o.opacity??(i.opacity+s.opacity)/2;c<=0||l.canvas.draw(h=>{const f=n.getPosition(),g=u.getPosition(),y=d.getPosition(),C=n.retina.linksDistance??0;if(nt(f,g)>C||nt(y,g)>C||nt(y,f)>C)return;let p=It(o.color);if(!p){const m=r.id!==void 0?l.particles.linksColors.get(r.id):l.particles.linksColor;p=mc(n,u,m)}p&&NI({context:h,pos1:f,pos2:g,pos3:y,backgroundMask:a.backgroundMask,colorTriangle:p,opacityTriangle:c})})},this._drawTriangles=(n,i,s,r)=>{var a,u,d;const o=s.destination;if(!((a=n.links)!=null&&a.triangles.enable&&((u=o.options.links)!=null&&u.triangles.enable)))return;const l=(d=o.links)==null?void 0:d.filter(c=>{const h=this._getLinkFrequency(o,c.destination);return o.options.links&&h<=o.options.links.frequency&&r.findIndex(f=>f.destination===c.destination)>=0});if(l!=null&&l.length)for(const c of l){const h=c.destination;this._getTriangleFrequency(i,o,h)>n.links.triangles.frequency||this._drawLinkTriangle(i,s,c)}},this._getLinkFrequency=(n,i)=>kp([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,s)=>kp([n,i,s],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:s}=n;if(!i||i.length<=0)return;const r=i.filter(o=>s.links&&this._getLinkFrequency(n,o.destination)<=s.links.frequency);for(const o of r)this._drawTriangles(s,n,o,r),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:s,width:r}=e.options.links;i.linksDistance=s*n,i.linksWidth=r*n}particleDestroyed(e){e.links=[]}}class DI{constructor(){this.id="links"}getPlugin(e){return new MI(e)}loadOptions(){}needsPlugin(){return!0}}async function AI(t,e=!0){const n=new DI;await t.addPlugin(n,e)}async function LI(t,e=!0){await RI(t,e),await AI(t,e)}class s_{draw(e,n,i){const s=this.getCenter(n,i),r=this.getSidesData(n,i),o=r.count.numerator*r.count.denominator,l=r.count.numerator/r.count.denominator,a=180*(l-2)/l,u=Math.PI-Math.PI*a/180;if(e){e.beginPath(),e.translate(s.x,s.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(r.length,0),e.translate(r.length,0),e.rotate(u)}}getSidesCount(e){const n=e.shapeData;return Math.round(N((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class zI extends s_{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class FI extends s_{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function BI(t,e=!0){await t.addShape("polygon",new zI,e)}async function UI(t,e=!0){await t.addShape("triangle",new FI,e)}async function jI(t,e=!0){await BI(t,e),await UI(t,e)}class HI{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=D(e.speed)),e.decay!==void 0&&(this.decay=D(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class WI extends Mn{constructor(){super(),this.animation=new HI,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function $I(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const s=i.animation,r=(n.velocity??0)*e.factor,o=2*Math.PI,l=n.decay??1;if(s.enable){switch(n.status){case"increasing":n.value+=r,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=r,n.value<0&&(n.value+=o);break}n.velocity&&l!==1&&(n.velocity*=l)}}class VI{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:N(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(Z()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const s=n.animation;s.enable&&(e.rotate.decay=1-N(s.decay),e.rotate.velocity=N(s.speed)/360*this.container.retina.reduceFactor,s.sync||(e.rotate.velocity*=Z())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new WI);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&($I(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function qI(t,e=!0){await t.addParticleUpdater("rotate",n=>new VI(n),e)}const GI=Math.sqrt(2);class QI{draw(e,n,i){const s=i/GI,r=s*2;e.rect(-s,-s,r,r)}getSidesCount(){return 4}}async function YI(t,e=!0){await t.addShape(["edge","square"],new QI,e)}class KI{draw(e,n,i){const s=n.sides,r=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(0,0-i*r),e.rotate(Math.PI/s),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(N((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,s=N((i==null?void 0:i.inset)??2);n.starInset=s}}async function XI(t,e=!0){await t.addShape("star",new KI,e)}function Ga(t,e,n,i,s){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const r=Ve(n.offset),o=(e.velocity??0)*t.factor+r*3.6,l=e.decay??1;!s||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,s&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&l!==1&&(e.velocity*=l),e.value>i&&(e.value%=i)}function JI(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:s}=t.strokeColor,{h:r,s:o,l}=t.strokeAnimation;n&&Ga(e,n,r,360,!1),i&&Ga(e,i,o,100,!0),s&&Ga(e,s,l,100,!0)}class ZI{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,s=Gt(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=N(s.width)*n.retina.pixelRatio,e.strokeOpacity=N(s.opacity??1),e.strokeAnimation=(o=s.color)==null?void 0:o.animation;const r=pr(s.color)??e.getFillColor();r&&(e.strokeColor=Wv(r,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&JI(e,n)}}async function eR(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new ZI(n),e)}const po=["text","character","char"];class tR{draw(e,n,i,s){const r=n.shapeData;if(r===void 0)return;const o=r.value;if(o===void 0)return;n.text===void 0&&(n.text=Gt(o,n.randomIndexData));const l=n.text,a=r.style??"",u=r.weight??"400",d=Math.round(i)*2,c=r.font??"Verdana",h=n.fill,f=l.length*i/2;e.font=`${a} ${u} ${d}px "${c}"`;const g={x:-f,y:i/2};e.globalAlpha=s,h?e.fillText(l,g.x,g.y):e.strokeText(l,g.x,g.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(po.find(i=>ce(i,n.particles.shape.type))){const i=po.map(r=>n.particles.shape.options[r]).find(r=>!!r),s=[];Ee(i,r=>{s.push(nk(r.font,r.weight))}),await Promise.all(s)}}particleInit(e,n){if(!n.shape||!po.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const s=i.value;s!==void 0&&(n.text=Gt(s,n.randomIndexData))}}async function nR(t,e=!0){await t.addShape(po,new tR,e)}async function iR(t,e=!0){Ib(t),await mI(t,!1),await aT(t,!1),await dT(t,!1),await mT(t,!1),await ST(t,!1),await RT(t,!1),await NT(t,!1),await DT(t,!1),await zT(t,!1),await jT(t,!1),await $T(t,!1),await yI(t,!1),await EI(t,!1),await LI(t,!1),await rT(),await oI(t,!1),await fI(t,!1),await jI(t,!1),await YI(t,!1),await XI(t,!1),await nR(t,!1),await dI(t,!1),await qI(t,!1),await eR(t,!1),await sT(t,e)}function sR(){const t=async n=>{await iR(n)},e=n=>{};return E.jsx(Jv,{id:"tsparticles",init:t,loaded:e,options:{fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:{default:"bounce"},random:!1,speed:6,straight:!1},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}})}const rR="/assets/rain-Bxx1SGiZ.mp4",oR="/assets/sunny-Dy7yOqv5.mp4";function lR({isRaining:t}){const e=t?rR:oR;return E.jsx("div",{className:"bgContainer",children:E.jsx("div",{className:"overlay",children:E.jsx("video",{src:e,autoPlay:!0,loop:!0,muted:!0})})})}function r_(t,e){return function(){return t.apply(e,arguments)}}const{toString:aR}=Object.prototype,{getPrototypeOf:Jd}=Object,jl=(t=>e=>{const n=aR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=t=>(t=t.toLowerCase(),e=>jl(e)===t),Hl=t=>e=>typeof e===t,{isArray:as}=Array,yr=Hl("undefined");function uR(t){return t!==null&&!yr(t)&&t.constructor!==null&&!yr(t.constructor)&&ht(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const o_=Bt("ArrayBuffer");function cR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&o_(t.buffer),e}const dR=Hl("string"),ht=Hl("function"),l_=Hl("number"),Wl=t=>t!==null&&typeof t=="object",hR=t=>t===!0||t===!1,mo=t=>{if(jl(t)!=="object")return!1;const e=Jd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fR=Bt("Date"),pR=Bt("File"),mR=Bt("Blob"),gR=Bt("FileList"),yR=t=>Wl(t)&&ht(t.pipe),vR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ht(t.append)&&((e=jl(t))==="formdata"||e==="object"&&ht(t.toString)&&t.toString()==="[object FormData]"))},_R=Bt("URLSearchParams"),wR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nr(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,s;if(typeof t!="object"&&(t=[t]),as(t))for(i=0,s=t.length;i<s;i++)e.call(null,t[i],i,t);else{const r=n?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let l;for(i=0;i<o;i++)l=r[i],e.call(null,t[l],l,t)}}function a_(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,s;for(;i-- >0;)if(s=n[i],e===s.toLowerCase())return s;return null}const u_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,c_=t=>!yr(t)&&t!==u_;function gc(){const{caseless:t}=c_(this)&&this||{},e={},n=(i,s)=>{const r=t&&a_(e,s)||s;mo(e[r])&&mo(i)?e[r]=gc(e[r],i):mo(i)?e[r]=gc({},i):as(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Nr(arguments[i],n);return e}const CR=(t,e,n,{allOwnKeys:i}={})=>(Nr(e,(s,r)=>{n&&ht(s)?t[r]=r_(s,n):t[r]=s},{allOwnKeys:i}),t),ER=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),SR=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},xR=(t,e,n,i)=>{let s,r,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),r=s.length;r-- >0;)o=s[r],(!i||i(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&Jd(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},bR=t=>{if(!t)return null;if(as(t))return t;let e=t.length;if(!l_(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},TR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jd(Uint8Array)),IR=(t,e)=>{const i=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(t,r[0],r[1])}},RR=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},PR=Bt("HTMLFormElement"),NR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,s){return i.toUpperCase()+s}),bp=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),OR=Bt("RegExp"),d_=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};Nr(n,(s,r)=>{let o;(o=e(s,r,t))!==!1&&(i[r]=o||s)}),Object.defineProperties(t,i)},MR=t=>{d_(t,(e,n)=>{if(ht(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(ht(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},DR=(t,e)=>{const n={},i=s=>{s.forEach(r=>{n[r]=!0})};return as(t)?i(t):i(String(t).split(e)),n},AR=()=>{},LR=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Qa="abcdefghijklmnopqrstuvwxyz",Tp="0123456789",h_={DIGIT:Tp,ALPHA:Qa,ALPHA_DIGIT:Qa+Qa.toUpperCase()+Tp},zR=(t=16,e=h_.ALPHA_DIGIT)=>{let n="";const{length:i}=e;for(;t--;)n+=e[Math.random()*i|0];return n};function FR(t){return!!(t&&ht(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const BR=t=>{const e=new Array(10),n=(i,s)=>{if(Wl(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=as(i)?[]:{};return Nr(i,(o,l)=>{const a=n(o,s+1);!yr(a)&&(r[l]=a)}),e[s]=void 0,r}}return i};return n(t,0)},UR=Bt("AsyncFunction"),jR=t=>t&&(Wl(t)||ht(t))&&ht(t.then)&&ht(t.catch),w={isArray:as,isArrayBuffer:o_,isBuffer:uR,isFormData:vR,isArrayBufferView:cR,isString:dR,isNumber:l_,isBoolean:hR,isObject:Wl,isPlainObject:mo,isUndefined:yr,isDate:fR,isFile:pR,isBlob:mR,isRegExp:OR,isFunction:ht,isStream:yR,isURLSearchParams:_R,isTypedArray:TR,isFileList:gR,forEach:Nr,merge:gc,extend:CR,trim:wR,stripBOM:ER,inherits:SR,toFlatObject:xR,kindOf:jl,kindOfTest:Bt,endsWith:kR,toArray:bR,forEachEntry:IR,matchAll:RR,isHTMLForm:PR,hasOwnProperty:bp,hasOwnProp:bp,reduceDescriptors:d_,freezeMethods:MR,toObjectSet:DR,toCamelCase:NR,noop:AR,toFiniteNumber:LR,findKey:a_,global:u_,isContextDefined:c_,ALPHABET:h_,generateString:zR,isSpecCompliantForm:FR,toJSONObject:BR,isAsyncFn:UR,isThenable:jR};function j(t,e,n,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),s&&(this.response=s)}w.inherits(j,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:w.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const f_=j.prototype,p_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{p_[t]={value:t}});Object.defineProperties(j,p_);Object.defineProperty(f_,"isAxiosError",{value:!0});j.from=(t,e,n,i,s,r)=>{const o=Object.create(f_);return w.toFlatObject(t,o,function(a){return a!==Error.prototype},l=>l!=="isAxiosError"),j.call(o,t.message,e,n,i,s),o.cause=t,o.name=t.name,r&&Object.assign(o,r),o};const HR=null;function yc(t){return w.isPlainObject(t)||w.isArray(t)}function m_(t){return w.endsWith(t,"[]")?t.slice(0,-2):t}function Ip(t,e,n){return t?t.concat(e).map(function(s,r){return s=m_(s),!n&&r?"["+s+"]":s}).join(n?".":""):e}function WR(t){return w.isArray(t)&&!t.some(yc)}const $R=w.toFlatObject(w,{},null,function(e){return/^is[A-Z]/.test(e)});function $l(t,e,n){if(!w.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=w.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,C){return!w.isUndefined(C[y])});const i=n.metaTokens,s=n.visitor||d,r=n.dots,o=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&w.isSpecCompliantForm(e);if(!w.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(w.isDate(g))return g.toISOString();if(!a&&w.isBlob(g))throw new j("Blob is not supported. Use a Buffer instead.");return w.isArrayBuffer(g)||w.isTypedArray(g)?a&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,y,C){let p=g;if(g&&!C&&typeof g=="object"){if(w.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(w.isArray(g)&&WR(g)||(w.isFileList(g)||w.endsWith(y,"[]"))&&(p=w.toArray(g)))return y=m_(y),p.forEach(function(v,_){!(w.isUndefined(v)||v===null)&&e.append(o===!0?Ip([y],_,r):o===null?y:y+"[]",u(v))}),!1}return yc(g)?!0:(e.append(Ip(C,y,r),u(g)),!1)}const c=[],h=Object.assign($R,{defaultVisitor:d,convertValue:u,isVisitable:yc});function f(g,y){if(!w.isUndefined(g)){if(c.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));c.push(g),w.forEach(g,function(p,m){(!(w.isUndefined(p)||p===null)&&s.call(e,p,w.isString(m)?m.trim():m,y,h))===!0&&f(p,y?y.concat(m):[m])}),c.pop()}}if(!w.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Rp(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Zd(t,e){this._pairs=[],t&&$l(t,this,e)}const g_=Zd.prototype;g_.append=function(e,n){this._pairs.push([e,n])};g_.toString=function(e){const n=e?function(i){return e.call(this,i,Rp)}:Rp;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function VR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function y_(t,e,n){if(!e)return t;const i=n&&n.encode||VR,s=n&&n.serialize;let r;if(s?r=s(e,n):r=w.isURLSearchParams(e)?e.toString():new Zd(e,n).toString(i),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class Pp{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){w.forEach(this.handlers,function(i){i!==null&&e(i)})}}const v_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},qR=typeof URLSearchParams<"u"?URLSearchParams:Zd,GR=typeof FormData<"u"?FormData:null,QR=typeof Blob<"u"?Blob:null,YR={isBrowser:!0,classes:{URLSearchParams:qR,FormData:GR,Blob:QR},protocols:["http","https","file","blob","url","data"]},__=typeof window<"u"&&typeof document<"u",KR=(t=>__&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),XR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:__,hasStandardBrowserEnv:KR,hasStandardBrowserWebWorkerEnv:XR},Symbol.toStringTag,{value:"Module"})),At={...JR,...YR};function ZR(t,e){return $l(t,new At.classes.URLSearchParams,Object.assign({visitor:function(n,i,s,r){return At.isNode&&w.isBuffer(n)?(this.append(i,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function eP(t){return w.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tP(t){const e={},n=Object.keys(t);let i;const s=n.length;let r;for(i=0;i<s;i++)r=n[i],e[r]=t[r];return e}function w_(t){function e(n,i,s,r){let o=n[r++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),a=r>=n.length;return o=!o&&w.isArray(s)?s.length:o,a?(w.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!l):((!s[o]||!w.isObject(s[o]))&&(s[o]=[]),e(n,i,s[o],r)&&w.isArray(s[o])&&(s[o]=tP(s[o])),!l)}if(w.isFormData(t)&&w.isFunction(t.entries)){const n={};return w.forEachEntry(t,(i,s)=>{e(eP(i),s,n,0)}),n}return null}function nP(t,e,n){if(w.isString(t))try{return(e||JSON.parse)(t),w.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const eh={transitional:v_,adapter:["xhr","http"],transformRequest:[function(e,n){const i=n.getContentType()||"",s=i.indexOf("application/json")>-1,r=w.isObject(e);if(r&&w.isHTMLForm(e)&&(e=new FormData(e)),w.isFormData(e))return s?JSON.stringify(w_(e)):e;if(w.isArrayBuffer(e)||w.isBuffer(e)||w.isStream(e)||w.isFile(e)||w.isBlob(e))return e;if(w.isArrayBufferView(e))return e.buffer;if(w.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return ZR(e,this.formSerializer).toString();if((l=w.isFileList(e))||i.indexOf("multipart/form-data")>-1){const a=this.env&&this.env.FormData;return $l(l?{"files[]":e}:e,a&&new a,this.formSerializer)}}return r||s?(n.setContentType("application/json",!1),nP(e)):e}],transformResponse:[function(e){const n=this.transitional||eh.transitional,i=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&w.isString(e)&&(i&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?j.from(l,j.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:At.classes.FormData,Blob:At.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};w.forEach(["delete","get","head","post","put","patch"],t=>{eh.headers[t]={}});const th=eh,iP=w.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sP=t=>{const e={};let n,i,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!n||e[n]&&iP[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Np=Symbol("internals");function Cs(t){return t&&String(t).trim().toLowerCase()}function go(t){return t===!1||t==null?t:w.isArray(t)?t.map(go):String(t)}function rP(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const oP=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ya(t,e,n,i,s){if(w.isFunction(i))return i.call(this,e,n);if(s&&(e=n),!!w.isString(e)){if(w.isString(i))return e.indexOf(i)!==-1;if(w.isRegExp(i))return i.test(e)}}function lP(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function aP(t,e){const n=w.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class Vl{constructor(e){e&&this.set(e)}set(e,n,i){const s=this;function r(l,a,u){const d=Cs(a);if(!d)throw new Error("header name must be a non-empty string");const c=w.findKey(s,d);(!c||s[c]===void 0||u===!0||u===void 0&&s[c]!==!1)&&(s[c||a]=go(l))}const o=(l,a)=>w.forEach(l,(u,d)=>r(u,d,a));return w.isPlainObject(e)||e instanceof this.constructor?o(e,n):w.isString(e)&&(e=e.trim())&&!oP(e)?o(sP(e),n):e!=null&&r(n,e,i),this}get(e,n){if(e=Cs(e),e){const i=w.findKey(this,e);if(i){const s=this[i];if(!n)return s;if(n===!0)return rP(s);if(w.isFunction(n))return n.call(this,s,i);if(w.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Cs(e),e){const i=w.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||Ya(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let s=!1;function r(o){if(o=Cs(o),o){const l=w.findKey(i,o);l&&(!n||Ya(i,i[l],l,n))&&(delete i[l],s=!0)}}return w.isArray(e)?e.forEach(r):r(e),s}clear(e){const n=Object.keys(this);let i=n.length,s=!1;for(;i--;){const r=n[i];(!e||Ya(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const n=this,i={};return w.forEach(this,(s,r)=>{const o=w.findKey(i,r);if(o){n[o]=go(s),delete n[r];return}const l=e?lP(r):String(r).trim();l!==r&&delete n[r],n[l]=go(s),i[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return w.forEach(this,(i,s)=>{i!=null&&i!==!1&&(n[s]=e&&w.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[Np]=this[Np]={accessors:{}}).accessors,s=this.prototype;function r(o){const l=Cs(o);i[l]||(aP(s,o),i[l]=!0)}return w.isArray(e)?e.forEach(r):r(e),this}}Vl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);w.reduceDescriptors(Vl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});w.freezeMethods(Vl);const Yt=Vl;function Ka(t,e){const n=this||th,i=e||n,s=Yt.from(i.headers);let r=i.data;return w.forEach(t,function(l){r=l.call(n,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function C_(t){return!!(t&&t.__CANCEL__)}function Or(t,e,n){j.call(this,t??"canceled",j.ERR_CANCELED,e,n),this.name="CanceledError"}w.inherits(Or,j,{__CANCEL__:!0});function uP(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new j("Request failed with status code "+n.status,[j.ERR_BAD_REQUEST,j.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const cP=At.hasStandardBrowserEnv?{write(t,e,n,i,s,r){const o=[t+"="+encodeURIComponent(e)];w.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),w.isString(i)&&o.push("path="+i),w.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function dP(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hP(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function E_(t,e){return t&&!dP(e)?hP(t,e):e}const fP=At.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function s(r){let o=r;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(o){const l=w.isString(o)?s(o):o;return l.protocol===i.protocol&&l.host===i.host}}():function(){return function(){return!0}}();function pP(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mP(t,e){t=t||10;const n=new Array(t),i=new Array(t);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(a){const u=Date.now(),d=i[r];o||(o=u),n[s]=a,i[s]=u;let c=r,h=0;for(;c!==s;)h+=n[c++],c=c%t;if(s=(s+1)%t,s===r&&(r=(r+1)%t),u-o<e)return;const f=d&&u-d;return f?Math.round(h*1e3/f):void 0}}function Op(t,e){let n=0;const i=mP(50,250);return s=>{const r=s.loaded,o=s.lengthComputable?s.total:void 0,l=r-n,a=i(l),u=r<=o;n=r;const d={loaded:r,total:o,progress:o?r/o:void 0,bytes:l,rate:a||void 0,estimated:a&&o&&u?(o-r)/a:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const gP=typeof XMLHttpRequest<"u",yP=gP&&function(t){return new Promise(function(n,i){let s=t.data;const r=Yt.from(t.headers).normalize();let{responseType:o,withXSRFToken:l}=t,a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let d;if(w.isFormData(s)){if(At.hasStandardBrowserEnv||At.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if((d=r.getContentType())!==!1){const[y,...C]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];r.setContentType([y||"multipart/form-data",...C].join("; "))}}let c=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";r.set("Authorization","Basic "+btoa(y+":"+C))}const h=E_(t.baseURL,t.url);c.open(t.method.toUpperCase(),y_(h,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function f(){if(!c)return;const y=Yt.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:y,config:t,request:c};uP(function(v){n(v),u()},function(v){i(v),u()},p),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(i(new j("Request aborted",j.ECONNABORTED,t,c)),c=null)},c.onerror=function(){i(new j("Network Error",j.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||v_;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),i(new j(C,p.clarifyTimeoutError?j.ETIMEDOUT:j.ECONNABORTED,t,c)),c=null},At.hasStandardBrowserEnv&&(l&&w.isFunction(l)&&(l=l(t)),l||l!==!1&&fP(h))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&cP.read(t.xsrfCookieName);y&&r.set(t.xsrfHeaderName,y)}s===void 0&&r.setContentType(null),"setRequestHeader"in c&&w.forEach(r.toJSON(),function(C,p){c.setRequestHeader(p,C)}),w.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",Op(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Op(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=y=>{c&&(i(!y||y.type?new Or(null,t,c):y),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const g=pP(h);if(g&&At.protocols.indexOf(g)===-1){i(new j("Unsupported protocol "+g+":",j.ERR_BAD_REQUEST,t));return}c.send(s||null)})},vc={http:HR,xhr:yP};w.forEach(vc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Mp=t=>`- ${t}`,vP=t=>w.isFunction(t)||t===null||t===!1,S_={getAdapter:t=>{t=w.isArray(t)?t:[t];const{length:e}=t;let n,i;const s={};for(let r=0;r<e;r++){n=t[r];let o;if(i=n,!vP(n)&&(i=vc[(o=String(n)).toLowerCase()],i===void 0))throw new j(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([l,a])=>`adapter ${l} `+(a===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(Mp).join(`
`):" "+Mp(r[0]):"as no adapter specified";throw new j("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:vc};function Xa(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Or(null,t)}function Dp(t){return Xa(t),t.headers=Yt.from(t.headers),t.data=Ka.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),S_.getAdapter(t.adapter||th.adapter)(t).then(function(i){return Xa(t),i.data=Ka.call(t,t.transformResponse,i),i.headers=Yt.from(i.headers),i},function(i){return C_(i)||(Xa(t),i&&i.response&&(i.response.data=Ka.call(t,t.transformResponse,i.response),i.response.headers=Yt.from(i.response.headers))),Promise.reject(i)})}const Ap=t=>t instanceof Yt?{...t}:t;function ts(t,e){e=e||{};const n={};function i(u,d,c){return w.isPlainObject(u)&&w.isPlainObject(d)?w.merge.call({caseless:c},u,d):w.isPlainObject(d)?w.merge({},d):w.isArray(d)?d.slice():d}function s(u,d,c){if(w.isUndefined(d)){if(!w.isUndefined(u))return i(void 0,u,c)}else return i(u,d,c)}function r(u,d){if(!w.isUndefined(d))return i(void 0,d)}function o(u,d){if(w.isUndefined(d)){if(!w.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function l(u,d,c){if(c in e)return i(u,d);if(c in t)return i(void 0,u)}const a={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d)=>s(Ap(u),Ap(d),!0)};return w.forEach(Object.keys(Object.assign({},t,e)),function(d){const c=a[d]||s,h=c(t[d],e[d],d);w.isUndefined(h)&&c!==l||(n[d]=h)}),n}const x_="1.6.8",nh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{nh[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const Lp={};nh.transitional=function(e,n,i){function s(r,o){return"[Axios v"+x_+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,l)=>{if(e===!1)throw new j(s(o," has been removed"+(n?" in "+n:"")),j.ERR_DEPRECATED);return n&&!Lp[o]&&(Lp[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(r,o,l):!0}};function _P(t,e,n){if(typeof t!="object")throw new j("options must be an object",j.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const l=t[r],a=l===void 0||o(l,r,t);if(a!==!0)throw new j("option "+r+" must be "+a,j.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new j("Unknown option "+r,j.ERR_BAD_OPTION)}}const _c={assertOptions:_P,validators:nh},on=_c.validators;class cl{constructor(e){this.defaults=e,this.interceptors={request:new Pp,response:new Pp}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ts(this.defaults,n);const{transitional:i,paramsSerializer:s,headers:r}=n;i!==void 0&&_c.assertOptions(i,{silentJSONParsing:on.transitional(on.boolean),forcedJSONParsing:on.transitional(on.boolean),clarifyTimeoutError:on.transitional(on.boolean)},!1),s!=null&&(w.isFunction(s)?n.paramsSerializer={serialize:s}:_c.assertOptions(s,{encode:on.function,serialize:on.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=r&&w.merge(r.common,r[n.method]);r&&w.forEach(["delete","get","head","post","put","patch","common"],g=>{delete r[g]}),n.headers=Yt.concat(o,r);const l=[];let a=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(a=a&&y.synchronous,l.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,c=0,h;if(!a){const g=[Dp.bind(this),void 0];for(g.unshift.apply(g,l),g.push.apply(g,u),h=g.length,d=Promise.resolve(n);c<h;)d=d.then(g[c++],g[c++]);return d}h=l.length;let f=n;for(c=0;c<h;){const g=l[c++],y=l[c++];try{f=g(f)}catch(C){y.call(this,C);break}}try{d=Dp.call(this,f)}catch(g){return Promise.reject(g)}for(c=0,h=u.length;c<h;)d=d.then(u[c++],u[c++]);return d}getUri(e){e=ts(this.defaults,e);const n=E_(e.baseURL,e.url);return y_(n,e.params,e.paramsSerializer)}}w.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(n,i){return this.request(ts(i||{},{method:e,url:n,data:(i||{}).data}))}});w.forEach(["post","put","patch"],function(e){function n(i){return function(r,o,l){return this.request(ts(l||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}cl.prototype[e]=n(),cl.prototype[e+"Form"]=n(!0)});const yo=cl;class ih{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(l=>{i.subscribe(l),r=l}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,l){i.reason||(i.reason=new Or(r,o,l),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new ih(function(s){e=s}),cancel:e}}}const wP=ih;function CP(t){return function(n){return t.apply(null,n)}}function EP(t){return w.isObject(t)&&t.isAxiosError===!0}const wc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wc).forEach(([t,e])=>{wc[e]=t});const SP=wc;function k_(t){const e=new yo(t),n=r_(yo.prototype.request,e);return w.extend(n,yo.prototype,e,{allOwnKeys:!0}),w.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return k_(ts(t,s))},n}const le=k_(th);le.Axios=yo;le.CanceledError=Or;le.CancelToken=wP;le.isCancel=C_;le.VERSION=x_;le.toFormData=$l;le.AxiosError=j;le.Cancel=le.CanceledError;le.all=function(e){return Promise.all(e)};le.spread=CP;le.isAxiosError=EP;le.mergeConfig=ts;le.AxiosHeaders=Yt;le.formToJSON=t=>w_(w.isHTMLForm(t)?new FormData(t):t);le.getAdapter=S_.getAdapter;le.HttpStatusCode=SP;le.default=le;const sh="https://weather-station123.azurewebsites.net/api/animal",xP=async()=>{try{return(await le.get(`${sh}/GetAll`)).data}catch(t){throw console.error("Error fetching animals",t),t}},kP=async t=>{try{return(await le.post(`${sh}/Create`,t)).data}catch(e){throw console.error("Error creating animal",e),e}},bP=async t=>{try{await le.delete(`${sh}/DeleteById?id=${t}`)}catch(e){throw console.error("Error deleting animal",e),e}},TP=({animals:t,isEditing:e,onAddAnimalClick:n,onDeleteClick:i})=>E.jsxs("div",{className:"cards-container",children:[t.map(s=>E.jsxs("div",{className:"card",children:[E.jsx("div",{className:"card-name",children:s.name}),E.jsxs("div",{className:"card-stats",children:[E.jsx("div",{className:"stat temperature",children:E.jsxs("div",{className:"value",children:[s.minTemperature," - ",s.maxTemperature," (°C)"]})}),E.jsx("div",{className:"stat humidity",children:E.jsxs("div",{className:"value",children:[s.minHumidity," - ",s.maxHumidity," (%)"]})}),E.jsx("div",{className:"stat condition",children:E.jsxs("div",{className:"value",children:["Rain: ",s.rain?"Yes":"No"]})}),E.jsx("div",{className:"stat condition",children:E.jsxs("div",{className:"value",children:["Sunny: ",s.sunny?"Yes":"No"]})}),E.jsx("div",{className:"stat condition",children:E.jsxs("div",{className:"value",children:["Cloudy: ",s.cloudy?"Yes":"No"]})})]}),e&&E.jsx("button",{className:"delete-button",onClick:()=>i(s),children:"✖"})]},s.id)),e&&E.jsx("div",{className:"card add-card",onClick:n,children:E.jsx("div",{className:"add-symbol",children:"+"})})]}),IP=({onCreateAnimal:t,onClose:e})=>{const[n,i]=Xe.useState({name:"",minTemperature:"",maxTemperature:"",minHumidity:"",maxHumidity:"",rain:!1,sunny:!1,cloudy:!1}),s=o=>{const{name:l,value:a,type:u,checked:d}=o.target;i({...n,[l]:u==="checkbox"?d:a})},r=o=>{o.preventDefault(),t(n),e()};return E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h2",{children:"Add New Animal"}),E.jsx("button",{className:"close-button",onClick:e,children:"×"})]}),E.jsx("div",{className:"modal-body",children:E.jsxs("form",{onSubmit:r,children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"name",children:"Name"}),E.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:s,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"minTemperature",children:"Min Temperature (°C)"}),E.jsx("input",{type:"number",id:"minTemperature",name:"minTemperature",value:n.minTemperature,onChange:s,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"maxTemperature",children:"Max Temperature (°C)"}),E.jsx("input",{type:"number",id:"maxTemperature",name:"maxTemperature",value:n.maxTemperature,onChange:s,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"minHumidity",children:"Min Humidity (%)"}),E.jsx("input",{type:"number",id:"minHumidity",name:"minHumidity",value:n.minHumidity,onChange:s,required:!0})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"maxHumidity",children:"Max Humidity (%)"}),E.jsx("input",{type:"number",id:"maxHumidity",name:"maxHumidity",value:n.maxHumidity,onChange:s,required:!0})]}),E.jsxs("div",{className:"form-group checkbox-group",children:[E.jsx("input",{type:"checkbox",id:"rain",name:"rain",checked:n.rain,onChange:s}),E.jsx("label",{htmlFor:"rain",children:"Rain"})]}),E.jsxs("div",{className:"form-group checkbox-group",children:[E.jsx("input",{type:"checkbox",id:"sunny",name:"sunny",checked:n.sunny,onChange:s}),E.jsx("label",{htmlFor:"sunny",children:"Sunny"})]}),E.jsxs("div",{className:"form-group checkbox-group",children:[E.jsx("input",{type:"checkbox",id:"cloudy",name:"cloudy",checked:n.cloudy,onChange:s}),E.jsx("label",{htmlFor:"cloudy",children:"Cloudy"})]}),E.jsxs("div",{className:"form-buttons",children:[E.jsx("button",{type:"submit",className:"submit-button",children:"Add Animal"}),E.jsx("button",{type:"button",className:"cancel-button",onClick:e,children:"Cancel"})]})]})})]})})},RP=({show:t,onClose:e,onConfirm:n})=>t?E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsx("div",{className:"modal-header",children:E.jsx("button",{className:"close-button",onClick:e,children:"×"})}),E.jsx("div",{className:"icon-box",children:E.jsx("div",{className:"icon",children:"✖"})}),E.jsxs("div",{className:"modal-body",children:[E.jsx("h2",{children:"Are you sure?"}),E.jsx("p",{children:"Do you really want to delete these records? This process cannot be undone."}),E.jsxs("div",{className:"modal-actions",children:[E.jsx("button",{className:"popup-cancel-button",onClick:e,children:"Cancel"}),E.jsx("button",{className:"erase-button",onClick:n,children:"Delete"})]})]})]})}):null;function PP(){const[t,e]=Xe.useState(null),[n,i]=Xe.useState([]),[s,r]=Xe.useState(!1),[o,l]=Xe.useState(!1),[a,u]=Xe.useState(!1),[d,c]=Xe.useState(null),f=cy({apiKey:"AIzaSyBme5hGShcyPNOfRCl0HgSNJU5MmOfbg8Q",authDomain:"weather-app-b3426.firebaseapp.com",databaseURL:"https://weather-app-b3426-default-rtdb.europe-west1.firebasedatabase.app",projectId:"weather-app-b3426",storageBucket:"weather-app-b3426.appspot.com",messagingSenderId:"1094701237609",appId:"1:1094701237609:web:64934d37312598df2b29f8"}),g=z1(f);Xe.useEffect(()=>{const _=b1(g,"Status");return I1(_,x=>{const T=x.val();if(console.log("Fetched data:",T),T){const b=Object.values(T).pop();console.log("Latest data:",b),e(b)}}),()=>{R1(_)}},[g]),Xe.useEffect(()=>{(async()=>{try{const x=await xP();i(x)}catch(x){console.error("Failed to fetch animals",x)}})()},[]);const y=async _=>{try{const x=await kP(_);i([...n,x])}catch(x){console.error("Failed to create animal",x)}},C=()=>{r(!s),l(!1)},p=()=>{l(!0)},m=_=>{c(_),u(!0)},v=async()=>{try{const _=d.name;await bP(d.id),i(n.filter(x=>x.id!==d.id)),u(!1),c(null),console.log('"'+_+'" has been deleted')}catch(_){console.error("Failed to delete animal",_)}};return E.jsxs(E.Fragment,{children:[E.jsx(sR,{}),E.jsx(lR,{isRaining:t&&t.rain}),E.jsx("h1",{children:"Weather Data"}),E.jsxs("table",{className:"weather-table",children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:"Temperature (°C)"}),E.jsx("th",{children:"Humidity (%)"}),E.jsx("th",{children:"Date & Time"}),E.jsx("th",{children:"Luminosity"}),E.jsx("th",{children:"Rain"})]})}),E.jsx("tbody",{children:t&&E.jsxs("tr",{children:[E.jsx("td",{children:t.temperature}),E.jsx("td",{children:t.humidity}),E.jsx("td",{children:t.datetime}),E.jsx("td",{children:t.luminosity}),E.jsx("td",{children:t.rain?"Yes":"No"})]})})]}),E.jsx("h1",{children:"Animals"}),E.jsx("button",{className:`edit-button ${s?"cancel-button":""}`,onClick:C,children:s?"Cancel":"Edit"}),o&&E.jsx(IP,{onCreateAnimal:y,onClose:()=>l(!1)}),E.jsx(TP,{animals:n,isEditing:s,onAddAnimalClick:p,onDeleteClick:m}),E.jsx(RP,{show:a,onClose:()=>u(!1),onConfirm:v})]})}Ja.createRoot(document.getElementById("root")).render(E.jsx(PP,{}));
